var Ft=Object.defineProperty;var Dt=(r,e,a)=>e in r?Ft(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a;var jt=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var de=(r,e,a)=>(Dt(r,typeof e!="symbol"?e+"":e,a),a);var Ut=jt((exports,module)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const s of d)if(s.type==="childList")for(const g of s.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function a(d){const s={};return d.integrity&&(s.integrity=d.integrity),d.referrerPolicy&&(s.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?s.credentials="include":d.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(d){if(d.ep)return;d.ep=!0;const s=a(d);fetch(d.href,s)}})();const global$1=globalThis||void 0||self;/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(r,e){const a=new Set(r.split(","));return u=>a.has(u)}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),isModelListener=r=>r.startsWith("onUpdate:"),extend$1=Object.assign,remove=(r,e)=>{const a=r.indexOf(e);a>-1&&r.splice(a,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(r,e)=>hasOwnProperty$1.call(r,e),isArray$1=Array.isArray,isMap=r=>toTypeString(r)==="[object Map]",isSet=r=>toTypeString(r)==="[object Set]",isDate=r=>toTypeString(r)==="[object Date]",isFunction=r=>typeof r=="function",isString=r=>typeof r=="string",isSymbol=r=>typeof r=="symbol",isObject=r=>r!==null&&typeof r=="object",isPromise=r=>(isObject(r)||isFunction(r))&&isFunction(r.then)&&isFunction(r.catch),objectToString=Object.prototype.toString,toTypeString=r=>objectToString.call(r),toRawType=r=>toTypeString(r).slice(8,-1),isPlainObject$1=r=>toTypeString(r)==="[object Object]",isIntegerKey=r=>isString(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=r=>{const e=Object.create(null);return a=>e[a]||(e[a]=r(a))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(r=>r.replace(camelizeRE,(e,a)=>a?a.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(r=>r.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(r=>r.charAt(0).toUpperCase()+r.slice(1)),toHandlerKey=cacheStringFunction(r=>r?`on${capitalize(r)}`:""),hasChanged=(r,e)=>!Object.is(r,e),invokeArrayFns=(r,e)=>{for(let a=0;a<r.length;a++)r[a](e)},def=(r,e,a,u=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:u,value:a})},looseToNumber=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global$1<"u"?global$1:{});function normalizeStyle(r){if(isArray$1(r)){const e={};for(let a=0;a<r.length;a++){const u=r[a],d=isString(u)?parseStringStyle(u):normalizeStyle(u);if(d)for(const s in d)e[s]=d[s]}return e}else if(isString(r)||isObject(r))return r}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(r){const e={};return r.replace(styleCommentRE,"").split(listDelimiterRE).forEach(a=>{if(a){const u=a.split(propertyDelimiterRE);u.length>1&&(e[u[0].trim()]=u[1].trim())}}),e}function normalizeClass(r){let e="";if(isString(r))e=r;else if(isArray$1(r))for(let a=0;a<r.length;a++){const u=normalizeClass(r[a]);u&&(e+=u+" ")}else if(isObject(r))for(const a in r)r[a]&&(e+=a+" ");return e.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(r){return!!r||r===""}function looseCompareArrays(r,e){if(r.length!==e.length)return!1;let a=!0;for(let u=0;a&&u<r.length;u++)a=looseEqual(r[u],e[u]);return a}function looseEqual(r,e){if(r===e)return!0;let a=isDate(r),u=isDate(e);if(a||u)return a&&u?r.getTime()===e.getTime():!1;if(a=isSymbol(r),u=isSymbol(e),a||u)return r===e;if(a=isArray$1(r),u=isArray$1(e),a||u)return a&&u?looseCompareArrays(r,e):!1;if(a=isObject(r),u=isObject(e),a||u){if(!a||!u)return!1;const d=Object.keys(r).length,s=Object.keys(e).length;if(d!==s)return!1;for(const g in r){const x=r.hasOwnProperty(g),_=e.hasOwnProperty(g);if(x&&!_||!x&&_||!looseEqual(r[g],e[g]))return!1}}return String(r)===String(e)}function looseIndexOf(r,e){return r.findIndex(a=>looseEqual(a,e))}const toDisplayString=r=>isString(r)?r:r==null?"":isArray$1(r)||isObject(r)&&(r.toString===objectToString||!isFunction(r.toString))?JSON.stringify(r,replacer,2):String(r),replacer=(r,e)=>e&&e.__v_isRef?replacer(r,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((a,[u,d],s)=>(a[stringifySymbol(u,s)+" =>"]=d,a),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()].map(a=>stringifySymbol(a))}:isSymbol(e)?stringifySymbol(e):isObject(e)&&!isArray$1(e)&&!isPlainObject$1(e)?String(e):e,stringifySymbol=(r,e="")=>{var a;return isSymbol(r)?`Symbol(${(a=r.description)!=null?a:e})`:r};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const a=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=a}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let a,u;for(a=0,u=this.effects.length;a<u;a++)this.effects[a].stop();for(a=0,u=this.cleanups.length;a<u;a++)this.cleanups[a]();if(this.scopes)for(a=0,u=this.scopes.length;a<u;a++)this.scopes[a].stop(!0);if(!this.detached&&this.parent&&!e){const d=this.parent.scopes.pop();d&&d!==this&&(this.parent.scopes[this.index]=d,d.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(r){return new EffectScope(r)}function recordEffectScope(r,e=activeEffectScope){e&&e.active&&e.effects.push(r)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(r){activeEffectScope&&activeEffectScope.cleanups.push(r)}let activeEffect;class ReactiveEffect{constructor(e,a,u,d){this.fn=e,this.trigger=a,this.scheduler=u,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,recordEffectScope(this,d)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,pauseTracking();for(let e=0;e<this._depsLength;e++){const a=this.deps[e];if(a.computed&&(triggerComputed(a.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),resetTracking()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=shouldTrack,a=activeEffect;try{return shouldTrack=!0,activeEffect=this,this._runnings++,preCleanupEffect(this),this.fn()}finally{postCleanupEffect(this),this._runnings--,activeEffect=a,shouldTrack=e}}stop(){this.active&&(preCleanupEffect(this),postCleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function triggerComputed(r){return r.value}function preCleanupEffect(r){r._trackId++,r._depsLength=0}function postCleanupEffect(r){if(r.deps.length>r._depsLength){for(let e=r._depsLength;e<r.deps.length;e++)cleanupDepEffect(r.deps[e],r);r.deps.length=r._depsLength}}function cleanupDepEffect(r,e){const a=r.get(e);a!==void 0&&e._trackId!==a&&(r.delete(e),r.size===0&&r.cleanup())}let shouldTrack=!0,pauseScheduleStack=0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const r=trackStack.pop();shouldTrack=r===void 0?!0:r}function pauseScheduling(){pauseScheduleStack++}function resetScheduling(){for(pauseScheduleStack--;!pauseScheduleStack&&queueEffectSchedulers.length;)queueEffectSchedulers.shift()()}function trackEffect(r,e,a){if(e.get(r)!==r._trackId){e.set(r,r._trackId);const u=r.deps[r._depsLength];u!==e?(u&&cleanupDepEffect(u,r),r.deps[r._depsLength++]=e):r._depsLength++}}const queueEffectSchedulers=[];function triggerEffects(r,e,a){pauseScheduling();for(const u of r.keys()){let d;u._dirtyLevel<e&&(d??(d=r.get(u)===u._trackId))&&(u._shouldSchedule||(u._shouldSchedule=u._dirtyLevel===0),u._dirtyLevel=e),u._shouldSchedule&&(d??(d=r.get(u)===u._trackId))&&(u.trigger(),(!u._runnings||u.allowRecurse)&&u._dirtyLevel!==2&&(u._shouldSchedule=!1,u.scheduler&&queueEffectSchedulers.push(u.scheduler)))}resetScheduling()}const createDep=(r,e)=>{const a=new Map;return a.cleanup=r,a.computed=e,a},targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");function track(r,e,a){if(shouldTrack&&activeEffect){let u=targetMap.get(r);u||targetMap.set(r,u=new Map);let d=u.get(a);d||u.set(a,d=createDep(()=>u.delete(a))),trackEffect(activeEffect,d)}}function trigger(r,e,a,u,d,s){const g=targetMap.get(r);if(!g)return;let x=[];if(e==="clear")x=[...g.values()];else if(a==="length"&&isArray$1(r)){const _=Number(u);g.forEach((S,y)=>{(y==="length"||!isSymbol(y)&&y>=_)&&x.push(S)})}else switch(a!==void 0&&x.push(g.get(a)),e){case"add":isArray$1(r)?isIntegerKey(a)&&x.push(g.get("length")):(x.push(g.get(ITERATE_KEY)),isMap(r)&&x.push(g.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(r)||(x.push(g.get(ITERATE_KEY)),isMap(r)&&x.push(g.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(r)&&x.push(g.get(ITERATE_KEY));break}pauseScheduling();for(const _ of x)_&&triggerEffects(_,4);resetScheduling()}function getDepFromReactive(r,e){const a=targetMap.get(r);return a&&a.get(e)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...a){const u=toRaw(this);for(let s=0,g=this.length;s<g;s++)track(u,"get",s+"");const d=u[e](...a);return d===-1||d===!1?u[e](...a.map(toRaw)):d}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...a){pauseTracking(),pauseScheduling();const u=toRaw(this)[e].apply(this,a);return resetScheduling(),resetTracking(),u}}),r}function hasOwnProperty(r){isSymbol(r)||(r=String(r));const e=toRaw(this);return track(e,"has",r),e.hasOwnProperty(r)}class BaseReactiveHandler{constructor(e=!1,a=!1){this._isReadonly=e,this._isShallow=a}get(e,a,u){const d=this._isReadonly,s=this._isShallow;if(a==="__v_isReactive")return!d;if(a==="__v_isReadonly")return d;if(a==="__v_isShallow")return s;if(a==="__v_raw")return u===(d?s?shallowReadonlyMap:readonlyMap:s?shallowReactiveMap:reactiveMap).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(u)?e:void 0;const g=isArray$1(e);if(!d){if(g&&hasOwn(arrayInstrumentations,a))return Reflect.get(arrayInstrumentations,a,u);if(a==="hasOwnProperty")return hasOwnProperty}const x=Reflect.get(e,a,u);return(isSymbol(a)?builtInSymbols.has(a):isNonTrackableKeys(a))||(d||track(e,"get",a),s)?x:isRef(x)?g&&isIntegerKey(a)?x:x.value:isObject(x)?d?readonly(x):reactive(x):x}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!1,e)}set(e,a,u,d){let s=e[a];if(!this._isShallow){const _=isReadonly(s);if(!isShallow(u)&&!isReadonly(u)&&(s=toRaw(s),u=toRaw(u)),!isArray$1(e)&&isRef(s)&&!isRef(u))return _?!1:(s.value=u,!0)}const g=isArray$1(e)&&isIntegerKey(a)?Number(a)<e.length:hasOwn(e,a),x=Reflect.set(e,a,u,d);return e===toRaw(d)&&(g?hasChanged(u,s)&&trigger(e,"set",a,u):trigger(e,"add",a,u)),x}deleteProperty(e,a){const u=hasOwn(e,a);e[a];const d=Reflect.deleteProperty(e,a);return d&&u&&trigger(e,"delete",a,void 0),d}has(e,a){const u=Reflect.has(e,a);return(!isSymbol(a)||!builtInSymbols.has(a))&&track(e,"has",a),u}ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!0,e)}set(e,a){return!0}deleteProperty(e,a){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=r=>r,getProto=r=>Reflect.getPrototypeOf(r);function get(r,e,a=!1,u=!1){r=r.__v_raw;const d=toRaw(r),s=toRaw(e);a||(hasChanged(e,s)&&track(d,"get",e),track(d,"get",s));const{has:g}=getProto(d),x=u?toShallow:a?toReadonly:toReactive;if(g.call(d,e))return x(r.get(e));if(g.call(d,s))return x(r.get(s));r!==d&&r.get(e)}function has(r,e=!1){const a=this.__v_raw,u=toRaw(a),d=toRaw(r);return e||(hasChanged(r,d)&&track(u,"has",r),track(u,"has",d)),r===d?a.has(r):a.has(r)||a.has(d)}function size(r,e=!1){return r=r.__v_raw,!e&&track(toRaw(r),"iterate",ITERATE_KEY),Reflect.get(r,"size",r)}function add(r){r=toRaw(r);const e=toRaw(this);return getProto(e).has.call(e,r)||(e.add(r),trigger(e,"add",r,r)),this}function set(r,e){e=toRaw(e);const a=toRaw(this),{has:u,get:d}=getProto(a);let s=u.call(a,r);s||(r=toRaw(r),s=u.call(a,r));const g=d.call(a,r);return a.set(r,e),s?hasChanged(e,g)&&trigger(a,"set",r,e):trigger(a,"add",r,e),this}function deleteEntry(r){const e=toRaw(this),{has:a,get:u}=getProto(e);let d=a.call(e,r);d||(r=toRaw(r),d=a.call(e,r)),u&&u.call(e,r);const s=e.delete(r);return d&&trigger(e,"delete",r,void 0),s}function clear(){const r=toRaw(this),e=r.size!==0,a=r.clear();return e&&trigger(r,"clear",void 0,void 0),a}function createForEach(r,e){return function(u,d){const s=this,g=s.__v_raw,x=toRaw(g),_=e?toShallow:r?toReadonly:toReactive;return!r&&track(x,"iterate",ITERATE_KEY),g.forEach((S,y)=>u.call(d,_(S),_(y),s))}}function createIterableMethod(r,e,a){return function(...u){const d=this.__v_raw,s=toRaw(d),g=isMap(s),x=r==="entries"||r===Symbol.iterator&&g,_=r==="keys"&&g,S=d[r](...u),y=a?toShallow:e?toReadonly:toReactive;return!e&&track(s,"iterate",_?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:A,done:R}=S.next();return R?{value:A,done:R}:{value:x?[y(A[0]),y(A[1])]:y(A),done:R}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(r){return function(...e){return r==="delete"?!1:r==="clear"?void 0:this}}function createInstrumentations(){const r={get(s){return get(this,s)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(s){return get(this,s,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},a={get(s){return get(this,s,!0)},get size(){return size(this,!0)},has(s){return has.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},u={get(s){return get(this,s,!0,!0)},get size(){return size(this,!0)},has(s){return has.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=createIterableMethod(s,!1,!1),a[s]=createIterableMethod(s,!0,!1),e[s]=createIterableMethod(s,!1,!0),u[s]=createIterableMethod(s,!0,!0)}),[r,a,e,u]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(r,e){const a=e?r?shallowReadonlyInstrumentations:shallowInstrumentations:r?readonlyInstrumentations:mutableInstrumentations;return(u,d,s)=>d==="__v_isReactive"?!r:d==="__v_isReadonly"?r:d==="__v_raw"?u:Reflect.get(hasOwn(a,d)&&d in u?a:u,d,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(r){return r.__v_skip||!Object.isExtensible(r)?0:targetTypeMap(toRawType(r))}function reactive(r){return isReadonly(r)?r:createReactiveObject(r,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(r){return createReactiveObject(r,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(r){return createReactiveObject(r,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(r){return createReactiveObject(r,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(r,e,a,u,d){if(!isObject(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const s=d.get(r);if(s)return s;const g=getTargetType(r);if(g===0)return r;const x=new Proxy(r,g===2?u:a);return d.set(r,x),x}function isReactive(r){return isReadonly(r)?isReactive(r.__v_raw):!!(r&&r.__v_isReactive)}function isReadonly(r){return!!(r&&r.__v_isReadonly)}function isShallow(r){return!!(r&&r.__v_isShallow)}function isProxy(r){return r?!!r.__v_raw:!1}function toRaw(r){const e=r&&r.__v_raw;return e?toRaw(e):r}function markRaw(r){return Object.isExtensible(r)&&def(r,"__v_skip",!0),r}const toReactive=r=>isObject(r)?reactive(r):r,toReadonly=r=>isObject(r)?readonly(r):r;class ComputedRefImpl{constructor(e,a,u,d){this.getter=e,this._setter=a,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ReactiveEffect(()=>e(this._value),()=>triggerRefValue(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!d,this.__v_isReadonly=u}get value(){const e=toRaw(this);return(!e._cacheable||e.effect.dirty)&&hasChanged(e._value,e._value=e.effect.run())&&triggerRefValue(e,4),trackRefValue(e),e.effect._dirtyLevel>=2&&triggerRefValue(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function computed$1(r,e,a=!1){let u,d;const s=isFunction(r);return s?(u=r,d=NOOP):(u=r.get,d=r.set),new ComputedRefImpl(u,d,s||!d,a)}function trackRefValue(r){var e;shouldTrack&&activeEffect&&(r=toRaw(r),trackEffect(activeEffect,(e=r.dep)!=null?e:r.dep=createDep(()=>r.dep=void 0,r instanceof ComputedRefImpl?r:void 0)))}function triggerRefValue(r,e=4,a){r=toRaw(r);const u=r.dep;u&&triggerEffects(u,e)}function isRef(r){return!!(r&&r.__v_isRef===!0)}function ref$1(r){return createRef(r,!1)}function shallowRef(r){return createRef(r,!0)}function createRef(r,e){return isRef(r)?r:new RefImpl(r,e)}class RefImpl{constructor(e,a){this.__v_isShallow=a,this.dep=void 0,this.__v_isRef=!0,this._rawValue=a?e:toRaw(e),this._value=a?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const a=this.__v_isShallow||isShallow(e)||isReadonly(e);e=a?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=a?e:toReactive(e),triggerRefValue(this,4))}}function unref(r){return isRef(r)?r.value:r}const shallowUnwrapHandlers={get:(r,e,a)=>unref(Reflect.get(r,e,a)),set:(r,e,a,u)=>{const d=r[e];return isRef(d)&&!isRef(a)?(d.value=a,!0):Reflect.set(r,e,a,u)}};function proxyRefs(r){return isReactive(r)?r:new Proxy(r,shallowUnwrapHandlers)}function toRefs(r){const e=isArray$1(r)?new Array(r.length):{};for(const a in r)e[a]=propertyToRef(r,a);return e}class ObjectRefImpl{constructor(e,a,u){this._object=e,this._key=a,this._defaultValue=u,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef(r,e,a){return isRef(r)?r:isFunction(r)?new GetterRefImpl(r):isObject(r)&&arguments.length>1?propertyToRef(r,e,a):ref$1(r)}function propertyToRef(r,e,a){const u=r[e];return isRef(u)?u:new ObjectRefImpl(r,e,a)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];function warn$1(r,...e){pauseTracking();const a=stack.length?stack[stack.length-1].component:null,u=a&&a.appContext.config.warnHandler,d=getComponentTrace();if(u)callWithErrorHandling(u,a,11,[r+e.map(s=>{var g,x;return(x=(g=s.toString)==null?void 0:g.call(s))!=null?x:JSON.stringify(s)}).join(""),a&&a.proxy,d.map(({vnode:s})=>`at <${formatComponentName(a,s.type)}>`).join(`
`),d]);else{const s=[`[Vue warn]: ${r}`,...e];d.length&&s.push(`
`,...formatTrace(d)),console.warn(...s)}resetTracking()}function getComponentTrace(){let r=stack[stack.length-1];if(!r)return[];const e=[];for(;r;){const a=e[0];a&&a.vnode===r?a.recurseCount++:e.push({vnode:r,recurseCount:0});const u=r.component&&r.component.parent;r=u&&u.vnode}return e}function formatTrace(r){const e=[];return r.forEach((a,u)=>{e.push(...u===0?[]:[`
`],...formatTraceEntry(a))}),e}function formatTraceEntry({vnode:r,recurseCount:e}){const a=e>0?`... (${e} recursive calls)`:"",u=r.component?r.component.parent==null:!1,d=` at <${formatComponentName(r.component,r.type,u)}`,s=">"+a;return r.props?[d,...formatProps(r.props),s]:[d+s]}function formatProps(r){const e=[],a=Object.keys(r);return a.slice(0,3).forEach(u=>{e.push(...formatProp(u,r[u]))}),a.length>3&&e.push(" ..."),e}function formatProp(r,e,a){return isString(e)?(e=JSON.stringify(e),a?e:[`${r}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?a?e:[`${r}=${e}`]:isRef(e)?(e=formatProp(r,toRaw(e.value),!0),a?e:[`${r}=Ref<`,e,">"]):isFunction(e)?[`${r}=fn${e.name?`<${e.name}>`:""}`]:(e=toRaw(e),a?e:[`${r}=`,e])}function callWithErrorHandling(r,e,a,u){try{return u?r(...u):r()}catch(d){handleError(d,e,a)}}function callWithAsyncErrorHandling(r,e,a,u){if(isFunction(r)){const d=callWithErrorHandling(r,e,a,u);return d&&isPromise(d)&&d.catch(s=>{handleError(s,e,a)}),d}if(isArray$1(r)){const d=[];for(let s=0;s<r.length;s++)d.push(callWithAsyncErrorHandling(r[s],e,a,u));return d}}function handleError(r,e,a,u=!0){const d=e?e.vnode:null;if(e){let s=e.parent;const g=e.proxy,x=`https://vuejs.org/error-reference/#runtime-${a}`;for(;s;){const S=s.ec;if(S){for(let y=0;y<S.length;y++)if(S[y](r,g,x)===!1)return}s=s.parent}const _=e.appContext.config.errorHandler;if(_){pauseTracking(),callWithErrorHandling(_,null,10,[r,g,x]),resetTracking();return}}logError(r,a,d,u)}function logError(r,e,a,u=!0){console.error(r)}let isFlushing=!1,isFlushPending=!1;const queue$1=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(r){const e=currentFlushPromise||resolvedPromise;return r?e.then(this?r.bind(this):r):e}function findInsertionIndex(r){let e=flushIndex+1,a=queue$1.length;for(;e<a;){const u=e+a>>>1,d=queue$1[u],s=getId(d);s<r||s===r&&d.pre?e=u+1:a=u}return e}function queueJob(r){(!queue$1.length||!queue$1.includes(r,isFlushing&&r.allowRecurse?flushIndex+1:flushIndex))&&(r.id==null?queue$1.push(r):queue$1.splice(findInsertionIndex(r.id),0,r),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(r){const e=queue$1.indexOf(r);e>flushIndex&&queue$1.splice(e,1)}function queuePostFlushCb(r){isArray$1(r)?pendingPostFlushCbs.push(...r):(!activePostFlushCbs||!activePostFlushCbs.includes(r,r.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(r),queueFlush()}function flushPreFlushCbs(r,e,a=isFlushing?flushIndex+1:0){for(;a<queue$1.length;a++){const u=queue$1[a];if(u&&u.pre){if(r&&u.id!==r.uid)continue;queue$1.splice(a,1),a--,u()}}}function flushPostFlushCbs(r){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)].sort((a,u)=>getId(a)-getId(u));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=r=>r.id==null?1/0:r.id,comparator=(r,e)=>{const a=getId(r)-getId(e);if(a===0){if(r.pre&&!e.pre)return-1;if(e.pre&&!r.pre)return 1}return a};function flushJobs(r){isFlushPending=!1,isFlushing=!0,queue$1.sort(comparator);try{for(flushIndex=0;flushIndex<queue$1.length;flushIndex++){const e=queue$1[flushIndex];e&&e.active!==!1&&callWithErrorHandling(e,null,14)}}finally{flushIndex=0,queue$1.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue$1.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(r,e,...a){if(r.isUnmounted)return;const u=r.vnode.props||EMPTY_OBJ;let d=a;const s=e.startsWith("update:"),g=s&&e.slice(7);if(g&&g in u){const y=`${g==="modelValue"?"model":g}Modifiers`,{number:A,trim:R}=u[y]||EMPTY_OBJ;R&&(d=a.map(B=>isString(B)?B.trim():B)),A&&(d=a.map(looseToNumber))}let x,_=u[x=toHandlerKey(e)]||u[x=toHandlerKey(camelize(e))];!_&&s&&(_=u[x=toHandlerKey(hyphenate(e))]),_&&callWithAsyncErrorHandling(_,r,6,d);const S=u[x+"Once"];if(S){if(!r.emitted)r.emitted={};else if(r.emitted[x])return;r.emitted[x]=!0,callWithAsyncErrorHandling(S,r,6,d)}}function normalizeEmitsOptions(r,e,a=!1){const u=e.emitsCache,d=u.get(r);if(d!==void 0)return d;const s=r.emits;let g={},x=!1;if(!isFunction(r)){const _=S=>{const y=normalizeEmitsOptions(S,e,!0);y&&(x=!0,extend$1(g,y))};!a&&e.mixins.length&&e.mixins.forEach(_),r.extends&&_(r.extends),r.mixins&&r.mixins.forEach(_)}return!s&&!x?(isObject(r)&&u.set(r,null),null):(isArray$1(s)?s.forEach(_=>g[_]=null):extend$1(g,s),isObject(r)&&u.set(r,g),g)}function isEmitListener(r,e){return!r||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(r,e[0].toLowerCase()+e.slice(1))||hasOwn(r,hyphenate(e))||hasOwn(r,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(r){const e=currentRenderingInstance;return currentRenderingInstance=r,currentScopeId=r&&r.type.__scopeId||null,e}function pushScopeId(r){currentScopeId=r}function popScopeId(){currentScopeId=null}function withCtx(r,e=currentRenderingInstance,a){if(!e||r._n)return r;const u=(...d)=>{u._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(e);let g;try{g=r(...d)}finally{setCurrentRenderingInstance(s),u._d&&setBlockTracking(1)}return g};return u._n=!0,u._c=!0,u._d=!0,u}function markAttrsAccessed(){}function renderComponentRoot(r){const{type:e,vnode:a,proxy:u,withProxy:d,propsOptions:[s],slots:g,attrs:x,emit:_,render:S,renderCache:y,props:A,data:R,setupState:B,ctx:q,inheritAttrs:C}=r,N=setCurrentRenderingInstance(r);let k,L;try{if(a.shapeFlag&4){const j=d||u,ee=j;k=normalizeVNode(S.call(ee,j,y,A,B,R,q)),L=x}else{const j=e;k=normalizeVNode(j.length>1?j(A,{attrs:x,slots:g,emit:_}):j(A,null)),L=e.props?x:getFunctionalFallthrough(x)}}catch(j){blockStack.length=0,handleError(j,r,1),k=createVNode(Comment)}let U=k;if(L&&C!==!1){const j=Object.keys(L),{shapeFlag:ee}=U;j.length&&ee&7&&(s&&j.some(isModelListener)&&(L=filterModelListeners(L,s)),U=cloneVNode(U,L,!1,!0))}return a.dirs&&(U=cloneVNode(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(a.dirs):a.dirs),a.transition&&(U.transition=a.transition),k=U,setCurrentRenderingInstance(N),k}const getFunctionalFallthrough=r=>{let e;for(const a in r)(a==="class"||a==="style"||isOn(a))&&((e||(e={}))[a]=r[a]);return e},filterModelListeners=(r,e)=>{const a={};for(const u in r)(!isModelListener(u)||!(u.slice(9)in e))&&(a[u]=r[u]);return a};function shouldUpdateComponent(r,e,a){const{props:u,children:d,component:s}=r,{props:g,children:x,patchFlag:_}=e,S=s.emitsOptions;if(e.dirs||e.transition)return!0;if(a&&_>=0){if(_&1024)return!0;if(_&16)return u?hasPropsChanged(u,g,S):!!g;if(_&8){const y=e.dynamicProps;for(let A=0;A<y.length;A++){const R=y[A];if(g[R]!==u[R]&&!isEmitListener(S,R))return!0}}}else return(d||x)&&(!x||!x.$stable)?!0:u===g?!1:u?g?hasPropsChanged(u,g,S):!0:!!g;return!1}function hasPropsChanged(r,e,a){const u=Object.keys(e);if(u.length!==Object.keys(r).length)return!0;for(let d=0;d<u.length;d++){const s=u[d];if(e[s]!==r[s]&&!isEmitListener(a,s))return!0}return!1}function updateHOCHostEl({vnode:r,parent:e},a){for(;e;){const u=e.subTree;if(u.suspense&&u.suspense.activeBranch===r&&(u.el=r.el),u===r)(r=e.vnode).el=a,e=e.parent;else break}}const COMPONENTS="components";function resolveComponent(r,e){return resolveAsset(COMPONENTS,r,!0,e)||r}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveAsset(r,e,a=!0,u=!1){const d=currentRenderingInstance||currentInstance;if(d){const s=d.type;{const x=getComponentName(s,!1);if(x&&(x===e||x===camelize(e)||x===capitalize(camelize(e))))return s}const g=resolve(d[r]||s[r],e)||resolve(d.appContext[r],e);return!g&&u?s:g}}function resolve(r,e){return r&&(r[e]||r[camelize(e)]||r[capitalize(camelize(e))])}const isSuspense=r=>r.__isSuspense;function queueEffectWithSuspense(r,e){e&&e.pendingBranch?isArray$1(r)?e.effects.push(...r):e.effects.push(r):queuePostFlushCb(r)}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),INITIAL_WATCHER_VALUE={};function watch(r,e,a){return doWatch(r,e,a)}function doWatch(r,e,{immediate:a,deep:u,flush:d,once:s,onTrack:g,onTrigger:x}=EMPTY_OBJ){if(e&&s){const se=e;e=(...Ee)=>{se(...Ee),ee()}}const _=currentInstance,S=se=>u===!0?se:traverse(se,u===!1?1:void 0);let y,A=!1,R=!1;if(isRef(r)?(y=()=>r.value,A=isShallow(r)):isReactive(r)?(y=()=>S(r),A=!0):isArray$1(r)?(R=!0,A=r.some(se=>isReactive(se)||isShallow(se)),y=()=>r.map(se=>{if(isRef(se))return se.value;if(isReactive(se))return S(se);if(isFunction(se))return callWithErrorHandling(se,_,2)})):isFunction(r)?e?y=()=>callWithErrorHandling(r,_,2):y=()=>(B&&B(),callWithAsyncErrorHandling(r,_,3,[q])):y=NOOP,e&&u){const se=y;y=()=>traverse(se())}let B,q=se=>{B=U.onStop=()=>{callWithErrorHandling(se,_,4),B=U.onStop=void 0}},C;if(isInSSRComponentSetup)if(q=NOOP,e?a&&callWithAsyncErrorHandling(e,_,3,[y(),R?[]:void 0,q]):y(),d==="sync"){const se=useSSRContext();C=se.__watcherHandles||(se.__watcherHandles=[])}else return NOOP;let N=R?new Array(r.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const k=()=>{if(!(!U.active||!U.dirty))if(e){const se=U.run();(u||A||(R?se.some((Ee,ge)=>hasChanged(Ee,N[ge])):hasChanged(se,N)))&&(B&&B(),callWithAsyncErrorHandling(e,_,3,[se,N===INITIAL_WATCHER_VALUE?void 0:R&&N[0]===INITIAL_WATCHER_VALUE?[]:N,q]),N=se)}else U.run()};k.allowRecurse=!!e;let L;d==="sync"?L=k:d==="post"?L=()=>queuePostRenderEffect(k,_&&_.suspense):(k.pre=!0,_&&(k.id=_.uid),L=()=>queueJob(k));const U=new ReactiveEffect(y,NOOP,L),j=getCurrentScope(),ee=()=>{U.stop(),j&&remove(j.effects,U)};return e?a?k():N=U.run():d==="post"?queuePostRenderEffect(U.run.bind(U),_&&_.suspense):U.run(),C&&C.push(ee),ee}function instanceWatch(r,e,a){const u=this.proxy,d=isString(r)?r.includes(".")?createPathGetter(u,r):()=>u[r]:r.bind(u,u);let s;isFunction(e)?s=e:(s=e.handler,a=e);const g=setCurrentInstance(this),x=doWatch(d,s.bind(u),a);return g(),x}function createPathGetter(r,e){const a=e.split(".");return()=>{let u=r;for(let d=0;d<a.length&&u;d++)u=u[a[d]];return u}}function traverse(r,e=1/0,a){if(e<=0||!isObject(r)||r.__v_skip||(a=a||new Set,a.has(r)))return r;if(a.add(r),e--,isRef(r))traverse(r.value,e,a);else if(isArray$1(r))for(let u=0;u<r.length;u++)traverse(r[u],e,a);else if(isSet(r)||isMap(r))r.forEach(u=>{traverse(u,e,a)});else if(isPlainObject$1(r))for(const u in r)traverse(r[u],e,a);return r}function withDirectives(r,e){if(currentRenderingInstance===null)return r;const a=getExposeProxy(currentRenderingInstance)||currentRenderingInstance.proxy,u=r.dirs||(r.dirs=[]);for(let d=0;d<e.length;d++){let[s,g,x,_=EMPTY_OBJ]=e[d];s&&(isFunction(s)&&(s={mounted:s,updated:s}),s.deep&&traverse(g),u.push({dir:s,instance:a,value:g,oldValue:void 0,arg:x,modifiers:_}))}return r}function invokeDirectiveHook(r,e,a,u){const d=r.dirs,s=e&&e.dirs;for(let g=0;g<d.length;g++){const x=d[g];s&&(x.oldValue=s[g].value);let _=x.dir[u];_&&(pauseTracking(),callWithAsyncErrorHandling(_,a,8,[r.el,x,r,e]),resetTracking())}}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(r,e){return isFunction(r)?extend$1({name:r.name},e,{setup:r}):r}const isAsyncWrapper=r=>!!r.type.__asyncLoader,isKeepAlive=r=>r.type.__isKeepAlive;function onActivated(r,e){registerKeepAliveHook(r,"a",e)}function onDeactivated(r,e){registerKeepAliveHook(r,"da",e)}function registerKeepAliveHook(r,e,a=currentInstance){const u=r.__wdc||(r.__wdc=()=>{let d=a;for(;d;){if(d.isDeactivated)return;d=d.parent}return r()});if(injectHook(e,u,a),a){let d=a.parent;for(;d&&d.parent;)isKeepAlive(d.parent.vnode)&&injectToKeepAliveRoot(u,e,a,d),d=d.parent}}function injectToKeepAliveRoot(r,e,a,u){const d=injectHook(e,r,u,!0);onUnmounted(()=>{remove(u[e],d)},a)}function injectHook(r,e,a=currentInstance,u=!1){if(a){const d=a[r]||(a[r]=[]),s=e.__weh||(e.__weh=(...g)=>{if(a.isUnmounted)return;pauseTracking();const x=setCurrentInstance(a),_=callWithAsyncErrorHandling(e,a,r,g);return x(),resetTracking(),_});return u?d.unshift(s):d.push(s),s}}const createHook=r=>(e,a=currentInstance)=>(!isInSSRComponentSetup||r==="sp")&&injectHook(r,(...u)=>e(...u),a),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(r,e=currentInstance){injectHook("ec",r,e)}function renderList(r,e,a,u){let d;const s=a;if(isArray$1(r)||isString(r)){d=new Array(r.length);for(let g=0,x=r.length;g<x;g++)d[g]=e(r[g],g,void 0,s)}else if(typeof r=="number"){d=new Array(r);for(let g=0;g<r;g++)d[g]=e(g+1,g,void 0,s)}else if(isObject(r))if(r[Symbol.iterator])d=Array.from(r,(g,x)=>e(g,x,void 0,s));else{const g=Object.keys(r);d=new Array(g.length);for(let x=0,_=g.length;x<_;x++){const S=g[x];d[x]=e(r[S],S,x,s)}}else d=[];return d}function renderSlot(r,e,a={},u,d){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return createVNode("slot",a,u);let s=r[e];s&&s._c&&(s._d=!1),openBlock();const g=s&&ensureValidVNode(s(a)),x=createBlock(Fragment,{key:a.key||g&&g.key||`_${e}`},g||[],g&&r._===1?64:-2);return s&&s._c&&(s._d=!0),x}function ensureValidVNode(r){return r.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?r:null}const getPublicInstance=r=>r?isStatefulComponent(r)?getExposeProxy(r)||r.proxy:getPublicInstance(r.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>getPublicInstance(r.parent),$root:r=>getPublicInstance(r.root),$emit:r=>r.emit,$options:r=>resolveMergedOptions(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,queueJob(r.update)}),$nextTick:r=>r.n||(r.n=nextTick.bind(r.proxy)),$watch:r=>instanceWatch.bind(r)}),hasSetupBinding=(r,e)=>r!==EMPTY_OBJ&&!r.__isScriptSetup&&hasOwn(r,e),PublicInstanceProxyHandlers={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:a,setupState:u,data:d,props:s,accessCache:g,type:x,appContext:_}=r;let S;if(e[0]!=="$"){const B=g[e];if(B!==void 0)switch(B){case 1:return u[e];case 2:return d[e];case 4:return a[e];case 3:return s[e]}else{if(hasSetupBinding(u,e))return g[e]=1,u[e];if(d!==EMPTY_OBJ&&hasOwn(d,e))return g[e]=2,d[e];if((S=r.propsOptions[0])&&hasOwn(S,e))return g[e]=3,s[e];if(a!==EMPTY_OBJ&&hasOwn(a,e))return g[e]=4,a[e];shouldCacheAccess&&(g[e]=0)}}const y=publicPropertiesMap[e];let A,R;if(y)return e==="$attrs"&&track(r.attrs,"get",""),y(r);if((A=x.__cssModules)&&(A=A[e]))return A;if(a!==EMPTY_OBJ&&hasOwn(a,e))return g[e]=4,a[e];if(R=_.config.globalProperties,hasOwn(R,e))return R[e]},set({_:r},e,a){const{data:u,setupState:d,ctx:s}=r;return hasSetupBinding(d,e)?(d[e]=a,!0):u!==EMPTY_OBJ&&hasOwn(u,e)?(u[e]=a,!0):hasOwn(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(s[e]=a,!0)},has({_:{data:r,setupState:e,accessCache:a,ctx:u,appContext:d,propsOptions:s}},g){let x;return!!a[g]||r!==EMPTY_OBJ&&hasOwn(r,g)||hasSetupBinding(e,g)||(x=s[0])&&hasOwn(x,g)||hasOwn(u,g)||hasOwn(publicPropertiesMap,g)||hasOwn(d.config.globalProperties,g)},defineProperty(r,e,a){return a.get!=null?r._.accessCache[e]=0:hasOwn(a,"value")&&this.set(r,e,a.value,null),Reflect.defineProperty(r,e,a)}};function normalizePropsOrEmits(r){return isArray$1(r)?r.reduce((e,a)=>(e[a]=null,e),{}):r}let shouldCacheAccess=!0;function applyOptions(r){const e=resolveMergedOptions(r),a=r.proxy,u=r.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook(e.beforeCreate,r,"bc");const{data:d,computed:s,methods:g,watch:x,provide:_,inject:S,created:y,beforeMount:A,mounted:R,beforeUpdate:B,updated:q,activated:C,deactivated:N,beforeDestroy:k,beforeUnmount:L,destroyed:U,unmounted:j,render:ee,renderTracked:se,renderTriggered:Ee,errorCaptured:ge,serverPrefetch:oe,expose:Le,inheritAttrs:E,components:t,directives:o,filters:c}=e;if(S&&resolveInjections(S,u,null),g)for(const w in g){const M=g[w];isFunction(M)&&(u[w]=M.bind(a))}if(d){const w=d.call(a,a);isObject(w)&&(r.data=reactive(w))}if(shouldCacheAccess=!0,s)for(const w in s){const M=s[w],m=isFunction(M)?M.bind(a,a):isFunction(M.get)?M.get.bind(a,a):NOOP,n=!isFunction(M)&&isFunction(M.set)?M.set.bind(a):NOOP,b=computed({get:m,set:n});Object.defineProperty(u,w,{enumerable:!0,configurable:!0,get:()=>b.value,set:P=>b.value=P})}if(x)for(const w in x)createWatcher(x[w],u,a,w);if(_){const w=isFunction(_)?_.call(a):_;Reflect.ownKeys(w).forEach(M=>{provide(M,w[M])})}y&&callHook(y,r,"c");function v(w,M){isArray$1(M)?M.forEach(m=>w(m.bind(a))):M&&w(M.bind(a))}if(v(onBeforeMount,A),v(onMounted,R),v(onBeforeUpdate,B),v(onUpdated,q),v(onActivated,C),v(onDeactivated,N),v(onErrorCaptured,ge),v(onRenderTracked,se),v(onRenderTriggered,Ee),v(onBeforeUnmount,L),v(onUnmounted,j),v(onServerPrefetch,oe),isArray$1(Le))if(Le.length){const w=r.exposed||(r.exposed={});Le.forEach(M=>{Object.defineProperty(w,M,{get:()=>a[M],set:m=>a[M]=m})})}else r.exposed||(r.exposed={});ee&&r.render===NOOP&&(r.render=ee),E!=null&&(r.inheritAttrs=E),t&&(r.components=t),o&&(r.directives=o)}function resolveInjections(r,e,a=NOOP){isArray$1(r)&&(r=normalizeInject(r));for(const u in r){const d=r[u];let s;isObject(d)?"default"in d?s=inject(d.from||u,d.default,!0):s=inject(d.from||u):s=inject(d),isRef(s)?Object.defineProperty(e,u,{enumerable:!0,configurable:!0,get:()=>s.value,set:g=>s.value=g}):e[u]=s}}function callHook(r,e,a){callWithAsyncErrorHandling(isArray$1(r)?r.map(u=>u.bind(e.proxy)):r.bind(e.proxy),e,a)}function createWatcher(r,e,a,u){const d=u.includes(".")?createPathGetter(a,u):()=>a[u];if(isString(r)){const s=e[r];isFunction(s)&&watch(d,s)}else if(isFunction(r))watch(d,r.bind(a));else if(isObject(r))if(isArray$1(r))r.forEach(s=>createWatcher(s,e,a,u));else{const s=isFunction(r.handler)?r.handler.bind(a):e[r.handler];isFunction(s)&&watch(d,s,r)}}function resolveMergedOptions(r){const e=r.type,{mixins:a,extends:u}=e,{mixins:d,optionsCache:s,config:{optionMergeStrategies:g}}=r.appContext,x=s.get(e);let _;return x?_=x:!d.length&&!a&&!u?_=e:(_={},d.length&&d.forEach(S=>mergeOptions$1(_,S,g,!0)),mergeOptions$1(_,e,g)),isObject(e)&&s.set(e,_),_}function mergeOptions$1(r,e,a,u=!1){const{mixins:d,extends:s}=e;s&&mergeOptions$1(r,s,a,!0),d&&d.forEach(g=>mergeOptions$1(r,g,a,!0));for(const g in e)if(!(u&&g==="expose")){const x=internalOptionMergeStrats[g]||a&&a[g];r[g]=x?x(r[g],e[g]):e[g]}return r}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(r,e){return e?r?function(){return extend$1(isFunction(r)?r.call(this,this):r,isFunction(e)?e.call(this,this):e)}:e:r}function mergeInject(r,e){return mergeObjectOptions(normalizeInject(r),normalizeInject(e))}function normalizeInject(r){if(isArray$1(r)){const e={};for(let a=0;a<r.length;a++)e[r[a]]=r[a];return e}return r}function mergeAsArray(r,e){return r?[...new Set([].concat(r,e))]:e}function mergeObjectOptions(r,e){return r?extend$1(Object.create(null),r,e):e}function mergeEmitsOrPropsOptions(r,e){return r?isArray$1(r)&&isArray$1(e)?[...new Set([...r,...e])]:extend$1(Object.create(null),normalizePropsOrEmits(r),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(r,e){if(!r)return e;if(!e)return r;const a=extend$1(Object.create(null),r);for(const u in e)a[u]=mergeAsArray(r[u],e[u]);return a}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(r,e){return function(u,d=null){isFunction(u)||(u=extend$1({},u)),d!=null&&!isObject(d)&&(d=null);const s=createAppContext(),g=new WeakSet;let x=!1;const _=s.app={_uid:uid$1++,_component:u,_props:d,_container:null,_context:s,_instance:null,version:version$1,get config(){return s.config},set config(S){},use(S,...y){return g.has(S)||(S&&isFunction(S.install)?(g.add(S),S.install(_,...y)):isFunction(S)&&(g.add(S),S(_,...y))),_},mixin(S){return s.mixins.includes(S)||s.mixins.push(S),_},component(S,y){return y?(s.components[S]=y,_):s.components[S]},directive(S,y){return y?(s.directives[S]=y,_):s.directives[S]},mount(S,y,A){if(!x){const R=createVNode(u,d);return R.appContext=s,A===!0?A="svg":A===!1&&(A=void 0),y&&e?e(R,S):r(R,S,A),x=!0,_._container=S,S.__vue_app__=_,getExposeProxy(R.component)||R.component.proxy}},unmount(){x&&(r(null,_._container),delete _._container.__vue_app__)},provide(S,y){return s.provides[S]=y,_},runWithContext(S){const y=currentApp;currentApp=_;try{return S()}finally{currentApp=y}}};return _}}let currentApp=null;function provide(r,e){if(currentInstance){let a=currentInstance.provides;const u=currentInstance.parent&&currentInstance.parent.provides;u===a&&(a=currentInstance.provides=Object.create(u)),a[r]=e}}function inject(r,e,a=!1){const u=currentInstance||currentRenderingInstance;if(u||currentApp){const d=u?u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:currentApp._context.provides;if(d&&r in d)return d[r];if(arguments.length>1)return a&&isFunction(e)?e.call(u&&u.proxy):e}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=r=>Object.getPrototypeOf(r)===internalObjectProto;function initProps(r,e,a,u=!1){const d={},s=createInternalObject();r.propsDefaults=Object.create(null),setFullProps(r,e,d,s);for(const g in r.propsOptions[0])g in d||(d[g]=void 0);a?r.props=u?d:shallowReactive(d):r.type.props?r.props=d:r.props=s,r.attrs=s}function updateProps(r,e,a,u){const{props:d,attrs:s,vnode:{patchFlag:g}}=r,x=toRaw(d),[_]=r.propsOptions;let S=!1;if((u||g>0)&&!(g&16)){if(g&8){const y=r.vnode.dynamicProps;for(let A=0;A<y.length;A++){let R=y[A];if(isEmitListener(r.emitsOptions,R))continue;const B=e[R];if(_)if(hasOwn(s,R))B!==s[R]&&(s[R]=B,S=!0);else{const q=camelize(R);d[q]=resolvePropValue(_,x,q,B,r,!1)}else B!==s[R]&&(s[R]=B,S=!0)}}}else{setFullProps(r,e,d,s)&&(S=!0);let y;for(const A in x)(!e||!hasOwn(e,A)&&((y=hyphenate(A))===A||!hasOwn(e,y)))&&(_?a&&(a[A]!==void 0||a[y]!==void 0)&&(d[A]=resolvePropValue(_,x,A,void 0,r,!0)):delete d[A]);if(s!==x)for(const A in s)(!e||!hasOwn(e,A))&&(delete s[A],S=!0)}S&&trigger(r.attrs,"set","")}function setFullProps(r,e,a,u){const[d,s]=r.propsOptions;let g=!1,x;if(e)for(let _ in e){if(isReservedProp(_))continue;const S=e[_];let y;d&&hasOwn(d,y=camelize(_))?!s||!s.includes(y)?a[y]=S:(x||(x={}))[y]=S:isEmitListener(r.emitsOptions,_)||(!(_ in u)||S!==u[_])&&(u[_]=S,g=!0)}if(s){const _=toRaw(a),S=x||EMPTY_OBJ;for(let y=0;y<s.length;y++){const A=s[y];a[A]=resolvePropValue(d,_,A,S[A],r,!hasOwn(S,A))}}return g}function resolvePropValue(r,e,a,u,d,s){const g=r[a];if(g!=null){const x=hasOwn(g,"default");if(x&&u===void 0){const _=g.default;if(g.type!==Function&&!g.skipFactory&&isFunction(_)){const{propsDefaults:S}=d;if(a in S)u=S[a];else{const y=setCurrentInstance(d);u=S[a]=_.call(null,e),y()}}else u=_}g[0]&&(s&&!x?u=!1:g[1]&&(u===""||u===hyphenate(a))&&(u=!0))}return u}function normalizePropsOptions(r,e,a=!1){const u=e.propsCache,d=u.get(r);if(d)return d;const s=r.props,g={},x=[];let _=!1;if(!isFunction(r)){const y=A=>{_=!0;const[R,B]=normalizePropsOptions(A,e,!0);extend$1(g,R),B&&x.push(...B)};!a&&e.mixins.length&&e.mixins.forEach(y),r.extends&&y(r.extends),r.mixins&&r.mixins.forEach(y)}if(!s&&!_)return isObject(r)&&u.set(r,EMPTY_ARR),EMPTY_ARR;if(isArray$1(s))for(let y=0;y<s.length;y++){const A=camelize(s[y]);validatePropName(A)&&(g[A]=EMPTY_OBJ)}else if(s)for(const y in s){const A=camelize(y);if(validatePropName(A)){const R=s[y],B=g[A]=isArray$1(R)||isFunction(R)?{type:R}:extend$1({},R);if(B){const q=getTypeIndex(Boolean,B.type),C=getTypeIndex(String,B.type);B[0]=q>-1,B[1]=C<0||q<C,(q>-1||hasOwn(B,"default"))&&x.push(A)}}}const S=[g,x];return isObject(r)&&u.set(r,S),S}function validatePropName(r){return r[0]!=="$"&&!isReservedProp(r)}function getType(r){return r===null?"null":typeof r=="function"?r.name||"":typeof r=="object"&&r.constructor&&r.constructor.name||""}function isSameType(r,e){return getType(r)===getType(e)}function getTypeIndex(r,e){return isArray$1(e)?e.findIndex(a=>isSameType(a,r)):isFunction(e)&&isSameType(e,r)?0:-1}const isInternalKey=r=>r[0]==="_"||r==="$stable",normalizeSlotValue=r=>isArray$1(r)?r.map(normalizeVNode):[normalizeVNode(r)],normalizeSlot$1=(r,e,a)=>{if(e._n)return e;const u=withCtx((...d)=>normalizeSlotValue(e(...d)),a);return u._c=!1,u},normalizeObjectSlots=(r,e,a)=>{const u=r._ctx;for(const d in r){if(isInternalKey(d))continue;const s=r[d];if(isFunction(s))e[d]=normalizeSlot$1(d,s,u);else if(s!=null){const g=normalizeSlotValue(s);e[d]=()=>g}}},normalizeVNodeSlots=(r,e)=>{const a=normalizeSlotValue(e);r.slots.default=()=>a},initSlots=(r,e)=>{const a=r.slots=createInternalObject();if(r.vnode.shapeFlag&32){const u=e._;u?(extend$1(a,e),def(a,"_",u,!0)):normalizeObjectSlots(e,a)}else e&&normalizeVNodeSlots(r,e)},updateSlots=(r,e,a)=>{const{vnode:u,slots:d}=r;let s=!0,g=EMPTY_OBJ;if(u.shapeFlag&32){const x=e._;x?a&&x===1?s=!1:(extend$1(d,e),!a&&x===1&&delete d._):(s=!e.$stable,normalizeObjectSlots(e,d)),g=e}else e&&(normalizeVNodeSlots(r,e),g={default:1});if(s)for(const x in d)!isInternalKey(x)&&g[x]==null&&delete d[x]};function setRef(r,e,a,u,d=!1){if(isArray$1(r)){r.forEach((R,B)=>setRef(R,e&&(isArray$1(e)?e[B]:e),a,u,d));return}if(isAsyncWrapper(u)&&!d)return;const s=u.shapeFlag&4?getExposeProxy(u.component)||u.component.proxy:u.el,g=d?null:s,{i:x,r:_}=r,S=e&&e.r,y=x.refs===EMPTY_OBJ?x.refs={}:x.refs,A=x.setupState;if(S!=null&&S!==_&&(isString(S)?(y[S]=null,hasOwn(A,S)&&(A[S]=null)):isRef(S)&&(S.value=null)),isFunction(_))callWithErrorHandling(_,x,12,[g,y]);else{const R=isString(_),B=isRef(_);if(R||B){const q=()=>{if(r.f){const C=R?hasOwn(A,_)?A[_]:y[_]:_.value;d?isArray$1(C)&&remove(C,s):isArray$1(C)?C.includes(s)||C.push(s):R?(y[_]=[s],hasOwn(A,_)&&(A[_]=y[_])):(_.value=[s],r.k&&(y[r.k]=_.value))}else R?(y[_]=g,hasOwn(A,_)&&(A[_]=g)):B&&(_.value=g,r.k&&(y[r.k]=g))};g?(q.id=-1,queuePostRenderEffect(q,a)):q()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(r){return baseCreateRenderer(r)}function baseCreateRenderer(r,e){const a=getGlobalThis();a.__VUE__=!0;const{insert:u,remove:d,patchProp:s,createElement:g,createText:x,createComment:_,setText:S,setElementText:y,parentNode:A,nextSibling:R,setScopeId:B=NOOP,insertStaticContent:q}=r,C=(H,fe,he,ve=null,ke=null,Me=null,le=void 0,Ze=null,_e=!!fe.dynamicChildren)=>{if(H===fe)return;H&&!isSameVNodeType(H,fe)&&(ve=T(H),P(H,ke,Me,!0),H=null),fe.patchFlag===-2&&(_e=!1,fe.dynamicChildren=null);const{type:Se,ref:tt,shapeFlag:Ae}=fe;switch(Se){case Text:N(H,fe,he,ve);break;case Comment:k(H,fe,he,ve);break;case Static:H==null&&L(fe,he,ve,le);break;case Fragment:t(H,fe,he,ve,ke,Me,le,Ze,_e);break;default:Ae&1?ee(H,fe,he,ve,ke,Me,le,Ze,_e):Ae&6?o(H,fe,he,ve,ke,Me,le,Ze,_e):(Ae&64||Ae&128)&&Se.process(H,fe,he,ve,ke,Me,le,Ze,_e,ne)}tt!=null&&ke&&setRef(tt,H&&H.ref,Me,fe||H,!fe)},N=(H,fe,he,ve)=>{if(H==null)u(fe.el=x(fe.children),he,ve);else{const ke=fe.el=H.el;fe.children!==H.children&&S(ke,fe.children)}},k=(H,fe,he,ve)=>{H==null?u(fe.el=_(fe.children||""),he,ve):fe.el=H.el},L=(H,fe,he,ve)=>{[H.el,H.anchor]=q(H.children,fe,he,ve,H.el,H.anchor)},U=({el:H,anchor:fe},he,ve)=>{let ke;for(;H&&H!==fe;)ke=R(H),u(H,he,ve),H=ke;u(fe,he,ve)},j=({el:H,anchor:fe})=>{let he;for(;H&&H!==fe;)he=R(H),d(H),H=he;d(fe)},ee=(H,fe,he,ve,ke,Me,le,Ze,_e)=>{fe.type==="svg"?le="svg":fe.type==="math"&&(le="mathml"),H==null?se(fe,he,ve,ke,Me,le,Ze,_e):oe(H,fe,ke,Me,le,Ze,_e)},se=(H,fe,he,ve,ke,Me,le,Ze)=>{let _e,Se;const{props:tt,shapeFlag:Ae,transition:Pe,dirs:ot}=H;if(_e=H.el=g(H.type,Me,tt&&tt.is,tt),Ae&8?y(_e,H.children):Ae&16&&ge(H.children,_e,null,ve,ke,resolveChildrenNamespace(H,Me),le,Ze),ot&&invokeDirectiveHook(H,null,ve,"created"),Ee(_e,H,H.scopeId,le,ve),tt){for(const He in tt)He!=="value"&&!isReservedProp(He)&&s(_e,He,null,tt[He],Me,H.children,ve,ke,X);"value"in tt&&s(_e,"value",null,tt.value,Me),(Se=tt.onVnodeBeforeMount)&&invokeVNodeHook(Se,ve,H)}ot&&invokeDirectiveHook(H,null,ve,"beforeMount");const Oe=needTransition(ke,Pe);Oe&&Pe.beforeEnter(_e),u(_e,fe,he),((Se=tt&&tt.onVnodeMounted)||Oe||ot)&&queuePostRenderEffect(()=>{Se&&invokeVNodeHook(Se,ve,H),Oe&&Pe.enter(_e),ot&&invokeDirectiveHook(H,null,ve,"mounted")},ke)},Ee=(H,fe,he,ve,ke)=>{if(he&&B(H,he),ve)for(let Me=0;Me<ve.length;Me++)B(H,ve[Me]);if(ke){let Me=ke.subTree;if(fe===Me){const le=ke.vnode;Ee(H,le,le.scopeId,le.slotScopeIds,ke.parent)}}},ge=(H,fe,he,ve,ke,Me,le,Ze,_e=0)=>{for(let Se=_e;Se<H.length;Se++){const tt=H[Se]=Ze?cloneIfMounted(H[Se]):normalizeVNode(H[Se]);C(null,tt,fe,he,ve,ke,Me,le,Ze)}},oe=(H,fe,he,ve,ke,Me,le)=>{const Ze=fe.el=H.el;let{patchFlag:_e,dynamicChildren:Se,dirs:tt}=fe;_e|=H.patchFlag&16;const Ae=H.props||EMPTY_OBJ,Pe=fe.props||EMPTY_OBJ;let ot;if(he&&toggleRecurse(he,!1),(ot=Pe.onVnodeBeforeUpdate)&&invokeVNodeHook(ot,he,fe,H),tt&&invokeDirectiveHook(fe,H,he,"beforeUpdate"),he&&toggleRecurse(he,!0),Se?Le(H.dynamicChildren,Se,Ze,he,ve,resolveChildrenNamespace(fe,ke),Me):le||M(H,fe,Ze,null,he,ve,resolveChildrenNamespace(fe,ke),Me,!1),_e>0){if(_e&16)E(Ze,fe,Ae,Pe,he,ve,ke);else if(_e&2&&Ae.class!==Pe.class&&s(Ze,"class",null,Pe.class,ke),_e&4&&s(Ze,"style",Ae.style,Pe.style,ke),_e&8){const Oe=fe.dynamicProps;for(let He=0;He<Oe.length;He++){const pt=Oe[He],z=Ae[pt],O=Pe[pt];(O!==z||pt==="value")&&s(Ze,pt,z,O,ke,H.children,he,ve,X)}}_e&1&&H.children!==fe.children&&y(Ze,fe.children)}else!le&&Se==null&&E(Ze,fe,Ae,Pe,he,ve,ke);((ot=Pe.onVnodeUpdated)||tt)&&queuePostRenderEffect(()=>{ot&&invokeVNodeHook(ot,he,fe,H),tt&&invokeDirectiveHook(fe,H,he,"updated")},ve)},Le=(H,fe,he,ve,ke,Me,le)=>{for(let Ze=0;Ze<fe.length;Ze++){const _e=H[Ze],Se=fe[Ze],tt=_e.el&&(_e.type===Fragment||!isSameVNodeType(_e,Se)||_e.shapeFlag&70)?A(_e.el):he;C(_e,Se,tt,null,ve,ke,Me,le,!0)}},E=(H,fe,he,ve,ke,Me,le)=>{if(he!==ve){if(he!==EMPTY_OBJ)for(const Ze in he)!isReservedProp(Ze)&&!(Ze in ve)&&s(H,Ze,he[Ze],null,le,fe.children,ke,Me,X);for(const Ze in ve){if(isReservedProp(Ze))continue;const _e=ve[Ze],Se=he[Ze];_e!==Se&&Ze!=="value"&&s(H,Ze,Se,_e,le,fe.children,ke,Me,X)}"value"in ve&&s(H,"value",he.value,ve.value,le)}},t=(H,fe,he,ve,ke,Me,le,Ze,_e)=>{const Se=fe.el=H?H.el:x(""),tt=fe.anchor=H?H.anchor:x("");let{patchFlag:Ae,dynamicChildren:Pe,slotScopeIds:ot}=fe;ot&&(Ze=Ze?Ze.concat(ot):ot),H==null?(u(Se,he,ve),u(tt,he,ve),ge(fe.children||[],he,tt,ke,Me,le,Ze,_e)):Ae>0&&Ae&64&&Pe&&H.dynamicChildren?(Le(H.dynamicChildren,Pe,he,ke,Me,le,Ze),(fe.key!=null||ke&&fe===ke.subTree)&&traverseStaticChildren(H,fe,!0)):M(H,fe,he,tt,ke,Me,le,Ze,_e)},o=(H,fe,he,ve,ke,Me,le,Ze,_e)=>{fe.slotScopeIds=Ze,H==null?fe.shapeFlag&512?ke.ctx.activate(fe,he,ve,le,_e):c(fe,he,ve,ke,Me,le,_e):l(H,fe,_e)},c=(H,fe,he,ve,ke,Me,le)=>{const Ze=H.component=createComponentInstance(H,ve,ke);if(isKeepAlive(H)&&(Ze.ctx.renderer=ne),setupComponent(Ze),Ze.asyncDep){if(ke&&ke.registerDep(Ze,v),!H.el){const _e=Ze.subTree=createVNode(Comment);k(null,_e,fe,he)}}else v(Ze,H,fe,he,ke,Me,le)},l=(H,fe,he)=>{const ve=fe.component=H.component;if(shouldUpdateComponent(H,fe,he))if(ve.asyncDep&&!ve.asyncResolved){w(ve,fe,he);return}else ve.next=fe,invalidateJob(ve.update),ve.effect.dirty=!0,ve.update();else fe.el=H.el,ve.vnode=fe},v=(H,fe,he,ve,ke,Me,le)=>{const Ze=()=>{if(H.isMounted){let{next:tt,bu:Ae,u:Pe,parent:ot,vnode:Oe}=H;{const D=locateNonHydratedAsyncRoot(H);if(D){tt&&(tt.el=Oe.el,w(H,tt,le)),D.asyncDep.then(()=>{H.isUnmounted||Ze()});return}}let He=tt,pt;toggleRecurse(H,!1),tt?(tt.el=Oe.el,w(H,tt,le)):tt=Oe,Ae&&invokeArrayFns(Ae),(pt=tt.props&&tt.props.onVnodeBeforeUpdate)&&invokeVNodeHook(pt,ot,tt,Oe),toggleRecurse(H,!0);const z=renderComponentRoot(H),O=H.subTree;H.subTree=z,C(O,z,A(O.el),T(O),H,ke,Me),tt.el=z.el,He===null&&updateHOCHostEl(H,z.el),Pe&&queuePostRenderEffect(Pe,ke),(pt=tt.props&&tt.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(pt,ot,tt,Oe),ke)}else{let tt;const{el:Ae,props:Pe}=fe,{bm:ot,m:Oe,parent:He}=H,pt=isAsyncWrapper(fe);if(toggleRecurse(H,!1),ot&&invokeArrayFns(ot),!pt&&(tt=Pe&&Pe.onVnodeBeforeMount)&&invokeVNodeHook(tt,He,fe),toggleRecurse(H,!0),Ae&&G){const z=()=>{H.subTree=renderComponentRoot(H),G(Ae,H.subTree,H,ke,null)};pt?fe.type.__asyncLoader().then(()=>!H.isUnmounted&&z()):z()}else{const z=H.subTree=renderComponentRoot(H);C(null,z,he,ve,H,ke,Me),fe.el=z.el}if(Oe&&queuePostRenderEffect(Oe,ke),!pt&&(tt=Pe&&Pe.onVnodeMounted)){const z=fe;queuePostRenderEffect(()=>invokeVNodeHook(tt,He,z),ke)}(fe.shapeFlag&256||He&&isAsyncWrapper(He.vnode)&&He.vnode.shapeFlag&256)&&H.a&&queuePostRenderEffect(H.a,ke),H.isMounted=!0,fe=he=ve=null}},_e=H.effect=new ReactiveEffect(Ze,NOOP,()=>queueJob(Se),H.scope),Se=H.update=()=>{_e.dirty&&_e.run()};Se.id=H.uid,toggleRecurse(H,!0),Se()},w=(H,fe,he)=>{fe.component=H;const ve=H.vnode.props;H.vnode=fe,H.next=null,updateProps(H,fe.props,ve,he),updateSlots(H,fe.children,he),pauseTracking(),flushPreFlushCbs(H),resetTracking()},M=(H,fe,he,ve,ke,Me,le,Ze,_e=!1)=>{const Se=H&&H.children,tt=H?H.shapeFlag:0,Ae=fe.children,{patchFlag:Pe,shapeFlag:ot}=fe;if(Pe>0){if(Pe&128){n(Se,Ae,he,ve,ke,Me,le,Ze,_e);return}else if(Pe&256){m(Se,Ae,he,ve,ke,Me,le,Ze,_e);return}}ot&8?(tt&16&&X(Se,ke,Me),Ae!==Se&&y(he,Ae)):tt&16?ot&16?n(Se,Ae,he,ve,ke,Me,le,Ze,_e):X(Se,ke,Me,!0):(tt&8&&y(he,""),ot&16&&ge(Ae,he,ve,ke,Me,le,Ze,_e))},m=(H,fe,he,ve,ke,Me,le,Ze,_e)=>{H=H||EMPTY_ARR,fe=fe||EMPTY_ARR;const Se=H.length,tt=fe.length,Ae=Math.min(Se,tt);let Pe;for(Pe=0;Pe<Ae;Pe++){const ot=fe[Pe]=_e?cloneIfMounted(fe[Pe]):normalizeVNode(fe[Pe]);C(H[Pe],ot,he,null,ke,Me,le,Ze,_e)}Se>tt?X(H,ke,Me,!0,!1,Ae):ge(fe,he,ve,ke,Me,le,Ze,_e,Ae)},n=(H,fe,he,ve,ke,Me,le,Ze,_e)=>{let Se=0;const tt=fe.length;let Ae=H.length-1,Pe=tt-1;for(;Se<=Ae&&Se<=Pe;){const ot=H[Se],Oe=fe[Se]=_e?cloneIfMounted(fe[Se]):normalizeVNode(fe[Se]);if(isSameVNodeType(ot,Oe))C(ot,Oe,he,null,ke,Me,le,Ze,_e);else break;Se++}for(;Se<=Ae&&Se<=Pe;){const ot=H[Ae],Oe=fe[Pe]=_e?cloneIfMounted(fe[Pe]):normalizeVNode(fe[Pe]);if(isSameVNodeType(ot,Oe))C(ot,Oe,he,null,ke,Me,le,Ze,_e);else break;Ae--,Pe--}if(Se>Ae){if(Se<=Pe){const ot=Pe+1,Oe=ot<tt?fe[ot].el:ve;for(;Se<=Pe;)C(null,fe[Se]=_e?cloneIfMounted(fe[Se]):normalizeVNode(fe[Se]),he,Oe,ke,Me,le,Ze,_e),Se++}}else if(Se>Pe)for(;Se<=Ae;)P(H[Se],ke,Me,!0),Se++;else{const ot=Se,Oe=Se,He=new Map;for(Se=Oe;Se<=Pe;Se++){const be=fe[Se]=_e?cloneIfMounted(fe[Se]):normalizeVNode(fe[Se]);be.key!=null&&He.set(be.key,Se)}let pt,z=0;const O=Pe-Oe+1;let D=!1,te=0;const ce=new Array(O);for(Se=0;Se<O;Se++)ce[Se]=0;for(Se=ot;Se<=Ae;Se++){const be=H[Se];if(z>=O){P(be,ke,Me,!0);continue}let je;if(be.key!=null)je=He.get(be.key);else for(pt=Oe;pt<=Pe;pt++)if(ce[pt-Oe]===0&&isSameVNodeType(be,fe[pt])){je=pt;break}je===void 0?P(be,ke,Me,!0):(ce[je-Oe]=Se+1,je>=te?te=je:D=!0,C(be,fe[je],he,null,ke,Me,le,Ze,_e),z++)}const Fe=D?getSequence(ce):EMPTY_ARR;for(pt=Fe.length-1,Se=O-1;Se>=0;Se--){const be=Oe+Se,je=fe[be],lt=be+1<tt?fe[be+1].el:ve;ce[Se]===0?C(null,je,he,lt,ke,Me,le,Ze,_e):D&&(pt<0||Se!==Fe[pt]?b(je,he,lt,2):pt--)}}},b=(H,fe,he,ve,ke=null)=>{const{el:Me,type:le,transition:Ze,children:_e,shapeFlag:Se}=H;if(Se&6){b(H.component.subTree,fe,he,ve);return}if(Se&128){H.suspense.move(fe,he,ve);return}if(Se&64){le.move(H,fe,he,ne);return}if(le===Fragment){u(Me,fe,he);for(let Ae=0;Ae<_e.length;Ae++)b(_e[Ae],fe,he,ve);u(H.anchor,fe,he);return}if(le===Static){U(H,fe,he);return}if(ve!==2&&Se&1&&Ze)if(ve===0)Ze.beforeEnter(Me),u(Me,fe,he),queuePostRenderEffect(()=>Ze.enter(Me),ke);else{const{leave:Ae,delayLeave:Pe,afterLeave:ot}=Ze,Oe=()=>u(Me,fe,he),He=()=>{Ae(Me,()=>{Oe(),ot&&ot()})};Pe?Pe(Me,Oe,He):He()}else u(Me,fe,he)},P=(H,fe,he,ve=!1,ke=!1)=>{const{type:Me,props:le,ref:Ze,children:_e,dynamicChildren:Se,shapeFlag:tt,patchFlag:Ae,dirs:Pe}=H;if(Ze!=null&&setRef(Ze,null,he,H,!0),tt&256){fe.ctx.deactivate(H);return}const ot=tt&1&&Pe,Oe=!isAsyncWrapper(H);let He;if(Oe&&(He=le&&le.onVnodeBeforeUnmount)&&invokeVNodeHook(He,fe,H),tt&6)Y(H.component,he,ve);else{if(tt&128){H.suspense.unmount(he,ve);return}ot&&invokeDirectiveHook(H,null,fe,"beforeUnmount"),tt&64?H.type.remove(H,fe,he,ke,ne,ve):Se&&(Me!==Fragment||Ae>0&&Ae&64)?X(Se,fe,he,!1,!0):(Me===Fragment&&Ae&384||!ke&&tt&16)&&X(_e,fe,he),ve&&I(H)}(Oe&&(He=le&&le.onVnodeUnmounted)||ot)&&queuePostRenderEffect(()=>{He&&invokeVNodeHook(He,fe,H),ot&&invokeDirectiveHook(H,null,fe,"unmounted")},he)},I=H=>{const{type:fe,el:he,anchor:ve,transition:ke}=H;if(fe===Fragment){F(he,ve);return}if(fe===Static){j(H);return}const Me=()=>{d(he),ke&&!ke.persisted&&ke.afterLeave&&ke.afterLeave()};if(H.shapeFlag&1&&ke&&!ke.persisted){const{leave:le,delayLeave:Ze}=ke,_e=()=>le(he,Me);Ze?Ze(H.el,Me,_e):_e()}else Me()},F=(H,fe)=>{let he;for(;H!==fe;)he=R(H),d(H),H=he;d(fe)},Y=(H,fe,he)=>{const{bum:ve,scope:ke,update:Me,subTree:le,um:Ze}=H;ve&&invokeArrayFns(ve),ke.stop(),Me&&(Me.active=!1,P(le,H,fe,he)),Ze&&queuePostRenderEffect(Ze,fe),queuePostRenderEffect(()=>{H.isUnmounted=!0},fe),fe&&fe.pendingBranch&&!fe.isUnmounted&&H.asyncDep&&!H.asyncResolved&&H.suspenseId===fe.pendingId&&(fe.deps--,fe.deps===0&&fe.resolve())},X=(H,fe,he,ve=!1,ke=!1,Me=0)=>{for(let le=Me;le<H.length;le++)P(H[le],fe,he,ve,ke)},T=H=>H.shapeFlag&6?T(H.component.subTree):H.shapeFlag&128?H.suspense.next():R(H.anchor||H.el);let K=!1;const W=(H,fe,he)=>{H==null?fe._vnode&&P(fe._vnode,null,null,!0):C(fe._vnode||null,H,fe,null,null,null,he),K||(K=!0,flushPreFlushCbs(),flushPostFlushCbs(),K=!1),fe._vnode=H},ne={p:C,um:P,m:b,r:I,mt:c,mc:ge,pc:M,pbc:Le,n:T,o:r};let ie,G;return{render:W,hydrate:ie,createApp:createAppAPI(W,ie)}}function resolveChildrenNamespace({type:r,props:e},a){return a==="svg"&&r==="foreignObject"||a==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:a}function toggleRecurse({effect:r,update:e},a){r.allowRecurse=e.allowRecurse=a}function needTransition(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function traverseStaticChildren(r,e,a=!1){const u=r.children,d=e.children;if(isArray$1(u)&&isArray$1(d))for(let s=0;s<u.length;s++){const g=u[s];let x=d[s];x.shapeFlag&1&&!x.dynamicChildren&&((x.patchFlag<=0||x.patchFlag===32)&&(x=d[s]=cloneIfMounted(d[s]),x.el=g.el),a||traverseStaticChildren(g,x)),x.type===Text&&(x.el=g.el)}}function getSequence(r){const e=r.slice(),a=[0];let u,d,s,g,x;const _=r.length;for(u=0;u<_;u++){const S=r[u];if(S!==0){if(d=a[a.length-1],r[d]<S){e[u]=d,a.push(u);continue}for(s=0,g=a.length-1;s<g;)x=s+g>>1,r[a[x]]<S?s=x+1:g=x;S<r[a[s]]&&(s>0&&(e[u]=a[s-1]),a[s]=u)}}for(s=a.length,g=a[s-1];s-- >0;)a[s]=g,g=e[g];return a}function locateNonHydratedAsyncRoot(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:locateNonHydratedAsyncRoot(e)}const isTeleport=r=>r.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(r=!1){blockStack.push(currentBlock=r?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(r){isBlockTreeEnabled+=r}function setupBlock(r){return r.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(r),r}function createElementBlock(r,e,a,u,d,s){return setupBlock(createBaseVNode(r,e,a,u,d,s,!0))}function createBlock(r,e,a,u,d){return setupBlock(createVNode(r,e,a,u,d,!0))}function isVNode(r){return r?r.__v_isVNode===!0:!1}function isSameVNodeType(r,e){return r.type===e.type&&r.key===e.key}const normalizeKey=({key:r})=>r??null,normalizeRef=({ref:r,ref_key:e,ref_for:a})=>(typeof r=="number"&&(r=""+r),r!=null?isString(r)||isRef(r)||isFunction(r)?{i:currentRenderingInstance,r,k:e,f:!!a}:r:null);function createBaseVNode(r,e=null,a=null,u=0,d=null,s=r===Fragment?0:1,g=!1,x=!1){const _={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:u,dynamicProps:d,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return x?(normalizeChildren(_,a),s&128&&r.normalize(_)):a&&(_.shapeFlag|=isString(a)?8:16),isBlockTreeEnabled>0&&!g&&currentBlock&&(_.patchFlag>0||s&6)&&_.patchFlag!==32&&currentBlock.push(_),_}const createVNode=_createVNode;function _createVNode(r,e=null,a=null,u=0,d=null,s=!1){if((!r||r===NULL_DYNAMIC_COMPONENT)&&(r=Comment),isVNode(r)){const x=cloneVNode(r,e,!0);return a&&normalizeChildren(x,a),isBlockTreeEnabled>0&&!s&&currentBlock&&(x.shapeFlag&6?currentBlock[currentBlock.indexOf(r)]=x:currentBlock.push(x)),x.patchFlag|=-2,x}if(isClassComponent(r)&&(r=r.__vccOpts),e){e=guardReactiveProps(e);let{class:x,style:_}=e;x&&!isString(x)&&(e.class=normalizeClass(x)),isObject(_)&&(isProxy(_)&&!isArray$1(_)&&(_=extend$1({},_)),e.style=normalizeStyle(_))}const g=isString(r)?1:isSuspense(r)?128:isTeleport(r)?64:isObject(r)?4:isFunction(r)?2:0;return createBaseVNode(r,e,a,u,d,g,s,!0)}function guardReactiveProps(r){return r?isProxy(r)||isInternalObject(r)?extend$1({},r):r:null}function cloneVNode(r,e,a=!1,u=!1){const{props:d,ref:s,patchFlag:g,children:x,transition:_}=r,S=e?mergeProps(d||{},e):d,y={__v_isVNode:!0,__v_skip:!0,type:r.type,props:S,key:S&&normalizeKey(S),ref:e&&e.ref?a&&s?isArray$1(s)?s.concat(normalizeRef(e)):[s,normalizeRef(e)]:normalizeRef(e):s,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:x,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==Fragment?g===-1?16:g|16:g,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:_,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&cloneVNode(r.ssContent),ssFallback:r.ssFallback&&cloneVNode(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return _&&u&&(y.transition=_.clone(y)),y}function createTextVNode(r=" ",e=0){return createVNode(Text,null,r,e)}function normalizeVNode(r){return r==null||typeof r=="boolean"?createVNode(Comment):isArray$1(r)?createVNode(Fragment,null,r.slice()):typeof r=="object"?cloneIfMounted(r):createVNode(Text,null,String(r))}function cloneIfMounted(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:cloneVNode(r)}function normalizeChildren(r,e){let a=0;const{shapeFlag:u}=r;if(e==null)e=null;else if(isArray$1(e))a=16;else if(typeof e=="object")if(u&65){const d=e.default;d&&(d._c&&(d._d=!1),normalizeChildren(r,d()),d._c&&(d._d=!0));return}else{a=32;const d=e._;!d&&!isInternalObject(e)?e._ctx=currentRenderingInstance:d===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else isFunction(e)?(e={default:e,_ctx:currentRenderingInstance},a=32):(e=String(e),u&64?(a=16,e=[createTextVNode(e)]):a=8);r.children=e,r.shapeFlag|=a}function mergeProps(...r){const e={};for(let a=0;a<r.length;a++){const u=r[a];for(const d in u)if(d==="class")e.class!==u.class&&(e.class=normalizeClass([e.class,u.class]));else if(d==="style")e.style=normalizeStyle([e.style,u.style]);else if(isOn(d)){const s=e[d],g=u[d];g&&s!==g&&!(isArray$1(s)&&s.includes(g))&&(e[d]=s?[].concat(s,g):g)}else d!==""&&(e[d]=u[d])}return e}function invokeVNodeHook(r,e,a,u=null){callWithAsyncErrorHandling(r,e,7,[a,u])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(r,e,a){const u=r.type,d=(e?e.appContext:r.appContext)||emptyAppContext,s={uid:uid++,vnode:r,type:u,parent:e,appContext:d,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(d.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(u,d),emitsOptions:normalizeEmitsOptions(u,d),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:u.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=emit.bind(null,s),r.ce&&r.ce(s),s}let currentInstance=null,internalSetCurrentInstance,setInSSRSetupState;{const r=getGlobalThis(),e=(a,u)=>{let d;return(d=r[a])||(d=r[a]=[]),d.push(u),s=>{d.length>1?d.forEach(g=>g(s)):d[0](s)}};internalSetCurrentInstance=e("__VUE_INSTANCE_SETTERS__",a=>currentInstance=a),setInSSRSetupState=e("__VUE_SSR_SETTERS__",a=>isInSSRComponentSetup=a)}const setCurrentInstance=r=>{const e=currentInstance;return internalSetCurrentInstance(r),r.scope.on(),()=>{r.scope.off(),internalSetCurrentInstance(e)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(r){return r.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(r,e=!1){e&&setInSSRSetupState(e);const{props:a,children:u}=r.vnode,d=isStatefulComponent(r);initProps(r,a,d,e),initSlots(r,u);const s=d?setupStatefulComponent(r,e):void 0;return e&&setInSSRSetupState(!1),s}function setupStatefulComponent(r,e){const a=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,PublicInstanceProxyHandlers);const{setup:u}=a;if(u){const d=r.setupContext=u.length>1?createSetupContext(r):null,s=setCurrentInstance(r);pauseTracking();const g=callWithErrorHandling(u,r,0,[r.props,d]);if(resetTracking(),s(),isPromise(g)){if(g.then(unsetCurrentInstance,unsetCurrentInstance),e)return g.then(x=>{handleSetupResult(r,x,e)}).catch(x=>{handleError(x,r,0)});r.asyncDep=g}else handleSetupResult(r,g,e)}else finishComponentSetup(r,e)}function handleSetupResult(r,e,a){isFunction(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:isObject(e)&&(r.setupState=proxyRefs(e)),finishComponentSetup(r,a)}let compile;function finishComponentSetup(r,e,a){const u=r.type;if(!r.render){if(!e&&compile&&!u.render){const d=u.template||resolveMergedOptions(r).template;if(d){const{isCustomElement:s,compilerOptions:g}=r.appContext.config,{delimiters:x,compilerOptions:_}=u,S=extend$1(extend$1({isCustomElement:s,delimiters:x},g),_);u.render=compile(d,S)}}r.render=u.render||NOOP}{const d=setCurrentInstance(r);pauseTracking();try{applyOptions(r)}finally{resetTracking(),d()}}}const attrsProxyHandlers={get(r,e){return track(r,"get",""),r[e]}};function createSetupContext(r){const e=a=>{r.exposed=a||{}};return{attrs:new Proxy(r.attrs,attrsProxyHandlers),slots:r.slots,emit:r.emit,expose:e}}function getExposeProxy(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(proxyRefs(markRaw(r.exposed)),{get(e,a){if(a in e)return e[a];if(a in publicPropertiesMap)return publicPropertiesMap[a](r)},has(e,a){return a in e||a in publicPropertiesMap}}))}const classifyRE=/(?:^|[-_])(\w)/g,classify=r=>r.replace(classifyRE,e=>e.toUpperCase()).replace(/[-_]/g,"");function getComponentName(r,e=!0){return isFunction(r)?r.displayName||r.name:r.name||e&&r.__name}function formatComponentName(r,e,a=!1){let u=getComponentName(e);if(!u&&e.__file){const d=e.__file.match(/([^/\\]+)\.\w+$/);d&&(u=d[1])}if(!u&&r&&r.parent){const d=s=>{for(const g in s)if(s[g]===e)return g};u=d(r.components||r.parent.type.components)||d(r.appContext.components)}return u?classify(u):a?"App":"Anonymous"}function isClassComponent(r){return isFunction(r)&&"__vccOpts"in r}const computed=(r,e)=>computed$1(r,e,isInSSRComponentSetup);function h(r,e,a){const u=arguments.length;return u===2?isObject(e)&&!isArray$1(e)?isVNode(e)?createVNode(r,null,[e]):createVNode(r,e):createVNode(r,null,e):(u>3?a=Array.prototype.slice.call(arguments,2):u===3&&isVNode(a)&&(a=[a]),createVNode(r,e,a))}const version$1="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(r,e,a)=>{e.insertBefore(r,a||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,a,u)=>{const d=e==="svg"?doc.createElementNS(svgNS,r):e==="mathml"?doc.createElementNS(mathmlNS,r):doc.createElement(r,a?{is:a}:void 0);return r==="select"&&u&&u.multiple!=null&&d.setAttribute("multiple",u.multiple),d},createText:r=>doc.createTextNode(r),createComment:r=>doc.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>doc.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,a,u,d,s){const g=a?a.previousSibling:e.lastChild;if(d&&(d===s||d.nextSibling))for(;e.insertBefore(d.cloneNode(!0),a),!(d===s||!(d=d.nextSibling)););else{templateContainer.innerHTML=u==="svg"?`<svg>${r}</svg>`:u==="mathml"?`<math>${r}</math>`:r;const x=templateContainer.content;if(u==="svg"||u==="mathml"){const _=x.firstChild;for(;_.firstChild;)x.appendChild(_.firstChild);x.removeChild(_)}e.insertBefore(x,a)}return[g?g.nextSibling:e.firstChild,a?a.previousSibling:e.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(r,e,a){const u=r[vtcKey];u&&(e=(e?[e,...u]:[...u]).join(" ")),e==null?r.removeAttribute("class"):a?r.setAttribute("class",e):r.className=e}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(r,e,a){const u=r.style,d=isString(a);let s=!1;if(a&&!d){if(e)if(isString(e))for(const g of e.split(";")){const x=g.slice(0,g.indexOf(":")).trim();a[x]==null&&setStyle(u,x,"")}else for(const g in e)a[g]==null&&setStyle(u,g,"");for(const g in a)g==="display"&&(s=!0),setStyle(u,g,a[g])}else if(d){if(e!==a){const g=u[CSS_VAR_TEXT];g&&(a+=";"+g),u.cssText=a,s=displayRE.test(a)}}else e&&r.removeAttribute("style");vShowOriginalDisplay in r&&(r[vShowOriginalDisplay]=s?u.display:"",r[vShowHidden]&&(u.display="none"))}const importantRE=/\s*!important$/;function setStyle(r,e,a){if(isArray$1(a))a.forEach(u=>setStyle(r,e,u));else if(a==null&&(a=""),e.startsWith("--"))r.setProperty(e,a);else{const u=autoPrefix(r,e);importantRE.test(a)?r.setProperty(hyphenate(u),a.replace(importantRE,""),"important"):r[u]=a}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(r,e){const a=prefixCache[e];if(a)return a;let u=camelize(e);if(u!=="filter"&&u in r)return prefixCache[e]=u;u=capitalize(u);for(let d=0;d<prefixes.length;d++){const s=prefixes[d]+u;if(s in r)return prefixCache[e]=s}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(r,e,a,u,d){if(u&&e.startsWith("xlink:"))a==null?r.removeAttributeNS(xlinkNS,e.slice(6,e.length)):r.setAttributeNS(xlinkNS,e,a);else{const s=isSpecialBooleanAttr(e);a==null||s&&!includeBooleanAttr(a)?r.removeAttribute(e):r.setAttribute(e,s?"":a)}}function patchDOMProp(r,e,a,u,d,s,g){if(e==="innerHTML"||e==="textContent"){u&&g(u,d,s),r[e]=a??"";return}const x=r.tagName;if(e==="value"&&x!=="PROGRESS"&&!x.includes("-")){const S=x==="OPTION"?r.getAttribute("value")||"":r.value,y=a??"";(S!==y||!("_value"in r))&&(r.value=y),a==null&&r.removeAttribute(e),r._value=a;return}let _=!1;if(a===""||a==null){const S=typeof r[e];S==="boolean"?a=includeBooleanAttr(a):a==null&&S==="string"?(a="",_=!0):S==="number"&&(a=0,_=!0)}try{r[e]=a}catch{}_&&r.removeAttribute(e)}function addEventListener(r,e,a,u){r.addEventListener(e,a,u)}function removeEventListener(r,e,a,u){r.removeEventListener(e,a,u)}const veiKey=Symbol("_vei");function patchEvent(r,e,a,u,d=null){const s=r[veiKey]||(r[veiKey]={}),g=s[e];if(u&&g)g.value=u;else{const[x,_]=parseName(e);if(u){const S=s[e]=createInvoker(u,d);addEventListener(r,x,S,_)}else g&&(removeEventListener(r,x,g,_),s[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(r){let e;if(optionsModifierRE.test(r)){e={};let u;for(;u=r.match(optionsModifierRE);)r=r.slice(0,r.length-u[0].length),e[u[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):hyphenate(r.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(r,e){const a=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=a.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(u,a.value),e,5,[u])};return a.value=r,a.attached=getNow(),a}function patchStopImmediatePropagation(r,e){if(isArray$1(e)){const a=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{a.call(r),r._stopped=!0},e.map(u=>d=>!d._stopped&&u&&u(d))}else return e}const isNativeOn=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,patchProp=(r,e,a,u,d,s,g,x,_)=>{const S=d==="svg";e==="class"?patchClass(r,u,S):e==="style"?patchStyle(r,a,u):isOn(e)?isModelListener(e)||patchEvent(r,e,a,u,g):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(r,e,u,S))?patchDOMProp(r,e,u,s,g,x,_):(e==="true-value"?r._trueValue=u:e==="false-value"&&(r._falseValue=u),patchAttr(r,e,u,S))};function shouldSetAsProp(r,e,a,u){if(u)return!!(e==="innerHTML"||e==="textContent"||e in r&&isNativeOn(e)&&isFunction(a));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const d=r.tagName;if(d==="IMG"||d==="VIDEO"||d==="CANVAS"||d==="SOURCE")return!1}return isNativeOn(e)&&isString(a)?!1:e in r}const getModelAssigner=r=>{const e=r.props["onUpdate:modelValue"]||!1;return isArray$1(e)?a=>invokeArrayFns(e,a):e};function onCompositionStart(r){r.target.composing=!0}function onCompositionEnd(r){const e=r.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(r,{modifiers:{lazy:e,trim:a,number:u}},d){r[assignKey]=getModelAssigner(d);const s=u||d.props&&d.props.type==="number";addEventListener(r,e?"change":"input",g=>{if(g.target.composing)return;let x=r.value;a&&(x=x.trim()),s&&(x=looseToNumber(x)),r[assignKey](x)}),a&&addEventListener(r,"change",()=>{r.value=r.value.trim()}),e||(addEventListener(r,"compositionstart",onCompositionStart),addEventListener(r,"compositionend",onCompositionEnd),addEventListener(r,"change",onCompositionEnd))},mounted(r,{value:e}){r.value=e??""},beforeUpdate(r,{value:e,modifiers:{lazy:a,trim:u,number:d}},s){if(r[assignKey]=getModelAssigner(s),r.composing)return;const g=(d||r.type==="number")&&!/^0\d/.test(r.value)?looseToNumber(r.value):r.value,x=e??"";g!==x&&(document.activeElement===r&&r.type!=="range"&&(a||u&&r.value.trim()===x)||(r.value=x))}},vModelSelect={deep:!0,created(r,{value:e,modifiers:{number:a}},u){const d=isSet(e);addEventListener(r,"change",()=>{const s=Array.prototype.filter.call(r.options,g=>g.selected).map(g=>a?looseToNumber(getValue(g)):getValue(g));r[assignKey](r.multiple?d?new Set(s):s:s[0]),r._assigning=!0,nextTick(()=>{r._assigning=!1})}),r[assignKey]=getModelAssigner(u)},mounted(r,{value:e,modifiers:{number:a}}){setSelected(r,e)},beforeUpdate(r,e,a){r[assignKey]=getModelAssigner(a)},updated(r,{value:e,modifiers:{number:a}}){r._assigning||setSelected(r,e)}};function setSelected(r,e,a){const u=r.multiple,d=isArray$1(e);if(!(u&&!d&&!isSet(e))){for(let s=0,g=r.options.length;s<g;s++){const x=r.options[s],_=getValue(x);if(u)if(d){const S=typeof _;S==="string"||S==="number"?x.selected=e.some(y=>String(y)===String(_)):x.selected=looseIndexOf(e,_)>-1}else x.selected=e.has(_);else if(looseEqual(getValue(x),e)){r.selectedIndex!==s&&(r.selectedIndex=s);return}}!u&&r.selectedIndex!==-1&&(r.selectedIndex=-1)}}function getValue(r){return"_value"in r?r._value:r.value}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,e)=>systemModifiers.some(a=>r[`${a}Key`]&&!e.includes(a))},withModifiers=(r,e)=>{const a=r._withMods||(r._withMods={}),u=e.join(".");return a[u]||(a[u]=(d,...s)=>{for(let g=0;g<e.length;g++){const x=modifierGuards[e[g]];if(x&&x(d,e))return}return r(d,...s)})},rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...r)=>{const e=ensureRenderer().createApp(...r),{mount:a}=e;return e.mount=u=>{const d=normalizeContainer(u);if(!d)return;const s=e._component;!isFunction(s)&&!s.render&&!s.template&&(s.template=d.innerHTML),d.innerHTML="";const g=a(d,!1,resolveRootNamespace(d));return d instanceof Element&&(d.removeAttribute("v-cloak"),d.setAttribute("data-v-app","")),g},e};function resolveRootNamespace(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function normalizeContainer(r){return isString(r)?document.querySelector(r):r}var isVue2=!1;let activePinia;const setActivePinia=r=>activePinia=r,piniaSymbol=Symbol();function isPlainObject(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var MutationType;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const r=effectScope(!0),e=r.run(()=>ref$1({}));let a=[],u=[];const d=markRaw({install(s){setActivePinia(d),d._a=s,s.provide(piniaSymbol,d),s.config.globalProperties.$pinia=d,u.forEach(g=>a.push(g)),u=[]},use(s){return!this._a&&!isVue2?u.push(s):a.push(s),this},_p:a,_a:null,_e:r,_s:new Map,state:e});return d}const noop$2=()=>{};function addSubscription(r,e,a,u=noop$2){r.push(e);const d=()=>{const s=r.indexOf(e);s>-1&&(r.splice(s,1),u())};return!a&&getCurrentScope()&&onScopeDispose(d),d}function triggerSubscriptions(r,...e){r.slice().forEach(a=>{a(...e)})}const fallbackRunWithContext=r=>r();function mergeReactiveObjects(r,e){r instanceof Map&&e instanceof Map&&e.forEach((a,u)=>r.set(u,a)),r instanceof Set&&e instanceof Set&&e.forEach(r.add,r);for(const a in e){if(!e.hasOwnProperty(a))continue;const u=e[a],d=r[a];isPlainObject(d)&&isPlainObject(u)&&r.hasOwnProperty(a)&&!isRef(u)&&!isReactive(u)?r[a]=mergeReactiveObjects(d,u):r[a]=u}return r}const skipHydrateSymbol=Symbol();function shouldHydrate(r){return!isPlainObject(r)||!r.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed(r){return!!(isRef(r)&&r.effect)}function createOptionsStore(r,e,a,u){const{state:d,actions:s,getters:g}=e,x=a.state.value[r];let _;function S(){x||(a.state.value[r]=d?d():{});const y=toRefs(a.state.value[r]);return assign$1(y,s,Object.keys(g||{}).reduce((A,R)=>(A[R]=markRaw(computed(()=>{setActivePinia(a);const B=a._s.get(r);return g[R].call(B,B)})),A),{}))}return _=createSetupStore(r,S,e,a,u,!0),_}function createSetupStore(r,e,a={},u,d,s){let g;const x=assign$1({actions:{}},a),_={deep:!0};let S,y,A=[],R=[],B;const q=u.state.value[r];!s&&!q&&(u.state.value[r]={}),ref$1({});let C;function N(ge){let oe;S=y=!1,typeof ge=="function"?(ge(u.state.value[r]),oe={type:MutationType.patchFunction,storeId:r,events:B}):(mergeReactiveObjects(u.state.value[r],ge),oe={type:MutationType.patchObject,payload:ge,storeId:r,events:B});const Le=C=Symbol();nextTick().then(()=>{C===Le&&(S=!0)}),y=!0,triggerSubscriptions(A,oe,u.state.value[r])}const k=s?function(){const{state:oe}=a,Le=oe?oe():{};this.$patch(E=>{assign$1(E,Le)})}:noop$2;function L(){g.stop(),A=[],R=[],u._s.delete(r)}function U(ge,oe){return function(){setActivePinia(u);const Le=Array.from(arguments),E=[],t=[];function o(v){E.push(v)}function c(v){t.push(v)}triggerSubscriptions(R,{args:Le,name:ge,store:ee,after:o,onError:c});let l;try{l=oe.apply(this&&this.$id===r?this:ee,Le)}catch(v){throw triggerSubscriptions(t,v),v}return l instanceof Promise?l.then(v=>(triggerSubscriptions(E,v),v)).catch(v=>(triggerSubscriptions(t,v),Promise.reject(v))):(triggerSubscriptions(E,l),l)}}const j={_p:u,$id:r,$onAction:addSubscription.bind(null,R),$patch:N,$reset:k,$subscribe(ge,oe={}){const Le=addSubscription(A,ge,oe.detached,()=>E()),E=g.run(()=>watch(()=>u.state.value[r],t=>{(oe.flush==="sync"?y:S)&&ge({storeId:r,type:MutationType.direct,events:B},t)},assign$1({},_,oe)));return Le},$dispose:L},ee=reactive(j);u._s.set(r,ee);const Ee=(u._a&&u._a.runWithContext||fallbackRunWithContext)(()=>u._e.run(()=>(g=effectScope()).run(e)));for(const ge in Ee){const oe=Ee[ge];if(isRef(oe)&&!isComputed(oe)||isReactive(oe))s||(q&&shouldHydrate(oe)&&(isRef(oe)?oe.value=q[ge]:mergeReactiveObjects(oe,q[ge])),u.state.value[r][ge]=oe);else if(typeof oe=="function"){const Le=U(ge,oe);Ee[ge]=Le,x.actions[ge]=oe}}return assign$1(ee,Ee),assign$1(toRaw(ee),Ee),Object.defineProperty(ee,"$state",{get:()=>u.state.value[r],set:ge=>{N(oe=>{assign$1(oe,ge)})}}),u._p.forEach(ge=>{assign$1(ee,g.run(()=>ge({store:ee,app:u._a,pinia:u,options:x})))}),q&&s&&a.hydrate&&a.hydrate(ee.$state,q),S=!0,y=!0,ee}function defineStore(r,e,a){let u,d;const s=typeof e=="function";typeof r=="string"?(u=r,d=s?a:e):(d=r,u=r.id);function g(x,_){const S=hasInjectionContext();return x=x||(S?inject(piniaSymbol,null):null),x&&setActivePinia(x),x=activePinia,x._s.has(u)||(s?createSetupStore(u,e,d,x):createOptionsStore(u,d,x)),x._s.get(u)}return g.$id=u,g}function storeToRefs(r){{r=toRaw(r);const e={};for(const a in r){const u=r[a];(isRef(u)||isReactive(u))&&(e[a]=toRef(r,a))}return e}}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof document<"u";function isESModule(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(r,e){const a={};for(const u in e){const d=e[u];a[u]=isArray(d)?d.map(r):r(d)}return a}const noop$1=()=>{},isArray=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(r){return encodeURI(""+r).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(r){return commonEncode(r).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(r){return commonEncode(r).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(r){return encodeQueryValue(r).replace(EQUAL_RE,"%3D")}function encodePath(r){return commonEncode(r).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(r){return r==null?"":encodePath(r).replace(SLASH_RE,"%2F")}function decode$4(r){try{return decodeURIComponent(""+r)}catch{}return""+r}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=r=>r.replace(TRAILING_SLASH_RE,"");function parseURL(r,e,a="/"){let u,d={},s="",g="";const x=e.indexOf("#");let _=e.indexOf("?");return x<_&&x>=0&&(_=-1),_>-1&&(u=e.slice(0,_),s=e.slice(_+1,x>-1?x:e.length),d=r(s)),x>-1&&(u=u||e.slice(0,x),g=e.slice(x,e.length)),u=resolveRelativePath(u??e,a),{fullPath:u+(s&&"?")+s+g,path:u,query:d,hash:decode$4(g)}}function stringifyURL(r,e){const a=e.query?r(e.query):"";return e.path+(a&&"?")+a+(e.hash||"")}function stripBase(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function isSameRouteLocation(r,e,a){const u=e.matched.length-1,d=a.matched.length-1;return u>-1&&u===d&&isSameRouteRecord(e.matched[u],a.matched[d])&&isSameRouteLocationParams(e.params,a.params)&&r(e.query)===r(a.query)&&e.hash===a.hash}function isSameRouteRecord(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function isSameRouteLocationParams(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const a in r)if(!isSameRouteLocationParamsValue(r[a],e[a]))return!1;return!0}function isSameRouteLocationParamsValue(r,e){return isArray(r)?isEquivalentArray(r,e):isArray(e)?isEquivalentArray(e,r):r===e}function isEquivalentArray(r,e){return isArray(e)?r.length===e.length&&r.every((a,u)=>a===e[u]):r.length===1&&r[0]===e}function resolveRelativePath(r,e){if(r.startsWith("/"))return r;if(!r)return e;const a=e.split("/"),u=r.split("/"),d=u[u.length-1];(d===".."||d===".")&&u.push("");let s=a.length-1,g,x;for(g=0;g<u.length;g++)if(x=u[g],x!==".")if(x==="..")s>1&&s--;else break;return a.slice(0,s).join("/")+"/"+u.slice(g).join("/")}var NavigationType;(function(r){r.pop="pop",r.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(r){r.back="back",r.forward="forward",r.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(r){if(!r)if(isBrowser){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),removeTrailingSlash(r)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(r,e){return r.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(r,e){const a=document.documentElement.getBoundingClientRect(),u=r.getBoundingClientRect();return{behavior:e.behavior,left:u.left-a.left-(e.left||0),top:u.top-a.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(r){let e;if("el"in r){const a=r.el,u=typeof a=="string"&&a.startsWith("#"),d=typeof a=="string"?u?document.getElementById(a.slice(1)):document.querySelector(a):a;if(!d)return;e=getElementPosition(d,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function getScrollKey(r,e){return(history.state?history.state.position-e:-1)+r}const scrollPositions=new Map;function saveScrollPosition(r,e){scrollPositions.set(r,e)}function getSavedScrollPosition(r){const e=scrollPositions.get(r);return scrollPositions.delete(r),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(r,e){const{pathname:a,search:u,hash:d}=e,s=r.indexOf("#");if(s>-1){let x=d.includes(r.slice(s))?r.slice(s).length:1,_=d.slice(x);return _[0]!=="/"&&(_="/"+_),stripBase(_,"")}return stripBase(a,r)+u+d}function useHistoryListeners(r,e,a,u){let d=[],s=[],g=null;const x=({state:R})=>{const B=createCurrentLocation(r,location),q=a.value,C=e.value;let N=0;if(R){if(a.value=B,e.value=R,g&&g===q){g=null;return}N=C?R.position-C.position:0}else u(B);d.forEach(k=>{k(a.value,q,{delta:N,type:NavigationType.pop,direction:N?N>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function _(){g=a.value}function S(R){d.push(R);const B=()=>{const q=d.indexOf(R);q>-1&&d.splice(q,1)};return s.push(B),B}function y(){const{history:R}=window;R.state&&R.replaceState(assign({},R.state,{scroll:computeScrollPosition()}),"")}function A(){for(const R of s)R();s=[],window.removeEventListener("popstate",x),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",x),window.addEventListener("beforeunload",y,{passive:!0}),{pauseListeners:_,listen:S,destroy:A}}function buildState(r,e,a,u=!1,d=!1){return{back:r,current:e,forward:a,replaced:u,position:window.history.length,scroll:d?computeScrollPosition():null}}function useHistoryStateNavigation(r){const{history:e,location:a}=window,u={value:createCurrentLocation(r,a)},d={value:e.state};d.value||s(u.value,{back:null,current:u.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(_,S,y){const A=r.indexOf("#"),R=A>-1?(a.host&&document.querySelector("base")?r:r.slice(A))+_:createBaseLocation()+r+_;try{e[y?"replaceState":"pushState"](S,"",R),d.value=S}catch(B){console.error(B),a[y?"replace":"assign"](R)}}function g(_,S){const y=assign({},e.state,buildState(d.value.back,_,d.value.forward,!0),S,{position:d.value.position});s(_,y,!0),u.value=_}function x(_,S){const y=assign({},d.value,e.state,{forward:_,scroll:computeScrollPosition()});s(y.current,y,!0);const A=assign({},buildState(u.value,_,null),{position:y.position+1},S);s(_,A,!1),u.value=_}return{location:u,state:d,push:x,replace:g}}function createWebHistory(r){r=normalizeBase(r);const e=useHistoryStateNavigation(r),a=useHistoryListeners(r,e.state,e.location,e.replace);function u(s,g=!0){g||a.pauseListeners(),history.go(s)}const d=assign({location:"",base:r,go:u,createHref:createHref.bind(null,r)},e,a);return Object.defineProperty(d,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(d,"state",{enumerable:!0,get:()=>e.state.value}),d}function isRouteLocation(r){return typeof r=="string"||r&&typeof r=="object"}function isRouteName(r){return typeof r=="string"||typeof r=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(r,e){return assign(new Error,{type:r,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(r,e){return r instanceof Error&&NavigationFailureSymbol in r&&(e==null||!!(r.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(r,e){const a=assign({},BASE_PATH_PARSER_OPTIONS,e),u=[];let d=a.start?"^":"";const s=[];for(const S of r){const y=S.length?[]:[90];a.strict&&!S.length&&(d+="/");for(let A=0;A<S.length;A++){const R=S[A];let B=40+(a.sensitive?.25:0);if(R.type===0)A||(d+="/"),d+=R.value.replace(REGEX_CHARS_RE,"\\$&"),B+=40;else if(R.type===1){const{value:q,repeatable:C,optional:N,regexp:k}=R;s.push({name:q,repeatable:C,optional:N});const L=k||BASE_PARAM_PATTERN;if(L!==BASE_PARAM_PATTERN){B+=10;try{new RegExp(`(${L})`)}catch(j){throw new Error(`Invalid custom RegExp for param "${q}" (${L}): `+j.message)}}let U=C?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;A||(U=N&&S.length<2?`(?:/${U})`:"/"+U),N&&(U+="?"),d+=U,B+=20,N&&(B+=-8),C&&(B+=-20),L===".*"&&(B+=-50)}y.push(B)}u.push(y)}if(a.strict&&a.end){const S=u.length-1;u[S][u[S].length-1]+=.7000000000000001}a.strict||(d+="/?"),a.end?d+="$":a.strict&&(d+="(?:/|$)");const g=new RegExp(d,a.sensitive?"":"i");function x(S){const y=S.match(g),A={};if(!y)return null;for(let R=1;R<y.length;R++){const B=y[R]||"",q=s[R-1];A[q.name]=B&&q.repeatable?B.split("/"):B}return A}function _(S){let y="",A=!1;for(const R of r){(!A||!y.endsWith("/"))&&(y+="/"),A=!1;for(const B of R)if(B.type===0)y+=B.value;else if(B.type===1){const{value:q,repeatable:C,optional:N}=B,k=q in S?S[q]:"";if(isArray(k)&&!C)throw new Error(`Provided param "${q}" is an array but it is not repeatable (* or + modifiers)`);const L=isArray(k)?k.join("/"):k;if(!L)if(N)R.length<2&&(y.endsWith("/")?y=y.slice(0,-1):A=!0);else throw new Error(`Missing required param "${q}"`);y+=L}}return y||"/"}return{re:g,score:u,keys:s,parse:x,stringify:_}}function compareScoreArray(r,e){let a=0;for(;a<r.length&&a<e.length;){const u=e[a]-r[a];if(u)return u;a++}return r.length<e.length?r.length===1&&r[0]===80?-1:1:r.length>e.length?e.length===1&&e[0]===80?1:-1:0}function comparePathParserScore(r,e){let a=0;const u=r.score,d=e.score;for(;a<u.length&&a<d.length;){const s=compareScoreArray(u[a],d[a]);if(s)return s;a++}if(Math.abs(d.length-u.length)===1){if(isLastScoreNegative(u))return 1;if(isLastScoreNegative(d))return-1}return d.length-u.length}function isLastScoreNegative(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(r){if(!r)return[[]];if(r==="/")return[[ROOT_TOKEN]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(B){throw new Error(`ERR (${a})/"${S}": ${B}`)}let a=0,u=a;const d=[];let s;function g(){s&&d.push(s),s=[]}let x=0,_,S="",y="";function A(){S&&(a===0?s.push({type:0,value:S}):a===1||a===2||a===3?(s.length>1&&(_==="*"||_==="+")&&e(`A repeatable param (${S}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:S,regexp:y,repeatable:_==="*"||_==="+",optional:_==="*"||_==="?"})):e("Invalid state to consume buffer"),S="")}function R(){S+=_}for(;x<r.length;){if(_=r[x++],_==="\\"&&a!==2){u=a,a=4;continue}switch(a){case 0:_==="/"?(S&&A(),g()):_===":"?(A(),a=1):R();break;case 4:R(),a=u;break;case 1:_==="("?a=2:VALID_PARAM_RE.test(_)?R():(A(),a=0,_!=="*"&&_!=="?"&&_!=="+"&&x--);break;case 2:_===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+_:a=3:y+=_;break;case 3:A(),a=0,_!=="*"&&_!=="?"&&_!=="+"&&x--,y="";break;default:e("Unknown state");break}}return a===2&&e(`Unfinished custom RegExp for param "${S}"`),A(),g(),d}function createRouteRecordMatcher(r,e,a){const u=tokensToParser(tokenizePath(r.path),a),d=assign(u,{record:r,parent:e,children:[],alias:[]});return e&&!d.record.aliasOf==!e.record.aliasOf&&e.children.push(d),d}function createRouterMatcher(r,e){const a=[],u=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function d(y){return u.get(y)}function s(y,A,R){const B=!R,q=normalizeRouteRecord(y);q.aliasOf=R&&R.record;const C=mergeOptions(e,y),N=[q];if("alias"in y){const U=typeof y.alias=="string"?[y.alias]:y.alias;for(const j of U)N.push(assign({},q,{components:R?R.record.components:q.components,path:j,aliasOf:R?R.record:q}))}let k,L;for(const U of N){const{path:j}=U;if(A&&j[0]!=="/"){const ee=A.record.path,se=ee[ee.length-1]==="/"?"":"/";U.path=A.record.path+(j&&se+j)}if(k=createRouteRecordMatcher(U,A,C),R?R.alias.push(k):(L=L||k,L!==k&&L.alias.push(k),B&&y.name&&!isAliasRecord(k)&&g(y.name)),q.children){const ee=q.children;for(let se=0;se<ee.length;se++)s(ee[se],k,R&&R.children[se])}R=R||k,(k.record.components&&Object.keys(k.record.components).length||k.record.name||k.record.redirect)&&_(k)}return L?()=>{g(L)}:noop$1}function g(y){if(isRouteName(y)){const A=u.get(y);A&&(u.delete(y),a.splice(a.indexOf(A),1),A.children.forEach(g),A.alias.forEach(g))}else{const A=a.indexOf(y);A>-1&&(a.splice(A,1),y.record.name&&u.delete(y.record.name),y.children.forEach(g),y.alias.forEach(g))}}function x(){return a}function _(y){let A=0;for(;A<a.length&&comparePathParserScore(y,a[A])>=0&&(y.record.path!==a[A].record.path||!isRecordChildOf(y,a[A]));)A++;a.splice(A,0,y),y.record.name&&!isAliasRecord(y)&&u.set(y.record.name,y)}function S(y,A){let R,B={},q,C;if("name"in y&&y.name){if(R=u.get(y.name),!R)throw createRouterError(1,{location:y});C=R.record.name,B=assign(paramsFromLocation(A.params,R.keys.filter(L=>!L.optional).concat(R.parent?R.parent.keys.filter(L=>L.optional):[]).map(L=>L.name)),y.params&&paramsFromLocation(y.params,R.keys.map(L=>L.name))),q=R.stringify(B)}else if(y.path!=null)q=y.path,R=a.find(L=>L.re.test(q)),R&&(B=R.parse(q),C=R.record.name);else{if(R=A.name?u.get(A.name):a.find(L=>L.re.test(A.path)),!R)throw createRouterError(1,{location:y,currentLocation:A});C=R.record.name,B=assign({},A.params,y.params),q=R.stringify(B)}const N=[];let k=R;for(;k;)N.unshift(k.record),k=k.parent;return{name:C,path:q,params:B,matched:N,meta:mergeMetaFields(N)}}return r.forEach(y=>s(y)),{addRoute:s,resolve:S,removeRoute:g,getRoutes:x,getRecordMatcher:d}}function paramsFromLocation(r,e){const a={};for(const u of e)u in r&&(a[u]=r[u]);return a}function normalizeRouteRecord(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:normalizeRecordProps(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function normalizeRecordProps(r){const e={},a=r.props||!1;if("component"in r)e.default=a;else for(const u in r.components)e[u]=typeof a=="object"?a[u]:a;return e}function isAliasRecord(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function mergeMetaFields(r){return r.reduce((e,a)=>assign(e,a.meta),{})}function mergeOptions(r,e){const a={};for(const u in r)a[u]=u in e?e[u]:r[u];return a}function isRecordChildOf(r,e){return e.children.some(a=>a===r||isRecordChildOf(r,a))}function parseQuery(r){const e={};if(r===""||r==="?")return e;const u=(r[0]==="?"?r.slice(1):r).split("&");for(let d=0;d<u.length;++d){const s=u[d].replace(PLUS_RE," "),g=s.indexOf("="),x=decode$4(g<0?s:s.slice(0,g)),_=g<0?null:decode$4(s.slice(g+1));if(x in e){let S=e[x];isArray(S)||(S=e[x]=[S]),S.push(_)}else e[x]=_}return e}function stringifyQuery(r){let e="";for(let a in r){const u=r[a];if(a=encodeQueryKey(a),u==null){u!==void 0&&(e+=(e.length?"&":"")+a);continue}(isArray(u)?u.map(s=>s&&encodeQueryValue(s)):[u&&encodeQueryValue(u)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+a,s!=null&&(e+="="+s))})}return e}function normalizeQuery(r){const e={};for(const a in r){const u=r[a];u!==void 0&&(e[a]=isArray(u)?u.map(d=>d==null?null:""+d):u==null?u:""+u)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let r=[];function e(u){return r.push(u),()=>{const d=r.indexOf(u);d>-1&&r.splice(d,1)}}function a(){r=[]}return{add:e,list:()=>r.slice(),reset:a}}function guardToPromiseFn(r,e,a,u,d,s=g=>g()){const g=u&&(u.enterCallbacks[d]=u.enterCallbacks[d]||[]);return()=>new Promise((x,_)=>{const S=R=>{R===!1?_(createRouterError(4,{from:a,to:e})):R instanceof Error?_(R):isRouteLocation(R)?_(createRouterError(2,{from:e,to:R})):(g&&u.enterCallbacks[d]===g&&typeof R=="function"&&g.push(R),x())},y=s(()=>r.call(u&&u.instances[d],e,a,S));let A=Promise.resolve(y);r.length<3&&(A=A.then(S)),A.catch(R=>_(R))})}function extractComponentsGuards(r,e,a,u,d=s=>s()){const s=[];for(const g of r)for(const x in g.components){let _=g.components[x];if(!(e!=="beforeRouteEnter"&&!g.instances[x]))if(isRouteComponent(_)){const y=(_.__vccOpts||_)[e];y&&s.push(guardToPromiseFn(y,a,u,g,x,d))}else{let S=_();s.push(()=>S.then(y=>{if(!y)return Promise.reject(new Error(`Couldn't resolve component "${x}" at "${g.path}"`));const A=isESModule(y)?y.default:y;g.components[x]=A;const B=(A.__vccOpts||A)[e];return B&&guardToPromiseFn(B,a,u,g,x,d)()}))}}return s}function isRouteComponent(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function useLink(r){const e=inject(routerKey),a=inject(routeLocationKey),u=computed(()=>{const _=unref(r.to);return e.resolve(_)}),d=computed(()=>{const{matched:_}=u.value,{length:S}=_,y=_[S-1],A=a.matched;if(!y||!A.length)return-1;const R=A.findIndex(isSameRouteRecord.bind(null,y));if(R>-1)return R;const B=getOriginalPath(_[S-2]);return S>1&&getOriginalPath(y)===B&&A[A.length-1].path!==B?A.findIndex(isSameRouteRecord.bind(null,_[S-2])):R}),s=computed(()=>d.value>-1&&includesParams(a.params,u.value.params)),g=computed(()=>d.value>-1&&d.value===a.matched.length-1&&isSameRouteLocationParams(a.params,u.value.params));function x(_={}){return guardEvent(_)?e[unref(r.replace)?"replace":"push"](unref(r.to)).catch(noop$1):Promise.resolve()}return{route:u,href:computed(()=>u.value.href),isActive:s,isExactActive:g,navigate:x}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(r,{slots:e}){const a=reactive(useLink(r)),{options:u}=inject(routerKey),d=computed(()=>({[getLinkClass(r.activeClass,u.linkActiveClass,"router-link-active")]:a.isActive,[getLinkClass(r.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:a.isExactActive}));return()=>{const s=e.default&&e.default(a);return r.custom?s:h("a",{"aria-current":a.isExactActive?r.ariaCurrentValue:null,href:a.href,onClick:a.navigate,class:d.value},s)}}}),RouterLink=RouterLinkImpl;function guardEvent(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function includesParams(r,e){for(const a in e){const u=e[a],d=r[a];if(typeof u=="string"){if(u!==d)return!1}else if(!isArray(d)||d.length!==u.length||u.some((s,g)=>s!==d[g]))return!1}return!0}function getOriginalPath(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const getLinkClass=(r,e,a)=>r??e??a,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:a}){const u=inject(routerViewLocationKey),d=computed(()=>r.route||u.value),s=inject(viewDepthKey,0),g=computed(()=>{let S=unref(s);const{matched:y}=d.value;let A;for(;(A=y[S])&&!A.components;)S++;return S}),x=computed(()=>d.value.matched[g.value]);provide(viewDepthKey,computed(()=>g.value+1)),provide(matchedRouteKey,x),provide(routerViewLocationKey,d);const _=ref$1();return watch(()=>[_.value,x.value,r.name],([S,y,A],[R,B,q])=>{y&&(y.instances[A]=S,B&&B!==y&&S&&S===R&&(y.leaveGuards.size||(y.leaveGuards=B.leaveGuards),y.updateGuards.size||(y.updateGuards=B.updateGuards))),S&&y&&(!B||!isSameRouteRecord(y,B)||!R)&&(y.enterCallbacks[A]||[]).forEach(C=>C(S))},{flush:"post"}),()=>{const S=d.value,y=r.name,A=x.value,R=A&&A.components[y];if(!R)return normalizeSlot(a.default,{Component:R,route:S});const B=A.props[y],q=B?B===!0?S.params:typeof B=="function"?B(S):B:null,N=h(R,assign({},q,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(A.instances[y]=null)},ref:_}));return normalizeSlot(a.default,{Component:N,route:S})||N}}});function normalizeSlot(r,e){if(!r)return null;const a=r(e);return a.length===1?a[0]:a}const RouterView=RouterViewImpl;function createRouter(r){const e=createRouterMatcher(r.routes,r),a=r.parseQuery||parseQuery,u=r.stringifyQuery||stringifyQuery,d=r.history,s=useCallbacks(),g=useCallbacks(),x=useCallbacks(),_=shallowRef(START_LOCATION_NORMALIZED);let S=START_LOCATION_NORMALIZED;isBrowser&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=applyToParams.bind(null,T=>""+T),A=applyToParams.bind(null,encodeParam),R=applyToParams.bind(null,decode$4);function B(T,K){let W,ne;return isRouteName(T)?(W=e.getRecordMatcher(T),ne=K):ne=T,e.addRoute(ne,W)}function q(T){const K=e.getRecordMatcher(T);K&&e.removeRoute(K)}function C(){return e.getRoutes().map(T=>T.record)}function N(T){return!!e.getRecordMatcher(T)}function k(T,K){if(K=assign({},K||_.value),typeof T=="string"){const fe=parseURL(a,T,K.path),he=e.resolve({path:fe.path},K),ve=d.createHref(fe.fullPath);return assign(fe,he,{params:R(he.params),hash:decode$4(fe.hash),redirectedFrom:void 0,href:ve})}let W;if(T.path!=null)W=assign({},T,{path:parseURL(a,T.path,K.path).path});else{const fe=assign({},T.params);for(const he in fe)fe[he]==null&&delete fe[he];W=assign({},T,{params:A(fe)}),K.params=A(K.params)}const ne=e.resolve(W,K),ie=T.hash||"";ne.params=y(R(ne.params));const G=stringifyURL(u,assign({},T,{hash:encodeHash(ie),path:ne.path})),H=d.createHref(G);return assign({fullPath:G,hash:ie,query:u===stringifyQuery?normalizeQuery(T.query):T.query||{}},ne,{redirectedFrom:void 0,href:H})}function L(T){return typeof T=="string"?parseURL(a,T,_.value.path):assign({},T)}function U(T,K){if(S!==T)return createRouterError(8,{from:K,to:T})}function j(T){return Ee(T)}function ee(T){return j(assign(L(T),{replace:!0}))}function se(T){const K=T.matched[T.matched.length-1];if(K&&K.redirect){const{redirect:W}=K;let ne=typeof W=="function"?W(T):W;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=L(ne):{path:ne},ne.params={}),assign({query:T.query,hash:T.hash,params:ne.path!=null?{}:T.params},ne)}}function Ee(T,K){const W=S=k(T),ne=_.value,ie=T.state,G=T.force,H=T.replace===!0,fe=se(W);if(fe)return Ee(assign(L(fe),{state:typeof fe=="object"?assign({},ie,fe.state):ie,force:G,replace:H}),K||W);const he=W;he.redirectedFrom=K;let ve;return!G&&isSameRouteLocation(u,ne,W)&&(ve=createRouterError(16,{to:he,from:ne}),b(ne,ne,!0,!1)),(ve?Promise.resolve(ve):Le(he,ne)).catch(ke=>isNavigationFailure(ke)?isNavigationFailure(ke,2)?ke:n(ke):M(ke,he,ne)).then(ke=>{if(ke){if(isNavigationFailure(ke,2))return Ee(assign({replace:H},L(ke.to),{state:typeof ke.to=="object"?assign({},ie,ke.to.state):ie,force:G}),K||he)}else ke=t(he,ne,!0,H,ie);return E(he,ne,ke),ke})}function ge(T,K){const W=U(T,K);return W?Promise.reject(W):Promise.resolve()}function oe(T){const K=F.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(T):T()}function Le(T,K){let W;const[ne,ie,G]=extractChangingRecords(T,K);W=extractComponentsGuards(ne.reverse(),"beforeRouteLeave",T,K);for(const fe of ne)fe.leaveGuards.forEach(he=>{W.push(guardToPromiseFn(he,T,K))});const H=ge.bind(null,T,K);return W.push(H),X(W).then(()=>{W=[];for(const fe of s.list())W.push(guardToPromiseFn(fe,T,K));return W.push(H),X(W)}).then(()=>{W=extractComponentsGuards(ie,"beforeRouteUpdate",T,K);for(const fe of ie)fe.updateGuards.forEach(he=>{W.push(guardToPromiseFn(he,T,K))});return W.push(H),X(W)}).then(()=>{W=[];for(const fe of G)if(fe.beforeEnter)if(isArray(fe.beforeEnter))for(const he of fe.beforeEnter)W.push(guardToPromiseFn(he,T,K));else W.push(guardToPromiseFn(fe.beforeEnter,T,K));return W.push(H),X(W)}).then(()=>(T.matched.forEach(fe=>fe.enterCallbacks={}),W=extractComponentsGuards(G,"beforeRouteEnter",T,K,oe),W.push(H),X(W))).then(()=>{W=[];for(const fe of g.list())W.push(guardToPromiseFn(fe,T,K));return W.push(H),X(W)}).catch(fe=>isNavigationFailure(fe,8)?fe:Promise.reject(fe))}function E(T,K,W){x.list().forEach(ne=>oe(()=>ne(T,K,W)))}function t(T,K,W,ne,ie){const G=U(T,K);if(G)return G;const H=K===START_LOCATION_NORMALIZED,fe=isBrowser?history.state:{};W&&(ne||H?d.replace(T.fullPath,assign({scroll:H&&fe&&fe.scroll},ie)):d.push(T.fullPath,ie)),_.value=T,b(T,K,W,H),n()}let o;function c(){o||(o=d.listen((T,K,W)=>{if(!Y.listening)return;const ne=k(T),ie=se(ne);if(ie){Ee(assign(ie,{replace:!0}),ne).catch(noop$1);return}S=ne;const G=_.value;isBrowser&&saveScrollPosition(getScrollKey(G.fullPath,W.delta),computeScrollPosition()),Le(ne,G).catch(H=>isNavigationFailure(H,12)?H:isNavigationFailure(H,2)?(Ee(H.to,ne).then(fe=>{isNavigationFailure(fe,20)&&!W.delta&&W.type===NavigationType.pop&&d.go(-1,!1)}).catch(noop$1),Promise.reject()):(W.delta&&d.go(-W.delta,!1),M(H,ne,G))).then(H=>{H=H||t(ne,G,!1),H&&(W.delta&&!isNavigationFailure(H,8)?d.go(-W.delta,!1):W.type===NavigationType.pop&&isNavigationFailure(H,20)&&d.go(-1,!1)),E(ne,G,H)}).catch(noop$1)}))}let l=useCallbacks(),v=useCallbacks(),w;function M(T,K,W){n(T);const ne=v.list();return ne.length?ne.forEach(ie=>ie(T,K,W)):console.error(T),Promise.reject(T)}function m(){return w&&_.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((T,K)=>{l.add([T,K])})}function n(T){return w||(w=!T,c(),l.list().forEach(([K,W])=>T?W(T):K()),l.reset()),T}function b(T,K,W,ne){const{scrollBehavior:ie}=r;if(!isBrowser||!ie)return Promise.resolve();const G=!W&&getSavedScrollPosition(getScrollKey(T.fullPath,0))||(ne||!W)&&history.state&&history.state.scroll||null;return nextTick().then(()=>ie(T,K,G)).then(H=>H&&scrollToPosition(H)).catch(H=>M(H,T,K))}const P=T=>d.go(T);let I;const F=new Set,Y={currentRoute:_,listening:!0,addRoute:B,removeRoute:q,hasRoute:N,getRoutes:C,resolve:k,options:r,push:j,replace:ee,go:P,back:()=>P(-1),forward:()=>P(1),beforeEach:s.add,beforeResolve:g.add,afterEach:x.add,onError:v.add,isReady:m,install(T){const K=this;T.component("RouterLink",RouterLink),T.component("RouterView",RouterView),T.config.globalProperties.$router=K,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(_)}),isBrowser&&!I&&_.value===START_LOCATION_NORMALIZED&&(I=!0,j(d.location).catch(ie=>{}));const W={};for(const ie in START_LOCATION_NORMALIZED)Object.defineProperty(W,ie,{get:()=>_.value[ie],enumerable:!0});T.provide(routerKey,K),T.provide(routeLocationKey,shallowReactive(W)),T.provide(routerViewLocationKey,_);const ne=T.unmount;F.add(T),T.unmount=function(){F.delete(T),F.size<1&&(S=START_LOCATION_NORMALIZED,o&&o(),o=null,_.value=START_LOCATION_NORMALIZED,I=!1,w=!1),ne()}}};function X(T){return T.reduce((K,W)=>K.then(()=>oe(W)),Promise.resolve())}return Y}function extractChangingRecords(r,e){const a=[],u=[],d=[],s=Math.max(e.matched.length,r.matched.length);for(let g=0;g<s;g++){const x=e.matched[g];x&&(r.matched.find(S=>isSameRouteRecord(S,x))?u.push(x):a.push(x));const _=r.matched[g];_&&(e.matched.find(S=>isSameRouteRecord(S,_))||d.push(_))}return[a,u,d]}function useRouter(){return inject(routerKey)}const useUserStore=defineStore("user",{state:()=>({accessToken:null,serverUrl:null}),getters:{getAccessToken:r=>r.accessToken,getServerUrl:r=>r.serverUrl},actions:{setUserData(r){this.accessToken=r.accessToken,this.serverUrl=r.serverUrl}}}),TESTNET_ACCESS_TOKEN="SAABQWC4KNWKXVJ2KT5P23I2CXZY32CWVQMPPS64FXWFDOZRVVVM6CC6BM",TESTNET_BROKER_URL="wss://europe-west3-gcp-dl-testnet-brokernode-frankfurt01.synternet.com:443",ACCESS_TOKEN=TESTNET_ACCESS_TOKEN,BROKER_URL=TESTNET_BROKER_URL,SERVER_OPTIONS=[{text:"Testnet",value:TESTNET_BROKER_URL}],_sfc_main$5={setup(){const r=useRouter(),e=ref$1(ACCESS_TOKEN),a=ref$1(BROKER_URL),u=useUserStore();return{accessToken:e,brokerUrl:a,options:SERVER_OPTIONS,handleLogIn:()=>{const s={accessToken:e.value,serverUrl:a.value};u.setUserData(s),r.push("/video")}}}},_export_sfc=(r,e)=>{const a=r.__vccOpts||r;for(const[u,d]of e)a[u]=d;return a},_withScopeId$3=r=>(pushScopeId("data-v-c1fbe677"),r=r(),popScopeId(),r),_hoisted_1$3={class:"inputContainer"},_hoisted_2$3=_withScopeId$3(()=>createBaseVNode("label",{for:"accessToken"},"Access Token",-1)),_hoisted_3$2={class:"inputContainer"},_hoisted_4$1=_withScopeId$3(()=>createBaseVNode("label",{for:"brokerUrl"},"Broker Server URL",-1)),_hoisted_5$1=_withScopeId$3(()=>createBaseVNode("option",{disabled:"",value:""},"Please select one",-1)),_hoisted_6$1=["value"],_hoisted_7$1=_withScopeId$3(()=>createBaseVNode("div",null,[createBaseVNode("button",null,"Login")],-1));function _sfc_render$5(r,e,a,u,d,s){return openBlock(),createElementBlock("form",{onSubmit:e[2]||(e[2]=withModifiers((...g)=>u.handleLogIn&&u.handleLogIn(...g),["prevent"]))},[createBaseVNode("div",_hoisted_1$3,[_hoisted_2$3,withDirectives(createBaseVNode("input",{id:"accessToken",placeholder:"Enter subscriber access token","onUpdate:modelValue":e[0]||(e[0]=g=>u.accessToken=g)},null,512),[[vModelText,u.accessToken]])]),createBaseVNode("div",_hoisted_3$2,[_hoisted_4$1,withDirectives(createBaseVNode("select",{id:"brokerUrl","onUpdate:modelValue":e[1]||(e[1]=g=>u.brokerUrl=g)},[_hoisted_5$1,(openBlock(!0),createElementBlock(Fragment,null,renderList(u.options,g=>(openBlock(),createElementBlock("option",{value:g.value},toDisplayString(g.text),9,_hoisted_6$1))),256))],512),[[vModelSelect,u.brokerUrl]])]),_hoisted_7$1],32)}const LoginForm=_export_sfc(_sfc_main$5,[["render",_sfc_render$5],["__scopeId","data-v-c1fbe677"]]),_sfc_main$4={components:{LoginForm}},_withScopeId$2=r=>(pushScopeId("data-v-4a318a10"),r=r(),popScopeId(),r),_hoisted_1$2={class:"contentContainer"},_hoisted_2$2=_withScopeId$2(()=>createBaseVNode("h1",null,"PurrFlix",-1));function _sfc_render$4(r,e,a,u,d,s){const g=resolveComponent("login-form"),x=resolveComponent("base-page-container");return openBlock(),createBlock(x,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$2,[_hoisted_2$2,createVNode(g)])]),_:1})}const HomePage=_export_sfc(_sfc_main$4,[["render",_sfc_render$4],["__scopeId","data-v-4a318a10"]]),Empty=new Uint8Array(0),TE=new TextEncoder,TD=new TextDecoder;function concat(...r){let e=0;for(let d=0;d<r.length;d++)e+=r[d].length;const a=new Uint8Array(e);let u=0;for(let d=0;d<r.length;d++)a.set(r[d],u),u+=r[d].length;return a}function encode$2(...r){const e=[];for(let a=0;a<r.length;a++)e.push(TE.encode(r[a]));return e.length===0?Empty:e.length===1?e[0]:concat(...e)}function decode$3(r){return!r||r.length===0?"":TD.decode(r)}const digits="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",base$2=36,maxSeq=0xcfd41b9100000,minInc=33,maxInc=333,totalLen=22;function _getRandomValues(r){for(let e=0;e<r.length;e++)r[e]=Math.floor(Math.random()*255)}function fillRandom(r){var e;(e=globalThis==null?void 0:globalThis.crypto)!=null&&e.getRandomValues?globalThis.crypto.getRandomValues(r):_getRandomValues(r)}class Nuid{constructor(){de(this,"buf");de(this,"seq");de(this,"inc");de(this,"inited");this.buf=new Uint8Array(totalLen),this.inited=!1}init(){this.inited=!0,this.setPre(),this.initSeqAndInc(),this.fillSeq()}initSeqAndInc(){this.seq=Math.floor(Math.random()*maxSeq),this.inc=Math.floor(Math.random()*(maxInc-minInc)+minInc)}setPre(){const e=new Uint8Array(12);fillRandom(e);for(let a=0;a<12;a++){const u=e[a]%36;this.buf[a]=digits.charCodeAt(u)}}fillSeq(){let e=this.seq;for(let a=totalLen-1;a>=12;a--)this.buf[a]=digits.charCodeAt(e%base$2),e=Math.floor(e/base$2)}next(){return this.inited||this.init(),this.seq+=this.inc,this.seq>0xcfd41b9100000&&(this.setPre(),this.initSeqAndInc()),this.fillSeq(),String.fromCharCode.apply(String,this.buf)}reset(){this.init()}}const nuid=new Nuid;var Events;(function(r){r.Disconnect="disconnect",r.Reconnect="reconnect",r.Update="update",r.LDM="ldm",r.Error="error"})(Events||(Events={}));var DebugEvents;(function(r){r.Reconnecting="reconnecting",r.PingTimer="pingTimer",r.StaleConnection="staleConnection",r.ClientInitiatedReconnect="client initiated reconnect"})(DebugEvents||(DebugEvents={}));var ErrorCode;(function(r){r.ApiError="BAD API",r.BadAuthentication="BAD_AUTHENTICATION",r.BadCreds="BAD_CREDS",r.BadHeader="BAD_HEADER",r.BadJson="BAD_JSON",r.BadPayload="BAD_PAYLOAD",r.BadSubject="BAD_SUBJECT",r.Cancelled="CANCELLED",r.ConnectionClosed="CONNECTION_CLOSED",r.ConnectionDraining="CONNECTION_DRAINING",r.ConnectionRefused="CONNECTION_REFUSED",r.ConnectionTimeout="CONNECTION_TIMEOUT",r.Disconnect="DISCONNECT",r.InvalidOption="INVALID_OPTION",r.InvalidPayload="INVALID_PAYLOAD",r.MaxPayloadExceeded="MAX_PAYLOAD_EXCEEDED",r.NoResponders="503",r.NotFunction="NOT_FUNC",r.RequestError="REQUEST_ERROR",r.ServerOptionNotAvailable="SERVER_OPT_NA",r.SubClosed="SUB_CLOSED",r.SubDraining="SUB_DRAINING",r.Timeout="TIMEOUT",r.Tls="TLS",r.Unknown="UNKNOWN_ERROR",r.WssRequired="WSS_REQUIRED",r.JetStreamInvalidAck="JESTREAM_INVALID_ACK",r.JetStream404NoMessages="404",r.JetStream408RequestTimeout="408",r.JetStream409MaxAckPendingExceeded="409",r.JetStream409="409",r.JetStreamNotEnabled="503",r.JetStreamIdleHeartBeat="IDLE_HEARTBEAT",r.AuthorizationViolation="AUTHORIZATION_VIOLATION",r.AuthenticationExpired="AUTHENTICATION_EXPIRED",r.ProtocolError="NATS_PROTOCOL_ERR",r.PermissionsViolation="PERMISSIONS_VIOLATION",r.AuthenticationTimeout="AUTHENTICATION_TIMEOUT"})(ErrorCode||(ErrorCode={}));function isNatsError(r){return typeof r.code=="string"}class Messages{constructor(){de(this,"messages");this.messages=new Map,this.messages.set(ErrorCode.InvalidPayload,"Invalid payload type - payloads can be 'binary', 'string', or 'json'"),this.messages.set(ErrorCode.BadJson,"Bad JSON"),this.messages.set(ErrorCode.WssRequired,"TLS is required, therefore a secure websocket connection is also required")}static getMessage(e){return messages.getMessage(e)}getMessage(e){return this.messages.get(e)||e}}const messages=new Messages;class NatsError extends Error{constructor(a,u,d){super(a);de(this,"name");de(this,"message");de(this,"code");de(this,"permissionContext");de(this,"chainedError");de(this,"api_error");this.name="NatsError",this.message=a,this.code=u,this.chainedError=d}static errorForCode(a,u){const d=Messages.getMessage(a);return new NatsError(d,a,u)}isAuthError(){return this.code===ErrorCode.AuthenticationExpired||this.code===ErrorCode.AuthorizationViolation}isAuthTimeout(){return this.code===ErrorCode.AuthenticationTimeout}isPermissionError(){return this.code===ErrorCode.PermissionsViolation}isProtocolError(){return this.code===ErrorCode.ProtocolError}isJetStreamError(){return this.api_error!==void 0}jsError(){return this.api_error?this.api_error:null}}var Match;(function(r){r[r.Exact=0]="Exact",r[r.CanonicalMIME=1]="CanonicalMIME",r[r.IgnoreCase=2]="IgnoreCase"})(Match||(Match={}));var RequestStrategy;(function(r){r.Timer="timer",r.Count="count",r.JitterTimer="jitterTimer",r.SentinelMsg="sentinelMsg"})(RequestStrategy||(RequestStrategy={}));var ServiceResponseType;(function(r){r.STATS="io.nats.micro.v1.stats_response",r.INFO="io.nats.micro.v1.info_response",r.PING="io.nats.micro.v1.ping_response"})(ServiceResponseType||(ServiceResponseType={}));const ServiceErrorHeader="Nats-Service-Error",ServiceErrorCodeHeader="Nats-Service-Error-Code";class ServiceError extends Error{constructor(a,u){super(u);de(this,"code");this.code=a}static isServiceError(a){return ServiceError.toServiceError(a)!==null}static toServiceError(a){var d,s;const u=((d=a==null?void 0:a.headers)==null?void 0:d.get(ServiceErrorCodeHeader))||"";if(u!==""){const g=parseInt(u)||400,x=((s=a==null?void 0:a.headers)==null?void 0:s.get(ServiceErrorHeader))||"";return new ServiceError(g,x.length?x:u)}return null}}function createInbox(r=""){if(r=r||"_INBOX",typeof r!="string")throw new Error("prefix must be a string");return r.split(".").forEach(e=>{if(e==="*"||e===">")throw new Error(`inbox prefixes cannot have wildcards '${r}'`)}),`${r}.${nuid.next()}`}const DEFAULT_HOST="127.0.0.1";var ServiceVerb;(function(r){r.PING="PING",r.STATS="STATS",r.INFO="INFO"})(ServiceVerb||(ServiceVerb={}));function extend(r,...e){for(let a=0;a<e.length;a++){const u=e[a];Object.keys(u).forEach(function(d){r[d]=u[d]})}return r}function render(r){return TD.decode(r).replace(/\n/g,"␊").replace(/\r/g,"␍")}function timeout(r,e=!0){const a=e?NatsError.errorForCode(ErrorCode.Timeout):null;let u,d;const s=new Promise((g,x)=>{u={cancel:()=>{d&&clearTimeout(d)}},d=setTimeout(()=>{x(a===null?NatsError.errorForCode(ErrorCode.Timeout):a)},r)});return Object.assign(s,u)}function delay(r=0){let e;const a=new Promise(u=>{const d=setTimeout(()=>{u()},r);e={cancel:()=>{d&&clearTimeout(d)}}});return Object.assign(a,e)}function deferred(){let r={};const e=new Promise((a,u)=>{r={resolve:a,reject:u}});return Object.assign(e,r)}function shuffle(r){for(let e=r.length-1;e>0;e--){const a=Math.floor(Math.random()*(e+1));[r[e],r[a]]=[r[a],r[e]]}return r}function jitter(r){return r===0?0:Math.floor(r/2+Math.random()*r)}function backoff(r=[0,250,250,500,500,3e3,5e3]){Array.isArray(r)||(r=[0,250,250,500,500,3e3,5e3]);const e=r.length-1;return{backoff(a){return jitter(a>e?r[e]:r[a])}}}function nanos(r){return r*1e6}function millis(r){return Math.floor(r/1e6)}function canonicalMIMEHeaderKey(r){let u=!0;const d=new Array(r.length);for(let s=0;s<r.length;s++){let g=r.charCodeAt(s);if(g===58||g<33||g>126)throw new NatsError(`'${r[s]}' is not a valid character for a header key`,ErrorCode.BadHeader);u&&97<=g&&g<=122?g-=32:!u&&65<=g&&g<=90&&(g+=32),d[s]=g,u=g==45}return String.fromCharCode(...d)}function headers(r=0,e=""){if(r===0&&e!==""||r>0&&e==="")throw new Error("setting status requires both code and description");return new MsgHdrsImpl(r,e)}const HEADER="NATS/1.0";class MsgHdrsImpl{constructor(e=0,a=""){de(this,"_code");de(this,"headers");de(this,"_description");this._code=e,this._description=a,this.headers=new Map}[Symbol.iterator](){return this.headers.entries()}size(){return this.headers.size}equals(e){if(e&&this.headers.size===e.headers.size&&this._code===e._code){for(const[a,u]of this.headers){const d=e.values(a);if(u.length!==d.length)return!1;const s=[...u].sort(),g=[...d].sort();for(let x=0;x<s.length;x++)if(s[x]!==g[x])return!1}return!0}return!1}static decode(e){const a=new MsgHdrsImpl,d=TD.decode(e).split(`\r
`),s=d[0];if(s!==HEADER){let g=s.replace(HEADER,"").trim();if(g.length>0){a._code=parseInt(g,10),isNaN(a._code)&&(a._code=0);const x=a._code.toString();g=g.replace(x,""),a._description=g.trim()}}return d.length>=1&&d.slice(1).map(g=>{if(g){const x=g.indexOf(":");if(x>-1){const _=g.slice(0,x),S=g.slice(x+1).trim();a.append(_,S)}}}),a}toString(){if(this.headers.size===0&&this._code===0)return"";let e=HEADER;this._code>0&&this._description!==""&&(e+=` ${this._code} ${this._description}`);for(const[a,u]of this.headers)for(let d=0;d<u.length;d++)e=`${e}\r
${a}: ${u[d]}`;return`${e}\r
\r
`}encode(){return TE.encode(this.toString())}static validHeaderValue(e){if(/[\r\n]/.test(e))throw new NatsError("invalid header value - \\r and \\n are not allowed.",ErrorCode.BadHeader);return e.trim()}keys(){const e=[];for(const a of this.headers.keys())e.push(a);return e}findKeys(e,a=Match.Exact){const u=this.keys();switch(a){case Match.Exact:return u.filter(d=>d===e);case Match.CanonicalMIME:return e=canonicalMIMEHeaderKey(e),u.filter(d=>d===e);default:{const d=e.toLowerCase();return u.filter(s=>d===s.toLowerCase())}}}get(e,a=Match.Exact){const u=this.findKeys(e,a);if(u.length){const d=this.headers.get(u[0]);if(d)return Array.isArray(d)?d[0]:d}return""}last(e,a=Match.Exact){const u=this.findKeys(e,a);if(u.length){const d=this.headers.get(u[0]);if(d)return Array.isArray(d)?d[d.length-1]:d}return""}has(e,a=Match.Exact){return this.findKeys(e,a).length>0}set(e,a,u=Match.Exact){this.delete(e,u),this.append(e,a,u)}append(e,a,u=Match.Exact){const d=canonicalMIMEHeaderKey(e);u===Match.CanonicalMIME&&(e=d);const s=this.findKeys(e,u);e=s.length>0?s[0]:e;const g=MsgHdrsImpl.validHeaderValue(a);let x=this.headers.get(e);x||(x=[],this.headers.set(e,x)),x.push(g)}values(e,a=Match.Exact){const u=[];return this.findKeys(e,a).forEach(s=>{const g=this.headers.get(s);g&&u.push(...g)}),u}delete(e,a=Match.Exact){this.findKeys(e,a).forEach(d=>{this.headers.delete(d)})}get hasError(){return this._code>=300}get status(){return`${this._code} ${this._description}`.trim()}toRecord(){const e={};return this.keys().forEach(a=>{e[a]=this.values(a)}),e}get code(){return this._code}get description(){return this._description}static fromRecord(e){const a=new MsgHdrsImpl;for(const u in e)a.headers.set(u,e[u]);return a}}function StringCodec(){return{encode(r){return TE.encode(r)},decode(r){return TD.decode(r)}}}function JSONCodec(r){return{encode(e){try{return e===void 0&&(e=null),TE.encode(JSON.stringify(e))}catch(a){throw NatsError.errorForCode(ErrorCode.BadJson,a)}},decode(e){try{return JSON.parse(TD.decode(e),r)}catch(a){throw NatsError.errorForCode(ErrorCode.BadJson,a)}}}}function isRequestError(r){var e;return r&&r.data.length===0&&((e=r.headers)==null?void 0:e.code)===503?NatsError.errorForCode(ErrorCode.NoResponders):null}class MsgImpl{constructor(e,a,u){de(this,"_headers");de(this,"_msg");de(this,"_rdata");de(this,"_reply");de(this,"_subject");de(this,"publisher");this._msg=e,this._rdata=a,this.publisher=u}get subject(){return this._subject?this._subject:(this._subject=TD.decode(this._msg.subject),this._subject)}get reply(){return this._reply?this._reply:(this._reply=TD.decode(this._msg.reply),this._reply)}get sid(){return this._msg.sid}get headers(){if(this._msg.hdr>-1&&!this._headers){const e=this._rdata.subarray(0,this._msg.hdr);this._headers=MsgHdrsImpl.decode(e)}return this._headers}get data(){return this._rdata?this._msg.hdr>-1?this._rdata.subarray(this._msg.hdr):this._rdata:new Uint8Array(0)}respond(e=Empty,a){return this.reply?(this.publisher.publish(this.reply,e,a),!0):!1}size(){var d;const e=this._msg.subject.length,a=((d=this._msg.reply)==null?void 0:d.length)||0,u=this._msg.size===-1?0:this._msg.size;return e+a+u}json(e){return JSONCodec(e).decode(this.data)}string(){return TD.decode(this.data)}requestInfo(){var a;const e=(a=this.headers)==null?void 0:a.get("Nats-Request-Info");return e?JSON.parse(e,function(u,d){return(u==="start"||u==="stop")&&d!==""?new Date(Date.parse(d)):d}):null}}de(MsgImpl,"jc");function validateDurableName(r){return minValidation("durable",r)}function validateStreamName(r){return minValidation("stream",r)}function minValidation(r,e=""){if(e==="")throw Error(`${r} name required`);return[".","*",">","/","\\"," ","	",`
`,"\r"].forEach(u=>{if(e.indexOf(u)!==-1){switch(u){case`
`:u="\\n";break;case"\r":u="\\r";break;case"	":u="\\t";break}throw Error(`invalid ${r} name - ${r} name cannot contain '${u}'`)}}),""}function validateName(r,e=""){if(e==="")throw Error(`${r} name required`);const a=validName(e);if(a.length)throw new Error(`invalid ${r} name - ${r} name ${a}`)}function validName(r=""){if(r==="")throw Error("name required");const e=/^[-\w]+$/g;if(r.match(e)===null){for(const u of r.split(""))if(u.match(e)===null)return`cannot contain '${u}'`}return""}function isFlowControlMsg(r){if(r.data.length>0)return!1;const e=r.headers;return e?e.code>=100&&e.code<200:!1}function isHeartbeatMsg(r){var e;return isFlowControlMsg(r)&&((e=r.headers)==null?void 0:e.description)==="Idle Heartbeat"}function newJsErrorMsg(r,e,a){const u=headers(r,e),d={hdr:1,sid:0,size:0},s=new MsgImpl(d,Empty,{});return s._headers=u,s._subject=a,s}function checkJsError(r){if(r.data.length!==0)return null;const e=r.headers;return e?checkJsErrorCode(e.code,e.description):null}var Js409Errors;(function(r){r.MaxBatchExceeded="exceeded maxrequestbatch of",r.MaxExpiresExceeded="exceeded maxrequestexpires of",r.MaxBytesExceeded="exceeded maxrequestmaxbytes of",r.MaxMessageSizeExceeded="message size exceeds maxbytes",r.PushConsumer="consumer is push based",r.MaxWaitingExceeded="exceeded maxwaiting",r.IdleHeartbeatMissed="idle heartbeats missed",r.ConsumerDeleted="consumer deleted"})(Js409Errors||(Js409Errors={}));function isTerminal409(r){return r.code!==ErrorCode.JetStream409?!1:[Js409Errors.MaxBatchExceeded,Js409Errors.MaxExpiresExceeded,Js409Errors.MaxBytesExceeded,Js409Errors.MaxMessageSizeExceeded,Js409Errors.PushConsumer,Js409Errors.IdleHeartbeatMissed,Js409Errors.ConsumerDeleted].find(a=>r.message.indexOf(a)!==-1)!==void 0}function checkJsErrorCode(r,e=""){if(r<300)return null;switch(e=e.toLowerCase(),r){case 404:return new NatsError(e,ErrorCode.JetStream404NoMessages);case 408:return new NatsError(e,ErrorCode.JetStream408RequestTimeout);case 409:{const a=e.startsWith(Js409Errors.IdleHeartbeatMissed)?ErrorCode.JetStreamIdleHeartBeat:ErrorCode.JetStream409;return new NatsError(e,a)}case 503:return NatsError.errorForCode(ErrorCode.JetStreamNotEnabled,new Error(e));default:return e===""&&(e=ErrorCode.Unknown),new NatsError(e,`${r}`)}}class QueuedIteratorImpl{constructor(){de(this,"inflight");de(this,"processed");de(this,"received");de(this,"noIterator");de(this,"iterClosed");de(this,"done");de(this,"signal");de(this,"yields");de(this,"filtered");de(this,"pendingFiltered");de(this,"ingestionFilterFn");de(this,"protocolFilterFn");de(this,"dispatchedFn");de(this,"ctx");de(this,"_data");de(this,"err");de(this,"time");de(this,"yielding");this.inflight=0,this.filtered=0,this.pendingFiltered=0,this.processed=0,this.received=0,this.noIterator=!1,this.done=!1,this.signal=deferred(),this.yields=[],this.iterClosed=deferred(),this.time=0,this.yielding=!1}[Symbol.asyncIterator](){return this.iterate()}push(e){if(this.done)return;if(typeof e=="function"){this.yields.push(e),this.signal.resolve();return}const{ingest:a,protocol:u}=this.ingestionFilterFn?this.ingestionFilterFn(e,this.ctx||this):{ingest:!0,protocol:!1};a&&(u&&(this.filtered++,this.pendingFiltered++),this.yields.push(e),this.signal.resolve())}async*iterate(){if(this.noIterator)throw new NatsError("unsupported iterator",ErrorCode.ApiError);if(this.yielding)throw new NatsError("already yielding",ErrorCode.ApiError);this.yielding=!0;try{for(;;){if(this.yields.length===0&&await this.signal,this.err)throw this.err;const e=this.yields;this.inflight=e.length,this.yields=[];for(let a=0;a<e.length;a++){if(typeof e[a]=="function"){const d=e[a];try{d()}catch(s){throw s}if(this.err)throw this.err;continue}if(this.protocolFilterFn?this.protocolFilterFn(e[a]):!0){this.processed++;const d=Date.now();yield e[a],this.time=Date.now()-d,this.dispatchedFn&&e[a]&&this.dispatchedFn(e[a])}else this.pendingFiltered--;this.inflight--}if(this.done)break;this.yields.length===0&&(e.length=0,this.yields=e,this.signal=deferred())}}finally{this.stop()}}stop(e){this.done||(this.err=e,this.done=!0,this.signal.resolve(),this.iterClosed.resolve(e))}getProcessed(){return this.noIterator?this.received:this.processed}getPending(){return this.yields.length+this.inflight-this.pendingFiltered}getReceived(){return this.received-this.filtered}}class IdleHeartbeatMonitor{constructor(e,a,u={maxOut:2}){de(this,"interval");de(this,"maxOut");de(this,"cancelAfter");de(this,"timer");de(this,"autoCancelTimer");de(this,"last");de(this,"missed");de(this,"count");de(this,"callback");this.interval=e,this.maxOut=(u==null?void 0:u.maxOut)||2,this.cancelAfter=(u==null?void 0:u.cancelAfter)||0,this.last=Date.now(),this.missed=0,this.count=0,this.callback=a,this._schedule()}cancel(){this.autoCancelTimer&&clearTimeout(this.autoCancelTimer),this.timer&&clearInterval(this.timer),this.timer=0,this.autoCancelTimer=0,this.missed=0}work(){this.last=Date.now(),this.missed=0}_change(e,a=0,u=2){this.interval=e,this.maxOut=u,this.cancelAfter=a,this.restart()}restart(){this.cancel(),this._schedule()}_schedule(){this.cancelAfter>0&&(this.autoCancelTimer=setTimeout(()=>{this.cancel()},this.cancelAfter)),this.timer=setInterval(()=>{if(this.count++,Date.now()-this.last>this.interval&&this.missed++,this.missed>=this.maxOut)try{this.callback(this.missed)===!0&&this.cancel()}catch(e){console.log(e)}},this.interval)}}var RetentionPolicy;(function(r){r.Limits="limits",r.Interest="interest",r.Workqueue="workqueue"})(RetentionPolicy||(RetentionPolicy={}));var DiscardPolicy;(function(r){r.Old="old",r.New="new"})(DiscardPolicy||(DiscardPolicy={}));var StorageType;(function(r){r.File="file",r.Memory="memory"})(StorageType||(StorageType={}));var DeliverPolicy;(function(r){r.All="all",r.Last="last",r.New="new",r.StartSequence="by_start_sequence",r.StartTime="by_start_time",r.LastPerSubject="last_per_subject"})(DeliverPolicy||(DeliverPolicy={}));var AckPolicy;(function(r){r.None="none",r.All="all",r.Explicit="explicit",r.NotSet=""})(AckPolicy||(AckPolicy={}));var ReplayPolicy;(function(r){r.Instant="instant",r.Original="original"})(ReplayPolicy||(ReplayPolicy={}));var StoreCompression;(function(r){r.None="none",r.S2="s2"})(StoreCompression||(StoreCompression={}));var ConsumerApiAction;(function(r){r.CreateOrUpdate="",r.Update="update",r.Create="create"})(ConsumerApiAction||(ConsumerApiAction={}));function defaultConsumer(r,e={}){return Object.assign({name:r,deliver_policy:DeliverPolicy.All,ack_policy:AckPolicy.Explicit,ack_wait:nanos(30*1e3),replay_policy:ReplayPolicy.Instant},e)}var AdvisoryKind;(function(r){r.API="api_audit",r.StreamAction="stream_action",r.ConsumerAction="consumer_action",r.SnapshotCreate="snapshot_create",r.SnapshotComplete="snapshot_complete",r.RestoreCreate="restore_create",r.RestoreComplete="restore_complete",r.MaxDeliver="max_deliver",r.Terminated="terminated",r.Ack="consumer_ack",r.StreamLeaderElected="stream_leader_elected",r.StreamQuorumLost="stream_quorum_lost",r.ConsumerLeaderElected="consumer_leader_elected",r.ConsumerQuorumLost="consumer_quorum_lost"})(AdvisoryKind||(AdvisoryKind={}));var JsHeaders;(function(r){r.StreamSourceHdr="Nats-Stream-Source",r.LastConsumerSeqHdr="Nats-Last-Consumer",r.LastStreamSeqHdr="Nats-Last-Stream",r.ConsumerStalledHdr="Nats-Consumer-Stalled",r.MessageSizeHdr="Nats-Msg-Size",r.RollupHdr="Nats-Rollup",r.RollupValueSubject="sub",r.RollupValueAll="all",r.PendingMessagesHdr="Nats-Pending-Messages",r.PendingBytesHdr="Nats-Pending-Bytes"})(JsHeaders||(JsHeaders={}));var KvWatchInclude;(function(r){r.LastValue="",r.AllHistory="history",r.UpdatesOnly="updates"})(KvWatchInclude||(KvWatchInclude={}));var DirectMsgHeaders;(function(r){r.Stream="Nats-Stream",r.Sequence="Nats-Sequence",r.TimeStamp="Nats-Time-Stamp",r.Subject="Nats-Subject"})(DirectMsgHeaders||(DirectMsgHeaders={}));var RepublishHeaders;(function(r){r.Stream="Nats-Stream",r.Subject="Nats-Subject",r.Sequence="Nats-Sequence",r.LastSequence="Nats-Last-Sequence",r.Size="Nats-Msg-Size"})(RepublishHeaders||(RepublishHeaders={}));const kvPrefix="KV_";class ConsumerOptsBuilderImpl{constructor(e){de(this,"config");de(this,"ordered");de(this,"mack");de(this,"stream");de(this,"callbackFn");de(this,"max");de(this,"qname");de(this,"isBind");de(this,"filters");this.stream="",this.mack=!1,this.ordered=!1,this.config=defaultConsumer("",e||{})}getOpts(){var a;const e={};if(e.config=Object.assign({},this.config),e.config.filter_subject&&(this.filterSubject(e.config.filter_subject),e.config.filter_subject=void 0),e.config.filter_subjects&&((a=e.config.filter_subjects)==null||a.forEach(u=>{this.filterSubject(u)}),e.config.filter_subjects=void 0),e.mack=this.mack,e.stream=this.stream,e.callbackFn=this.callbackFn,e.max=this.max,e.queue=this.qname,e.ordered=this.ordered,e.config.ack_policy=e.ordered?AckPolicy.None:e.config.ack_policy,e.isBind=e.isBind||!1,this.filters)switch(this.filters.length){case 0:break;case 1:e.config.filter_subject=this.filters[0];break;default:e.config.filter_subjects=this.filters}return e}description(e){return this.config.description=e,this}deliverTo(e){return this.config.deliver_subject=e,this}durable(e){return validateDurableName(e),this.config.durable_name=e,this}startSequence(e){if(e<=0)throw new Error("sequence must be greater than 0");return this.config.deliver_policy=DeliverPolicy.StartSequence,this.config.opt_start_seq=e,this}startTime(e){return this.config.deliver_policy=DeliverPolicy.StartTime,this.config.opt_start_time=e.toISOString(),this}deliverAll(){return this.config.deliver_policy=DeliverPolicy.All,this}deliverLastPerSubject(){return this.config.deliver_policy=DeliverPolicy.LastPerSubject,this}deliverLast(){return this.config.deliver_policy=DeliverPolicy.Last,this}deliverNew(){return this.config.deliver_policy=DeliverPolicy.New,this}startAtTimeDelta(e){return this.startTime(new Date(Date.now()-e)),this}headersOnly(){return this.config.headers_only=!0,this}ackNone(){return this.config.ack_policy=AckPolicy.None,this}ackAll(){return this.config.ack_policy=AckPolicy.All,this}ackExplicit(){return this.config.ack_policy=AckPolicy.Explicit,this}ackWait(e){return this.config.ack_wait=nanos(e),this}maxDeliver(e){return this.config.max_deliver=e,this}filterSubject(e){return this.filters=this.filters||[],this.filters.push(e),this}replayInstantly(){return this.config.replay_policy=ReplayPolicy.Instant,this}replayOriginal(){return this.config.replay_policy=ReplayPolicy.Original,this}sample(e){if(e=Math.trunc(e),e<0||e>100)throw new Error("value must be between 0-100");return this.config.sample_freq=`${e}%`,this}limit(e){return this.config.rate_limit_bps=e,this}maxWaiting(e){return this.config.max_waiting=e,this}maxAckPending(e){return this.config.max_ack_pending=e,this}idleHeartbeat(e){return this.config.idle_heartbeat=nanos(e),this}flowControl(){return this.config.flow_control=!0,this}deliverGroup(e){return this.queue(e),this}manualAck(){return this.mack=!0,this}maxMessages(e){return this.max=e,this}callback(e){return this.callbackFn=e,this}queue(e){return this.qname=e,this.config.deliver_group=e,this}orderedConsumer(){return this.ordered=!0,this}bind(e,a){return this.stream=e,this.config.durable_name=a,this.isBind=!0,this}bindStream(e){return this.stream=e,this}inactiveEphemeralThreshold(e){return this.config.inactive_threshold=nanos(e),this}maxPullBatch(e){return this.config.max_batch=e,this}maxPullRequestExpires(e){return this.config.max_expires=nanos(e),this}memory(){return this.config.mem_storage=!0,this}numReplicas(e){return this.config.num_replicas=e,this}consumerName(e){return this.config.name=e,this}}function consumerOpts(r){return new ConsumerOptsBuilderImpl(r)}function isConsumerOptsBuilder(r){return typeof r.getOpts=="function"}class Base64Codec{static encode(e){if(typeof e=="string")return btoa(e);const a=Array.from(e);return btoa(String.fromCharCode(...a))}static decode(e,a=!1){const u=atob(e);return a?Uint8Array.from(u,d=>d.charCodeAt(0)):u}}class Base64UrlPaddedCodec{static encode(e){return Base64UrlPaddedCodec.toB64URLEncoding(Base64Codec.encode(e))}static decode(e,a=!1){return Base64UrlPaddedCodec.decode(Base64UrlPaddedCodec.fromB64URLEncoding(e),a)}static toB64URLEncoding(e){return e.replace(/\+/g,"-").replace(/\//g,"_")}static fromB64URLEncoding(e){return e.replace(/_/g,"/").replace(/-/g,"+")}}class DataBuffer{constructor(){de(this,"buffers");de(this,"byteLength");this.buffers=[],this.byteLength=0}static concat(...e){let a=0;for(let s=0;s<e.length;s++)a+=e[s].length;const u=new Uint8Array(a);let d=0;for(let s=0;s<e.length;s++)u.set(e[s],d),d+=e[s].length;return u}static fromAscii(e){return e||(e=""),TE.encode(e)}static toAscii(e){return TD.decode(e)}reset(){this.buffers.length=0,this.byteLength=0}pack(){if(this.buffers.length>1){const e=new Uint8Array(this.byteLength);let a=0;for(let u=0;u<this.buffers.length;u++)e.set(this.buffers[u],a),a+=this.buffers[u].length;this.buffers.length=0,this.buffers.push(e)}}shift(){if(this.buffers.length){const e=this.buffers.shift();if(e)return this.byteLength-=e.length,e}return new Uint8Array(0)}drain(e){if(this.buffers.length){this.pack();const a=this.buffers.pop();if(a){const u=this.byteLength;(e===void 0||e>u)&&(e=u);const d=a.subarray(0,e);return u>e&&this.buffers.push(a.subarray(e)),this.byteLength=u-e,d}}return new Uint8Array(0)}fill(e,...a){e&&(this.buffers.push(e),this.byteLength+=e.length);for(let u=0;u<a.length;u++)a[u]&&a[u].length&&(this.buffers.push(a[u]),this.byteLength+=a[u].length)}peek(){return this.buffers.length?(this.pack(),this.buffers[0]):new Uint8Array(0)}size(){return this.byteLength}length(){return this.buffers.length}}function getLengths(r){const e=r.length;let a=r.indexOf("=");a===-1&&(a=e);const u=a===e?0:4-a%4;return[a,u]}function init(r,e,a=!1){function u(g,x){return Math.floor((g+x)*3/4-x)}function d(g){return r[g>>18&63]+r[g>>12&63]+r[g>>6&63]+r[g&63]}function s(g,x,_){const S=new Array((_-x)/3);for(let y=x,A=0;y<_;y+=3)S[A++]=d((g[y]<<16)+(g[y+1]<<8)+g[y+2]);return S.join("")}return{byteLength(g){return u.apply(null,getLengths(g))},toUint8Array(g){const[x,_]=getLengths(g),S=new Uint8Array(u(x,_)),y=_?x-4:x;let A,R=0,B;for(B=0;B<y;B+=4)A=e[g.charCodeAt(B)]<<18|e[g.charCodeAt(B+1)]<<12|e[g.charCodeAt(B+2)]<<6|e[g.charCodeAt(B+3)],S[R++]=A>>16&255,S[R++]=A>>8&255,S[R++]=A&255;return _===2?(A=e[g.charCodeAt(B)]<<2|e[g.charCodeAt(B+1)]>>4,S[R++]=A&255):_===1&&(A=e[g.charCodeAt(B)]<<10|e[g.charCodeAt(B+1)]<<4|e[g.charCodeAt(B+2)]>>2,S[R++]=A>>8&255,S[R++]=A&255),S},fromUint8Array(g){const _=g.length,S=_%3,y=_-S,A=new Array(Math.ceil(y/16383)+(S?1:0));let R=0,B;for(let C=0;C<y;C+=16383)B=C+16383,A[R++]=s(g,C,B>y?y:B);let q;return S===1?(q=g[y],A[R]=r[q>>2]+r[q<<4&63],a||(A[R]+="==")):S===2&&(q=g[y]<<8|g[y+1]&255,A[R]=r[q>>10]+r[q>>4&63]+r[q<<2&63],a||(A[R]+="=")),A.join("")}}}const lookup$1=[],revLookup$1=[],code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let r=0,e=code$1.length;r<e;++r)lookup$1[r]=code$1[r],revLookup$1[code$1.charCodeAt(r)]=r;const{byteLength:byteLength$1,toUint8Array,fromUint8Array}=init(lookup$1,revLookup$1,!0),decoder=new TextDecoder,encoder=new TextEncoder;function toHexString(r){return r.reduce((e,a)=>`${e}${a<16?"0":""}${a.toString(16)}`,"")}function fromHexString(r){const e=r.length;if(e%2||!/^[0-9a-fA-F]+$/.test(r))throw new TypeError("Invalid hex string.");r=r.toLowerCase();const a=new Uint8Array(Math.floor(e/2)),u=e/2;for(let d=0;d<u;++d)a[d]=parseInt(r.substr(d*2,2),16);return a}function decode1(r,e="utf8"){if(/^utf-?8$/i.test(e))return decoder.decode(r);if(/^base64$/i.test(e))return fromUint8Array(r);if(/^hex(?:adecimal)?$/i.test(e))return toHexString(r);throw new TypeError("Unsupported string encoding.")}function encode1(r,e="utf8"){if(/^utf-?8$/i.test(e))return encoder.encode(r);if(/^base64$/i.test(e))return toUint8Array(r);if(/^hex(?:adecimal)?$/i.test(e))return fromHexString(r);throw new TypeError("Unsupported string encoding.")}class SHA256{constructor(){de(this,"hashSize",32);de(this,"_buf");de(this,"_bufIdx");de(this,"_count");de(this,"_K");de(this,"_H");de(this,"_finalized");this._buf=new Uint8Array(64),this._K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),this.init()}init(){return this._H=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this._bufIdx=0,this._count=new Uint32Array(2),this._buf.fill(0),this._finalized=!1,this}update(e,a){if(e===null)throw new TypeError("msg must be a string or Uint8Array.");typeof e=="string"&&(e=encode1(e,a));for(let d=0,s=e.length;d<s;d++)this._buf[this._bufIdx++]=e[d],this._bufIdx===64&&(this._transform(),this._bufIdx=0);const u=this._count;return(u[0]+=e.length<<3)<e.length<<3&&u[1]++,u[1]+=e.length>>>29,this}digest(e){if(this._finalized)throw new Error("digest has already been called.");this._finalized=!0;const a=this._buf;let u=this._bufIdx;for(a[u++]=128;u!==56;)u===64&&(this._transform(),u=0),a[u++]=0;const d=this._count;a[56]=d[1]>>>24&255,a[57]=d[1]>>>16&255,a[58]=d[1]>>>8&255,a[59]=d[1]>>>0&255,a[60]=d[0]>>>24&255,a[61]=d[0]>>>16&255,a[62]=d[0]>>>8&255,a[63]=d[0]>>>0&255,this._transform();const s=new Uint8Array(32);for(let g=0;g<8;g++)s[(g<<2)+0]=this._H[g]>>>24&255,s[(g<<2)+1]=this._H[g]>>>16&255,s[(g<<2)+2]=this._H[g]>>>8&255,s[(g<<2)+3]=this._H[g]>>>0&255;return this.init(),e?decode1(s,e):s}_transform(){const e=this._H;let a=e[0],u=e[1],d=e[2],s=e[3],g=e[4],x=e[5],_=e[6],S=e[7];const y=new Uint32Array(16);let A;for(A=0;A<16;A++)y[A]=this._buf[(A<<2)+3]|this._buf[(A<<2)+2]<<8|this._buf[(A<<2)+1]<<16|this._buf[A<<2]<<24;for(A=0;A<64;A++){let R;if(A<16)R=y[A];else{let B=y[A+1&15],q=y[A+14&15];R=y[A&15]=(B>>>7^B>>>18^B>>>3^B<<25^B<<14)+(q>>>17^q>>>19^q>>>10^q<<15^q<<13)+y[A&15]+y[A+9&15]|0}R=R+S+(g>>>6^g>>>11^g>>>25^g<<26^g<<21^g<<7)+(_^g&(x^_))+this._K[A]|0,S=_,_=x,x=g,g=s+R,s=d,d=u,u=a,a=R+(u&d^s&(u^d))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10)|0}e[0]=e[0]+a|0,e[1]=e[1]+u|0,e[2]=e[2]+d|0,e[3]=e[3]+s|0,e[4]=e[4]+g|0,e[5]=e[5]+x|0,e[6]=e[6]+_|0,e[7]=e[7]+S|0}}class BaseRequest{constructor(e,a,u=!0){de(this,"token");de(this,"received");de(this,"ctx");de(this,"requestSubject");de(this,"mux");this.mux=e,this.requestSubject=a,this.received=0,this.token=nuid.next(),u&&(this.ctx=new Error)}}class RequestMany extends BaseRequest{constructor(a,u,d={maxWait:1e3}){super(a,u);de(this,"callback");de(this,"done");de(this,"timer");de(this,"max");de(this,"opts");if(this.opts=d,typeof this.opts.callback!="function")throw new Error("callback is required");this.callback=this.opts.callback,this.max=typeof d.maxMessages=="number"&&d.maxMessages>0?d.maxMessages:-1,this.done=deferred(),this.done.then(()=>{this.callback(null,null)}),this.timer=setTimeout(()=>{this.cancel()},d.maxWait)}cancel(a){a&&this.callback(a,null),clearTimeout(this.timer),this.mux.cancel(this),this.done.resolve()}resolver(a,u){a?(this.ctx&&(a.stack+=`

${this.ctx.stack}`),this.cancel(a)):(this.callback(null,u),this.opts.strategy===RequestStrategy.Count&&(this.max--,this.max===0&&this.cancel()),this.opts.strategy===RequestStrategy.JitterTimer&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.cancel()},this.opts.jitter||300)),this.opts.strategy===RequestStrategy.SentinelMsg&&u&&u.data.length===0&&this.cancel())}}class RequestOne extends BaseRequest{constructor(a,u,d={timeout:1e3},s=!0){super(a,u,s);de(this,"deferred");de(this,"timer");this.deferred=deferred(),this.timer=timeout(d.timeout,s)}resolver(a,u){this.timer&&this.timer.cancel(),a?(this.ctx&&(a.stack+=`

${this.ctx.stack}`),this.deferred.reject(a)):this.deferred.resolve(u),this.cancel()}cancel(a){this.timer&&this.timer.cancel(),this.mux.cancel(this),this.deferred.reject(a||NatsError.errorForCode(ErrorCode.Cancelled))}}const defaultPrefix="$JS.API";function defaultJsOptions(r){return r=r||{},r.domain&&(r.apiPrefix=`$JS.${r.domain}.API`,delete r.domain),extend({apiPrefix:defaultPrefix,timeout:5e3},r)}class BaseApiClient{constructor(e,a){de(this,"nc");de(this,"opts");de(this,"prefix");de(this,"timeout");de(this,"jc");this.nc=e,this.opts=defaultJsOptions(a),this._parseOpts(),this.prefix=this.opts.apiPrefix,this.timeout=this.opts.timeout,this.jc=JSONCodec()}getOptions(){return Object.assign({},this.opts)}_parseOpts(){let e=this.opts.apiPrefix;if(!e||e.length===0)throw new Error("invalid empty prefix");e[e.length-1]==="."&&(e=e.substr(0,e.length-1)),this.opts.apiPrefix=e}async _request(e,a=null,u){u=u||{},u.timeout=this.timeout;let d=Empty;a&&(d=this.jc.encode(a));let{retries:s}=u;s=s||1,s=s===-1?Number.MAX_SAFE_INTEGER:s;const g=backoff();for(let x=0;x<s;x++)try{const _=await this.nc.request(e,d,u);return this.parseJsResponse(_)}catch(_){const S=_;if((S.code==="503"||S.code===ErrorCode.Timeout)&&x+1<s)await delay(g.backoff(x));else throw _}}async findStream(e){const a={subject:e},d=await this._request(`${this.prefix}.STREAM.NAMES`,a);if(!d.streams||d.streams.length!==1)throw new Error("no stream matches subject");return d.streams[0]}getConnection(){return this.nc}parseJsResponse(e){const a=this.jc.decode(e.data),u=a;if(u.error){const d=checkJsErrorCode(u.error.code,u.error.description);if(d!==null)throw d.api_error=u.error,d}return a}}class ListerImpl{constructor(e,a,u,d){de(this,"err");de(this,"offset");de(this,"pageInfo");de(this,"subject");de(this,"jsm");de(this,"filter");de(this,"payload");if(!e)throw new Error("subject is required");this.subject=e,this.jsm=u,this.offset=0,this.pageInfo={},this.filter=a,this.payload=d||{}}async next(){if(this.err)return[];if(this.pageInfo&&this.offset>=this.pageInfo.total)return[];const e={offset:this.offset};this.payload&&Object.assign(e,this.payload);try{const a=await this.jsm._request(this.subject,e,{timeout:this.jsm.timeout});this.pageInfo=a;const u=this.countResponse(a);return u===0?[]:(this.offset+=u,this.filter(a))}catch(a){throw this.err=a,a}}countResponse(e){var a,u,d;switch(e==null?void 0:e.type){case"io.nats.jetstream.api.v1.stream_names_response":case"io.nats.jetstream.api.v1.stream_list_response":return((a=e.streams)==null?void 0:a.length)||0;case"io.nats.jetstream.api.v1.consumer_list_response":return((u=e.consumers)==null?void 0:u.length)||0;default:return console.error(`jslister.ts: unknown API response for paged output: ${e==null?void 0:e.type}`),((d=e.streams)==null?void 0:d.length)||0}return 0}async*[Symbol.asyncIterator](){let e=await this.next();for(;e.length>0;){for(const a of e)yield a;e=await this.next()}}}function parseSemVer(r=""){const e=r.match(/(\d+).(\d+).(\d+)/);if(e)return{major:parseInt(e[1]),minor:parseInt(e[2]),micro:parseInt(e[3])};throw new Error(`'${r}' is not a semver value`)}function compare(r,e){return r.major<e.major?-1:r.major>e.major?1:r.minor<e.minor?-1:r.minor>e.minor?1:r.micro<e.micro?-1:r.micro>e.micro?1:0}var Feature;(function(r){r.JS_KV="js_kv",r.JS_OBJECTSTORE="js_objectstore",r.JS_PULL_MAX_BYTES="js_pull_max_bytes",r.JS_NEW_CONSUMER_CREATE_API="js_new_consumer_create",r.JS_ALLOW_DIRECT="js_allow_direct",r.JS_MULTIPLE_CONSUMER_FILTER="js_multiple_consumer_filter",r.JS_SIMPLIFICATION="js_simplification",r.JS_STREAM_CONSUMER_METADATA="js_stream_consumer_metadata",r.JS_CONSUMER_FILTER_SUBJECTS="js_consumer_filter_subjects",r.JS_STREAM_FIRST_SEQ="js_stream_first_seq",r.JS_STREAM_SUBJECT_TRANSFORM="js_stream_subject_transform",r.JS_STREAM_SOURCE_SUBJECT_TRANSFORM="js_stream_source_subject_transform",r.JS_STREAM_COMPRESSION="js_stream_compression",r.JS_DEFAULT_CONSUMER_LIMITS="js_default_consumer_limits",r.JS_BATCH_DIRECT_GET="js_batch_direct_get"})(Feature||(Feature={}));class Features{constructor(e){de(this,"server");de(this,"features");de(this,"disabled");this.features=new Map,this.disabled=[],this.update(e)}resetDisabled(){this.disabled.length=0,this.update(this.server)}disable(e){this.disabled.push(e),this.update(this.server)}isDisabled(e){return this.disabled.indexOf(e)!==-1}update(e){typeof e=="string"&&(e=parseSemVer(e)),this.server=e,this.set(Feature.JS_KV,"2.6.2"),this.set(Feature.JS_OBJECTSTORE,"2.6.3"),this.set(Feature.JS_PULL_MAX_BYTES,"2.8.3"),this.set(Feature.JS_NEW_CONSUMER_CREATE_API,"2.9.0"),this.set(Feature.JS_ALLOW_DIRECT,"2.9.0"),this.set(Feature.JS_MULTIPLE_CONSUMER_FILTER,"2.10.0"),this.set(Feature.JS_SIMPLIFICATION,"2.9.4"),this.set(Feature.JS_STREAM_CONSUMER_METADATA,"2.10.0"),this.set(Feature.JS_CONSUMER_FILTER_SUBJECTS,"2.10.0"),this.set(Feature.JS_STREAM_FIRST_SEQ,"2.10.0"),this.set(Feature.JS_STREAM_SUBJECT_TRANSFORM,"2.10.0"),this.set(Feature.JS_STREAM_SOURCE_SUBJECT_TRANSFORM,"2.10.0"),this.set(Feature.JS_STREAM_COMPRESSION,"2.10.0"),this.set(Feature.JS_DEFAULT_CONSUMER_LIMITS,"2.10.0"),this.set(Feature.JS_BATCH_DIRECT_GET,"2.11.0"),this.disabled.forEach(a=>{this.features.delete(a)})}set(e,a){this.features.set(e,{min:a,ok:compare(this.server,parseSemVer(a))>=0})}get(e){return this.features.get(e)||{min:"unknown",ok:!1}}supports(e){var a;return((a=this.get(e))==null?void 0:a.ok)||!1}require(e){return typeof e=="string"&&(e=parseSemVer(e)),compare(this.server,e)>=0}}class ConsumerAPIImpl extends BaseApiClient{constructor(e,a){super(e,a)}async add(e,a,u=ConsumerApiAction.Create){if(validateStreamName(e),a.deliver_group&&a.flow_control)throw new Error("jetstream flow control is not supported with queue groups");if(a.deliver_group&&a.idle_heartbeat)throw new Error("jetstream idle heartbeat is not supported with queue groups");const d={};d.config=a,d.stream_name=e,d.action=u,d.config.durable_name&&validateDurableName(d.config.durable_name);const s=this.nc;let{min:g,ok:x}=s.features.get(Feature.JS_NEW_CONSUMER_CREATE_API);const _=a.name===""?void 0:a.name;if(_&&!x)throw new Error(`consumer 'name' requires server ${g}`);if(_)try{minValidation("name",_)}catch(R){const B=R.message,q=B.indexOf("cannot contain");throw q!==-1?new Error(`consumer 'name' ${B.substring(q)}`):R}let S,y="";if(Array.isArray(a.filter_subjects)){const{min:R,ok:B}=s.features.get(Feature.JS_MULTIPLE_CONSUMER_FILTER);if(!B)throw new Error(`consumer 'filter_subjects' requires server ${R}`);x=!1}if(a.metadata){const{min:R,ok:B}=s.features.get(Feature.JS_STREAM_CONSUMER_METADATA);if(!B)throw new Error(`consumer 'metadata' requires server ${R}`)}if(x&&(y=a.name??a.durable_name??""),y!==""){let R=a.filter_subject??void 0;R===">"&&(R=void 0),S=R!==void 0?`${this.prefix}.CONSUMER.CREATE.${e}.${y}.${R}`:`${this.prefix}.CONSUMER.CREATE.${e}.${y}`}else S=a.durable_name?`${this.prefix}.CONSUMER.DURABLE.CREATE.${e}.${a.durable_name}`:`${this.prefix}.CONSUMER.CREATE.${e}`;return await this._request(S,d)}async update(e,a,u){const d=await this.info(e,a),s=u;return this.add(e,Object.assign(d.config,s),ConsumerApiAction.Update)}async info(e,a){return validateStreamName(e),validateDurableName(a),await this._request(`${this.prefix}.CONSUMER.INFO.${e}.${a}`)}async delete(e,a){return validateStreamName(e),validateDurableName(a),(await this._request(`${this.prefix}.CONSUMER.DELETE.${e}.${a}`)).success}list(e){validateStreamName(e);const a=d=>d.consumers,u=`${this.prefix}.CONSUMER.LIST.${e}`;return new ListerImpl(u,a,this)}pause(e,a,u){const d=`${this.prefix}.CONSUMER.PAUSE.${e}.${a}`,s={pause_until:u.toISOString()};return this._request(d,s)}resume(e,a){return this.pause(e,a,new Date(0))}}function checkFn(r,e,a=!1){if(a===!0&&!r)throw NatsError.errorForCode(ErrorCode.ApiError,new Error(`${e} is not a function`));if(r&&typeof r!="function")throw NatsError.errorForCode(ErrorCode.ApiError,new Error(`${e} is not a function`))}class TypedSubscription extends QueuedIteratorImpl{constructor(a,u,d){super();de(this,"sub");de(this,"adapter");de(this,"subIterDone");checkFn(d.adapter,"adapter",!0),this.adapter=d.adapter,d.callback&&checkFn(d.callback,"callback"),this.noIterator=typeof d.callback=="function",d.ingestionFilterFn&&(checkFn(d.ingestionFilterFn,"ingestionFilterFn"),this.ingestionFilterFn=d.ingestionFilterFn),d.protocolFilterFn&&(checkFn(d.protocolFilterFn,"protocolFilterFn"),this.protocolFilterFn=d.protocolFilterFn),d.dispatchedFn&&(checkFn(d.dispatchedFn,"dispatchedFn"),this.dispatchedFn=d.dispatchedFn),d.cleanupFn&&checkFn(d.cleanupFn,"cleanupFn");let s=(y,A)=>{this.callback(y,A)};if(d.callback){const y=d.callback;s=(A,R)=>{const[B,q]=this.adapter(A,R);if(B){y(B,null);return}const{ingest:C}=this.ingestionFilterFn?this.ingestionFilterFn(q,this):{ingest:!0};C&&(!this.protocolFilterFn||this.protocolFilterFn(q))&&(y(B,q),this.dispatchedFn&&q&&this.dispatchedFn(q))}}const{max:g,queue:x,timeout:_}=d,S={queue:x,timeout:_,callback:s};g&&g>0&&(S.max=g),this.sub=a.subscribe(u,S),d.cleanupFn&&(this.sub.cleanupFn=d.cleanupFn),this.noIterator||this.iterClosed.then(()=>{this.unsubscribe()}),this.subIterDone=deferred(),Promise.all([this.sub.closed,this.iterClosed]).then(()=>{this.subIterDone.resolve()}).catch(()=>{this.subIterDone.resolve()}),(async y=>{await y.closed,this.stop()})(this.sub).then().catch()}unsubscribe(a){this.sub.unsubscribe(a)}drain(){return this.sub.drain()}isDraining(){return this.sub.isDraining()}isClosed(){return this.sub.isClosed()}callback(a,u){this.sub.cancelTimeout();const[d,s]=this.adapter(a,u);d&&this.stop(d),s&&this.push(s)}getSubject(){return this.sub.getSubject()}getReceived(){return this.sub.getReceived()}getProcessed(){return this.sub.getProcessed()}getPending(){return this.sub.getPending()}getID(){return this.sub.getID()}getMax(){return this.sub.getMax()}get closed(){return this.sub.closed}}let transportConfig;function setTransportFactory(r){transportConfig=r}function defaultPort(){return transportConfig!==void 0&&transportConfig.defaultPort!==void 0?transportConfig.defaultPort:4222}function getUrlParseFn(){return transportConfig!==void 0&&transportConfig.urlParseFn?transportConfig.urlParseFn:void 0}function newTransport(){if(!transportConfig||typeof transportConfig.factory!="function")throw new Error("transport fn is not set");return transportConfig.factory()}function getResolveFn(){return transportConfig!==void 0&&transportConfig.dnsResolveFn?transportConfig.dnsResolveFn:void 0}const CR_LF=`\r
`,CRLF=DataBuffer.fromAscii(CR_LF),CR=new Uint8Array(CRLF)[0],LF=new Uint8Array(CRLF)[1];function protoLen(r){for(let e=0;e<r.length;e++){const a=e+1;if(r.byteLength>a&&r[e]===CR&&r[a]===LF)return a+1}return 0}function extractProtocolMessage(r){const e=protoLen(r);if(e>0){const u=new Uint8Array(r).slice(0,e);return TD.decode(u)}return""}const IPv4LEN=4,ASCII0=48,ASCIIA=65,ASCIIa=97;function ipV4(r,e,a,u){const d=new Uint8Array(16);return[0,0,0,0,0,0,0,0,0,0,255,255].forEach((g,x)=>{d[x]=g}),d[12]=r,d[13]=e,d[14]=a,d[15]=u,d}function isIP(r){return parseIP(r)!==void 0}function parseIP(r){for(let e=0;e<r.length;e++)switch(r[e]){case".":return parseIPv4(r);case":":return parseIPv6(r)}}function parseIPv4(r){const e=new Uint8Array(4);for(let a=0;a<4;a++){if(r.length===0)return;if(a>0){if(r[0]!==".")return;r=r.substring(1)}const{n:u,c:d,ok:s}=dtoi(r);if(!s||u>255)return;r=r.substring(d),e[a]=u}return ipV4(e[0],e[1],e[2],e[3])}function parseIPv6(r){const e=new Uint8Array(16);let a=-1;if(r.length>=2&&r[0]===":"&&r[1]===":"&&(a=0,r=r.substring(2),r.length===0))return e;let u=0;for(;u<16;){const{n:d,c:s,ok:g}=xtoi(r);if(!g||d>65535)return;if(s<r.length&&r[s]==="."){if(a<0&&u!=12||u+4>16)return;const x=parseIPv4(r);if(x===void 0)return;e[u]=x[12],e[u+1]=x[13],e[u+2]=x[14],e[u+3]=x[15],r="",u+=IPv4LEN;break}if(e[u]=d>>8,e[u+1]=d,u+=2,r=r.substring(s),r.length===0)break;if(r[0]!==":"||r.length==1)return;if(r=r.substring(1),r[0]===":"){if(a>=0)return;if(a=u,r=r.substring(1),r.length===0)break}}if(r.length===0){if(u<16){if(a<0)return;const d=16-u;for(let s=u-1;s>=a;s--)e[s+d]=e[s];for(let s=a+d-1;s>=a;s--)e[s]=0}else if(a>=0)return;return e}}function dtoi(r){let e=0,a=0;for(e=0;e<r.length&&48<=r.charCodeAt(e)&&r.charCodeAt(e)<=57;e++)if(a=a*10+(r.charCodeAt(e)-ASCII0),a>=16777215)return{n:16777215,c:e,ok:!1};return e===0?{n:0,c:0,ok:!1}:{n:a,c:e,ok:!0}}function xtoi(r){let e=0,a=0;for(a=0;a<r.length;a++){if(48<=r.charCodeAt(a)&&r.charCodeAt(a)<=57)e*=16,e+=r.charCodeAt(a)-ASCII0;else if(97<=r.charCodeAt(a)&&r.charCodeAt(a)<=102)e*=16,e+=r.charCodeAt(a)-ASCIIa+10;else if(65<=r.charCodeAt(a)&&r.charCodeAt(a)<=70)e*=16,e+=r.charCodeAt(a)-ASCIIA+10;else break;if(e>=16777215)return{n:0,c:a,ok:!1}}return a===0?{n:0,c:a,ok:!1}:{n:e,c:a,ok:!0}}function isIPV4OrHostname(r){return r.indexOf(".")!==-1?!0:r.indexOf("[")!==-1||r.indexOf("::")!==-1?!1:r.split(":").length<=2}function isIPV6(r){return!isIPV4OrHostname(r)}function filterIpv6MappedToIpv4(r){const e="::FFFF:",a=r.toUpperCase().indexOf(e);if(a!==-1&&r.indexOf(".")!==-1){let u=r.substring(a+e.length);return u=u.replace("[",""),u.replace("]","")}return r}function hostPort(r){r=r.trim(),r.match(/^(.*:\/\/)(.*)/m)&&(r=r.replace(/^(.*:\/\/)(.*)/gm,"$2")),r=filterIpv6MappedToIpv4(r),isIPV6(r)&&r.indexOf("[")===-1&&(r=`[${r}]`);const e=isIPV6(r)?r.match(/(]:)(\d+)/):r.match(/(:)(\d+)/),a=e&&e.length===3&&e[1]&&e[2]?parseInt(e[2]):4222,u=a===80?"https":"http",d=new URL(`${u}://${r}`);d.port=`${a}`;let s=d.hostname;return s.charAt(0)==="["&&(s=s.substring(1,s.length-1)),{listen:d.host,hostname:s,port:a}}class ServerImpl{constructor(e,a=!1){de(this,"src");de(this,"listen");de(this,"hostname");de(this,"port");de(this,"didConnect");de(this,"reconnects");de(this,"lastConnect");de(this,"gossiped");de(this,"tlsName");de(this,"resolves");this.src=e,this.tlsName="";const u=hostPort(e);this.listen=u.listen,this.hostname=u.hostname,this.port=u.port,this.didConnect=!1,this.reconnects=0,this.lastConnect=0,this.gossiped=a}toString(){return this.listen}async resolve(e){if(!e.fn)return[this];const a=[];if(isIP(this.hostname))return[this];{const u=await e.fn(this.hostname);e.debug&&console.log(`resolve ${this.hostname} = ${u.join(",")}`);for(const d of u){const s=this.port===80?"https":"http",g=new URL(`${s}://${isIPV6(d)?"["+d+"]":d}`);g.port=`${this.port}`;const x=new ServerImpl(g.host,!1);x.tlsName=this.hostname,a.push(x)}}return e.randomize&&shuffle(a),this.resolves=a,a}}class Servers{constructor(e=[],a={}){de(this,"firstSelect");de(this,"servers");de(this,"currentServer");de(this,"tlsName");de(this,"randomize");this.firstSelect=!0,this.servers=[],this.tlsName="",this.randomize=a.randomize||!1;const u=getUrlParseFn();e&&(e.forEach(d=>{d=u?u(d):d,this.servers.push(new ServerImpl(d))}),this.randomize&&(this.servers=shuffle(this.servers))),this.servers.length===0&&this.addServer(`${DEFAULT_HOST}:${defaultPort()}`,!1),this.currentServer=this.servers[0]}clear(){this.servers.length=0}updateTLSName(){const e=this.getCurrentServer();isIP(e.hostname)||(this.tlsName=e.hostname,this.servers.forEach(a=>{a.gossiped&&(a.tlsName=this.tlsName)}))}getCurrentServer(){return this.currentServer}addServer(e,a=!1){const u=getUrlParseFn();e=u?u(e):e;const d=new ServerImpl(e,a);isIP(d.hostname)&&(d.tlsName=this.tlsName),this.servers.push(d)}selectServer(){if(this.firstSelect)return this.firstSelect=!1,this.currentServer;const e=this.servers.shift();return e&&(this.servers.push(e),this.currentServer=e),e}removeCurrentServer(){this.removeServer(this.currentServer)}removeServer(e){if(e){const a=this.servers.indexOf(e);this.servers.splice(a,1)}}length(){return this.servers.length}next(){return this.servers.length?this.servers[0]:void 0}getServers(){return this.servers}update(e,a){const u=[];let d=[];const s=getUrlParseFn(),g=new Map;e.connect_urls&&e.connect_urls.length>0&&e.connect_urls.forEach(_=>{_=s?s(_,a):_;const S=new ServerImpl(_,!0);g.set(_,S)});const x=[];return this.servers.forEach((_,S)=>{const y=_.listen;_.gossiped&&this.currentServer.listen!==y&&g.get(y)===void 0&&x.push(S),g.delete(y)}),x.reverse(),x.forEach(_=>{const S=this.servers.splice(_,1);d=d.concat(S[0].listen)}),g.forEach((_,S)=>{this.servers.push(_),u.push(S)}),{added:u,deleted:d}}}class MuxSubscription{constructor(){de(this,"baseInbox");de(this,"reqs");this.reqs=new Map}size(){return this.reqs.size}init(e){return this.baseInbox=`${createInbox(e)}.`,this.baseInbox}add(e){isNaN(e.received)||(e.received=0),this.reqs.set(e.token,e)}get(e){return this.reqs.get(e)}cancel(e){this.reqs.delete(e.token)}getToken(e){const a=e.subject||"";return a.indexOf(this.baseInbox)===0?a.substring(this.baseInbox.length):null}all(){return Array.from(this.reqs.values())}handleError(e,a){if(a&&a.permissionContext){if(e)return this.all().forEach(d=>{d.resolver(a,{})}),!0;const u=a.permissionContext;if(u.operation==="publish"){const d=this.all().find(s=>s.requestSubject===u.subject);if(d)return d.resolver(a,{}),!0}}return!1}dispatcher(){return(e,a)=>{const u=this.getToken(a);if(u){const d=this.get(u);d&&(e===null&&a.headers&&(e=isRequestError(a)),d.resolver(e,a))}}}close(){const e=NatsError.errorForCode(ErrorCode.Timeout);this.reqs.forEach(a=>{a.resolver(e,{})})}}class Heartbeat{constructor(e,a,u){de(this,"ph");de(this,"interval");de(this,"maxOut");de(this,"timer");de(this,"pendings");this.ph=e,this.interval=a,this.maxOut=u,this.pendings=[]}start(){this.cancel(),this._schedule()}cancel(e){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this._reset(),e&&this.ph.disconnect()}_schedule(){this.timer=setTimeout(()=>{if(this.ph.dispatchStatus({type:DebugEvents.PingTimer,data:`${this.pendings.length+1}`}),this.pendings.length===this.maxOut){this.cancel(!0);return}const e=deferred();this.ph.flush(e).then(()=>{this._reset()}).catch(()=>{this.cancel()}),this.pendings.push(e),this._schedule()},this.interval)}_reset(){this.pendings=this.pendings.filter(e=>(e.resolve(),!1))}}class AssertionError extends Error{constructor(e){super(e),this.name="AssertionError"}}function assert(r,e="Assertion failed."){if(!r)throw new AssertionError(e)}const MIN_READ=32*1024,MAX_SIZE=2**32-2;function copy(r,e,a=0){const u=e.byteLength-a;return r.byteLength>u&&(r=r.subarray(0,u)),e.set(r,a),r.byteLength}class DenoBuffer{constructor(e){de(this,"_buf");de(this,"_off");if(this._off=0,e==null){this._buf=new Uint8Array(0);return}this._buf=new Uint8Array(e)}bytes(e={copy:!0}){return e.copy===!1?this._buf.subarray(this._off):this._buf.slice(this._off)}empty(){return this._buf.byteLength<=this._off}get length(){return this._buf.byteLength-this._off}get capacity(){return this._buf.buffer.byteLength}truncate(e){if(e===0){this.reset();return}if(e<0||e>this.length)throw Error("bytes.Buffer: truncation out of range");this._reslice(this._off+e)}reset(){this._reslice(0),this._off=0}_tryGrowByReslice(e){const a=this._buf.byteLength;return e<=this.capacity-a?(this._reslice(a+e),a):-1}_reslice(e){assert(e<=this._buf.buffer.byteLength),this._buf=new Uint8Array(this._buf.buffer,0,e)}readByte(){const e=new Uint8Array(1);return this.read(e)?e[0]:null}read(e){if(this.empty())return this.reset(),e.byteLength===0?0:null;const a=copy(this._buf.subarray(this._off),e);return this._off+=a,a}writeByte(e){return this.write(Uint8Array.of(e))}writeString(e){return this.write(TE.encode(e))}write(e){const a=this._grow(e.byteLength);return copy(e,this._buf,a)}_grow(e){const a=this.length;a===0&&this._off!==0&&this.reset();const u=this._tryGrowByReslice(e);if(u>=0)return u;const d=this.capacity;if(e<=Math.floor(d/2)-a)copy(this._buf.subarray(this._off),this._buf);else{if(d+e>MAX_SIZE)throw new Error("The buffer cannot be grown beyond the maximum size.");{const s=new Uint8Array(Math.min(2*d+e,MAX_SIZE));copy(this._buf.subarray(this._off),s),this._buf=s}}return this._off=0,this._reslice(Math.min(a+e,MAX_SIZE)),a}grow(e){if(e<0)throw Error("Buffer._grow: negative count");const a=this._grow(e);this._reslice(a)}readFrom(e){let a=0;const u=new Uint8Array(MIN_READ);for(;;){const d=this.capacity-this.length<MIN_READ,s=d?u:new Uint8Array(this._buf.buffer,this.length),g=e.read(s);if(g===null)return a;d?this.write(s.subarray(0,g)):this._reslice(this.length+g),a+=g}}}var Kind;(function(r){r[r.OK=0]="OK",r[r.ERR=1]="ERR",r[r.MSG=2]="MSG",r[r.INFO=3]="INFO",r[r.PING=4]="PING",r[r.PONG=5]="PONG"})(Kind||(Kind={}));function newMsgArg(){const r={};return r.sid=-1,r.hdr=-1,r.size=-1,r}const ASCII_0=48;class Parser{constructor(e){de(this,"dispatcher");de(this,"state");de(this,"as");de(this,"drop");de(this,"hdr");de(this,"ma");de(this,"argBuf");de(this,"msgBuf");this.dispatcher=e,this.state=State.OP_START,this.as=0,this.drop=0,this.hdr=0}parse(e){let a;for(a=0;a<e.length;a++){const u=e[a];switch(this.state){case State.OP_START:switch(u){case cc.M:case cc.m:this.state=State.OP_M,this.hdr=-1,this.ma=newMsgArg();break;case cc.H:case cc.h:this.state=State.OP_H,this.hdr=0,this.ma=newMsgArg();break;case cc.P:case cc.p:this.state=State.OP_P;break;case cc.PLUS:this.state=State.OP_PLUS;break;case cc.MINUS:this.state=State.OP_MINUS;break;case cc.I:case cc.i:this.state=State.OP_I;break;default:throw this.fail(e.subarray(a))}break;case State.OP_H:switch(u){case cc.M:case cc.m:this.state=State.OP_M;break;default:throw this.fail(e.subarray(a))}break;case State.OP_M:switch(u){case cc.S:case cc.s:this.state=State.OP_MS;break;default:throw this.fail(e.subarray(a))}break;case State.OP_MS:switch(u){case cc.G:case cc.g:this.state=State.OP_MSG;break;default:throw this.fail(e.subarray(a))}break;case State.OP_MSG:switch(u){case cc.SPACE:case cc.TAB:this.state=State.OP_MSG_SPC;break;default:throw this.fail(e.subarray(a))}break;case State.OP_MSG_SPC:switch(u){case cc.SPACE:case cc.TAB:continue;default:this.state=State.MSG_ARG,this.as=a}break;case State.MSG_ARG:switch(u){case cc.CR:this.drop=1;break;case cc.NL:{const d=this.argBuf?this.argBuf.bytes():e.subarray(this.as,a-this.drop);this.processMsgArgs(d),this.drop=0,this.as=a+1,this.state=State.MSG_PAYLOAD,a=this.as+this.ma.size-1;break}default:this.argBuf&&this.argBuf.writeByte(u)}break;case State.MSG_PAYLOAD:if(this.msgBuf)if(this.msgBuf.length>=this.ma.size){const d=this.msgBuf.bytes({copy:!1});this.dispatcher.push({kind:Kind.MSG,msg:this.ma,data:d}),this.argBuf=void 0,this.msgBuf=void 0,this.state=State.MSG_END}else{let d=this.ma.size-this.msgBuf.length;const s=e.length-a;s<d&&(d=s),d>0?(this.msgBuf.write(e.subarray(a,a+d)),a=a+d-1):this.msgBuf.writeByte(u)}else a-this.as>=this.ma.size&&(this.dispatcher.push({kind:Kind.MSG,msg:this.ma,data:e.subarray(this.as,a)}),this.argBuf=void 0,this.msgBuf=void 0,this.state=State.MSG_END);break;case State.MSG_END:switch(u){case cc.NL:this.drop=0,this.as=a+1,this.state=State.OP_START;break;default:continue}break;case State.OP_PLUS:switch(u){case cc.O:case cc.o:this.state=State.OP_PLUS_O;break;default:throw this.fail(e.subarray(a))}break;case State.OP_PLUS_O:switch(u){case cc.K:case cc.k:this.state=State.OP_PLUS_OK;break;default:throw this.fail(e.subarray(a))}break;case State.OP_PLUS_OK:switch(u){case cc.NL:this.dispatcher.push({kind:Kind.OK}),this.drop=0,this.state=State.OP_START;break}break;case State.OP_MINUS:switch(u){case cc.E:case cc.e:this.state=State.OP_MINUS_E;break;default:throw this.fail(e.subarray(a))}break;case State.OP_MINUS_E:switch(u){case cc.R:case cc.r:this.state=State.OP_MINUS_ER;break;default:throw this.fail(e.subarray(a))}break;case State.OP_MINUS_ER:switch(u){case cc.R:case cc.r:this.state=State.OP_MINUS_ERR;break;default:throw this.fail(e.subarray(a))}break;case State.OP_MINUS_ERR:switch(u){case cc.SPACE:case cc.TAB:this.state=State.OP_MINUS_ERR_SPC;break;default:throw this.fail(e.subarray(a))}break;case State.OP_MINUS_ERR_SPC:switch(u){case cc.SPACE:case cc.TAB:continue;default:this.state=State.MINUS_ERR_ARG,this.as=a}break;case State.MINUS_ERR_ARG:switch(u){case cc.CR:this.drop=1;break;case cc.NL:{let d;this.argBuf?(d=this.argBuf.bytes(),this.argBuf=void 0):d=e.subarray(this.as,a-this.drop),this.dispatcher.push({kind:Kind.ERR,data:d}),this.drop=0,this.as=a+1,this.state=State.OP_START;break}default:this.argBuf&&this.argBuf.write(Uint8Array.of(u))}break;case State.OP_P:switch(u){case cc.I:case cc.i:this.state=State.OP_PI;break;case cc.O:case cc.o:this.state=State.OP_PO;break;default:throw this.fail(e.subarray(a))}break;case State.OP_PO:switch(u){case cc.N:case cc.n:this.state=State.OP_PON;break;default:throw this.fail(e.subarray(a))}break;case State.OP_PON:switch(u){case cc.G:case cc.g:this.state=State.OP_PONG;break;default:throw this.fail(e.subarray(a))}break;case State.OP_PONG:switch(u){case cc.NL:this.dispatcher.push({kind:Kind.PONG}),this.drop=0,this.state=State.OP_START;break}break;case State.OP_PI:switch(u){case cc.N:case cc.n:this.state=State.OP_PIN;break;default:throw this.fail(e.subarray(a))}break;case State.OP_PIN:switch(u){case cc.G:case cc.g:this.state=State.OP_PING;break;default:throw this.fail(e.subarray(a))}break;case State.OP_PING:switch(u){case cc.NL:this.dispatcher.push({kind:Kind.PING}),this.drop=0,this.state=State.OP_START;break}break;case State.OP_I:switch(u){case cc.N:case cc.n:this.state=State.OP_IN;break;default:throw this.fail(e.subarray(a))}break;case State.OP_IN:switch(u){case cc.F:case cc.f:this.state=State.OP_INF;break;default:throw this.fail(e.subarray(a))}break;case State.OP_INF:switch(u){case cc.O:case cc.o:this.state=State.OP_INFO;break;default:throw this.fail(e.subarray(a))}break;case State.OP_INFO:switch(u){case cc.SPACE:case cc.TAB:this.state=State.OP_INFO_SPC;break;default:throw this.fail(e.subarray(a))}break;case State.OP_INFO_SPC:switch(u){case cc.SPACE:case cc.TAB:continue;default:this.state=State.INFO_ARG,this.as=a}break;case State.INFO_ARG:switch(u){case cc.CR:this.drop=1;break;case cc.NL:{let d;this.argBuf?(d=this.argBuf.bytes(),this.argBuf=void 0):d=e.subarray(this.as,a-this.drop),this.dispatcher.push({kind:Kind.INFO,data:d}),this.drop=0,this.as=a+1,this.state=State.OP_START;break}default:this.argBuf&&this.argBuf.writeByte(u)}break;default:throw this.fail(e.subarray(a))}}(this.state===State.MSG_ARG||this.state===State.MINUS_ERR_ARG||this.state===State.INFO_ARG)&&!this.argBuf&&(this.argBuf=new DenoBuffer(e.subarray(this.as,a-this.drop))),this.state===State.MSG_PAYLOAD&&!this.msgBuf&&(this.argBuf||this.cloneMsgArg(),this.msgBuf=new DenoBuffer(e.subarray(this.as)))}cloneMsgArg(){const e=this.ma.subject.length,a=this.ma.reply?this.ma.reply.length:0,u=new Uint8Array(e+a);u.set(this.ma.subject),this.ma.reply&&u.set(this.ma.reply,e),this.argBuf=new DenoBuffer(u),this.ma.subject=u.subarray(0,e),this.ma.reply&&(this.ma.reply=u.subarray(e))}processMsgArgs(e){if(this.hdr>=0)return this.processHeaderMsgArgs(e);const a=[];let u=-1;for(let d=0;d<e.length;d++)switch(e[d]){case cc.SPACE:case cc.TAB:case cc.CR:case cc.NL:u>=0&&(a.push(e.subarray(u,d)),u=-1);break;default:u<0&&(u=d)}switch(u>=0&&a.push(e.subarray(u)),a.length){case 3:this.ma.subject=a[0],this.ma.sid=this.protoParseInt(a[1]),this.ma.reply=void 0,this.ma.size=this.protoParseInt(a[2]);break;case 4:this.ma.subject=a[0],this.ma.sid=this.protoParseInt(a[1]),this.ma.reply=a[2],this.ma.size=this.protoParseInt(a[3]);break;default:throw this.fail(e,"processMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(e,"processMsgArgs Bad or Missing Sid Error");if(this.ma.size<0)throw this.fail(e,"processMsgArgs Bad or Missing Size Error")}fail(e,a=""){return a?a=`${a} [${this.state}]`:a=`parse error [${this.state}]`,new Error(`${a}: ${TD.decode(e)}`)}processHeaderMsgArgs(e){const a=[];let u=-1;for(let d=0;d<e.length;d++)switch(e[d]){case cc.SPACE:case cc.TAB:case cc.CR:case cc.NL:u>=0&&(a.push(e.subarray(u,d)),u=-1);break;default:u<0&&(u=d)}switch(u>=0&&a.push(e.subarray(u)),a.length){case 4:this.ma.subject=a[0],this.ma.sid=this.protoParseInt(a[1]),this.ma.reply=void 0,this.ma.hdr=this.protoParseInt(a[2]),this.ma.size=this.protoParseInt(a[3]);break;case 5:this.ma.subject=a[0],this.ma.sid=this.protoParseInt(a[1]),this.ma.reply=a[2],this.ma.hdr=this.protoParseInt(a[3]),this.ma.size=this.protoParseInt(a[4]);break;default:throw this.fail(e,"processHeaderMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(e,"processHeaderMsgArgs Bad or Missing Sid Error");if(this.ma.hdr<0||this.ma.hdr>this.ma.size)throw this.fail(e,"processHeaderMsgArgs Bad or Missing Header Size Error");if(this.ma.size<0)throw this.fail(e,"processHeaderMsgArgs Bad or Missing Size Error")}protoParseInt(e){if(e.length===0)return-1;let a=0;for(let u=0;u<e.length;u++){if(e[u]<48||e[u]>57)return-1;a=a*10+(e[u]-ASCII_0)}return a}}var State;(function(r){r[r.OP_START=0]="OP_START",r[r.OP_PLUS=1]="OP_PLUS",r[r.OP_PLUS_O=2]="OP_PLUS_O",r[r.OP_PLUS_OK=3]="OP_PLUS_OK",r[r.OP_MINUS=4]="OP_MINUS",r[r.OP_MINUS_E=5]="OP_MINUS_E",r[r.OP_MINUS_ER=6]="OP_MINUS_ER",r[r.OP_MINUS_ERR=7]="OP_MINUS_ERR",r[r.OP_MINUS_ERR_SPC=8]="OP_MINUS_ERR_SPC",r[r.MINUS_ERR_ARG=9]="MINUS_ERR_ARG",r[r.OP_M=10]="OP_M",r[r.OP_MS=11]="OP_MS",r[r.OP_MSG=12]="OP_MSG",r[r.OP_MSG_SPC=13]="OP_MSG_SPC",r[r.MSG_ARG=14]="MSG_ARG",r[r.MSG_PAYLOAD=15]="MSG_PAYLOAD",r[r.MSG_END=16]="MSG_END",r[r.OP_H=17]="OP_H",r[r.OP_P=18]="OP_P",r[r.OP_PI=19]="OP_PI",r[r.OP_PIN=20]="OP_PIN",r[r.OP_PING=21]="OP_PING",r[r.OP_PO=22]="OP_PO",r[r.OP_PON=23]="OP_PON",r[r.OP_PONG=24]="OP_PONG",r[r.OP_I=25]="OP_I",r[r.OP_IN=26]="OP_IN",r[r.OP_INF=27]="OP_INF",r[r.OP_INFO=28]="OP_INFO",r[r.OP_INFO_SPC=29]="OP_INFO_SPC",r[r.INFO_ARG=30]="INFO_ARG"})(State||(State={}));var cc;(function(r){r[r.CR=13]="CR",r[r.E=69]="E",r[r.e=101]="e",r[r.F=70]="F",r[r.f=102]="f",r[r.G=71]="G",r[r.g=103]="g",r[r.H=72]="H",r[r.h=104]="h",r[r.I=73]="I",r[r.i=105]="i",r[r.K=75]="K",r[r.k=107]="k",r[r.M=77]="M",r[r.m=109]="m",r[r.MINUS=45]="MINUS",r[r.N=78]="N",r[r.n=110]="n",r[r.NL=10]="NL",r[r.O=79]="O",r[r.o=111]="o",r[r.P=80]="P",r[r.p=112]="p",r[r.PLUS=43]="PLUS",r[r.R=82]="R",r[r.r=114]="r",r[r.S=83]="S",r[r.s=115]="s",r[r.SPACE=32]="SPACE",r[r.TAB=9]="TAB"})(cc||(cc={}));(function(r){var e=function(re,ue){this.hi=re|0,this.lo=ue|0},a=function(re){var ue,ae=new Float64Array(16);if(re)for(ue=0;ue<re.length;ue++)ae[ue]=re[ue];return ae},u=function(){throw new Error("no PRNG")},d=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var g=a(),x=a([1]),_=a([56129,1]),S=a([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),y=a([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),A=a([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),R=a([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),B=a([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function q(re,ue){return re<<ue|re>>>32-ue}function C(re,ue){var ae=re[ue+3]&255;return ae=ae<<8|re[ue+2]&255,ae=ae<<8|re[ue+1]&255,ae<<8|re[ue+0]&255}function N(re,ue){var ae=re[ue]<<24|re[ue+1]<<16|re[ue+2]<<8|re[ue+3],pe=re[ue+4]<<24|re[ue+5]<<16|re[ue+6]<<8|re[ue+7];return new e(ae,pe)}function k(re,ue,ae){var pe;for(pe=0;pe<4;pe++)re[ue+pe]=ae&255,ae>>>=8}function L(re,ue,ae){re[ue]=ae.hi>>24&255,re[ue+1]=ae.hi>>16&255,re[ue+2]=ae.hi>>8&255,re[ue+3]=ae.hi&255,re[ue+4]=ae.lo>>24&255,re[ue+5]=ae.lo>>16&255,re[ue+6]=ae.lo>>8&255,re[ue+7]=ae.lo&255}function U(re,ue,ae,pe,ye){var xe,Ne=0;for(xe=0;xe<ye;xe++)Ne|=re[ue+xe]^ae[pe+xe];return(1&Ne-1>>>8)-1}function j(re,ue,ae,pe){return U(re,ue,ae,pe,16)}function ee(re,ue,ae,pe){return U(re,ue,ae,pe,32)}function se(re,ue,ae,pe,ye){var xe=new Uint32Array(16),Ne=new Uint32Array(16),$e=new Uint32Array(16),Re=new Uint32Array(4),Ie,ze,Te;for(Ie=0;Ie<4;Ie++)Ne[5*Ie]=C(pe,4*Ie),Ne[1+Ie]=C(ae,4*Ie),Ne[6+Ie]=C(ue,4*Ie),Ne[11+Ie]=C(ae,16+4*Ie);for(Ie=0;Ie<16;Ie++)$e[Ie]=Ne[Ie];for(Ie=0;Ie<20;Ie++){for(ze=0;ze<4;ze++){for(Te=0;Te<4;Te++)Re[Te]=Ne[(5*ze+4*Te)%16];for(Re[1]^=q(Re[0]+Re[3]|0,7),Re[2]^=q(Re[1]+Re[0]|0,9),Re[3]^=q(Re[2]+Re[1]|0,13),Re[0]^=q(Re[3]+Re[2]|0,18),Te=0;Te<4;Te++)xe[4*ze+(ze+Te)%4]=Re[Te]}for(Te=0;Te<16;Te++)Ne[Te]=xe[Te]}if(ye){for(Ie=0;Ie<16;Ie++)Ne[Ie]=Ne[Ie]+$e[Ie]|0;for(Ie=0;Ie<4;Ie++)Ne[5*Ie]=Ne[5*Ie]-C(pe,4*Ie)|0,Ne[6+Ie]=Ne[6+Ie]-C(ue,4*Ie)|0;for(Ie=0;Ie<4;Ie++)k(re,4*Ie,Ne[5*Ie]),k(re,16+4*Ie,Ne[6+Ie])}else for(Ie=0;Ie<16;Ie++)k(re,4*Ie,Ne[Ie]+$e[Ie]|0)}function Ee(re,ue,ae,pe){return se(re,ue,ae,pe,!1),0}function ge(re,ue,ae,pe){return se(re,ue,ae,pe,!0),0}var oe=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Le(re,ue,ae,pe,ye,xe,Ne){var $e=new Uint8Array(16),Re=new Uint8Array(64),Ie,ze;if(!ye)return 0;for(ze=0;ze<16;ze++)$e[ze]=0;for(ze=0;ze<8;ze++)$e[ze]=xe[ze];for(;ye>=64;){for(Ee(Re,$e,Ne,oe),ze=0;ze<64;ze++)re[ue+ze]=(ae?ae[pe+ze]:0)^Re[ze];for(Ie=1,ze=8;ze<16;ze++)Ie=Ie+($e[ze]&255)|0,$e[ze]=Ie&255,Ie>>>=8;ye-=64,ue+=64,ae&&(pe+=64)}if(ye>0)for(Ee(Re,$e,Ne,oe),ze=0;ze<ye;ze++)re[ue+ze]=(ae?ae[pe+ze]:0)^Re[ze];return 0}function E(re,ue,ae,pe,ye){return Le(re,ue,null,0,ae,pe,ye)}function t(re,ue,ae,pe,ye){var xe=new Uint8Array(32);return ge(xe,pe,ye,oe),E(re,ue,ae,pe.subarray(16),xe)}function o(re,ue,ae,pe,ye,xe,Ne){var $e=new Uint8Array(32);return ge($e,xe,Ne,oe),Le(re,ue,ae,pe,ye,xe.subarray(16),$e)}function c(re,ue){var ae,pe=0;for(ae=0;ae<17;ae++)pe=pe+(re[ae]+ue[ae]|0)|0,re[ae]=pe&255,pe>>>=8}var l=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function v(re,ue,ae,pe,ye,xe){var Ne,$e,Re,Ie,ze=new Uint32Array(17),Te=new Uint32Array(17),De=new Uint32Array(17),nt=new Uint32Array(17),rt=new Uint32Array(17);for(Re=0;Re<17;Re++)Te[Re]=De[Re]=0;for(Re=0;Re<16;Re++)Te[Re]=xe[Re];for(Te[3]&=15,Te[4]&=252,Te[7]&=15,Te[8]&=252,Te[11]&=15,Te[12]&=252,Te[15]&=15;ye>0;){for(Re=0;Re<17;Re++)nt[Re]=0;for(Re=0;Re<16&&Re<ye;++Re)nt[Re]=ae[pe+Re];for(nt[Re]=1,pe+=Re,ye-=Re,c(De,nt),$e=0;$e<17;$e++)for(ze[$e]=0,Re=0;Re<17;Re++)ze[$e]=ze[$e]+De[Re]*(Re<=$e?Te[$e-Re]:320*Te[$e+17-Re]|0)|0|0;for($e=0;$e<17;$e++)De[$e]=ze[$e];for(Ie=0,Re=0;Re<16;Re++)Ie=Ie+De[Re]|0,De[Re]=Ie&255,Ie>>>=8;for(Ie=Ie+De[16]|0,De[16]=Ie&3,Ie=5*(Ie>>>2)|0,Re=0;Re<16;Re++)Ie=Ie+De[Re]|0,De[Re]=Ie&255,Ie>>>=8;Ie=Ie+De[16]|0,De[16]=Ie}for(Re=0;Re<17;Re++)rt[Re]=De[Re];for(c(De,l),Ne=-(De[16]>>>7)|0,Re=0;Re<17;Re++)De[Re]^=Ne&(rt[Re]^De[Re]);for(Re=0;Re<16;Re++)nt[Re]=xe[Re+16];for(nt[16]=0,c(De,nt),Re=0;Re<16;Re++)re[ue+Re]=De[Re];return 0}function w(re,ue,ae,pe,ye,xe){var Ne=new Uint8Array(16);return v(Ne,0,ae,pe,ye,xe),j(re,ue,Ne,0)}function M(re,ue,ae,pe,ye){var xe;if(ae<32)return-1;for(o(re,0,ue,0,ae,pe,ye),v(re,16,re,32,ae-32,re),xe=0;xe<16;xe++)re[xe]=0;return 0}function m(re,ue,ae,pe,ye){var xe,Ne=new Uint8Array(32);if(ae<32||(t(Ne,0,32,pe,ye),w(ue,16,ue,32,ae-32,Ne)!==0))return-1;for(o(re,0,ue,0,ae,pe,ye),xe=0;xe<32;xe++)re[xe]=0;return 0}function n(re,ue){var ae;for(ae=0;ae<16;ae++)re[ae]=ue[ae]|0}function b(re){var ue,ae;for(ae=0;ae<16;ae++)re[ae]+=65536,ue=Math.floor(re[ae]/65536),re[(ae+1)*(ae<15?1:0)]+=ue-1+37*(ue-1)*(ae===15?1:0),re[ae]-=ue*65536}function P(re,ue,ae){for(var pe,ye=~(ae-1),xe=0;xe<16;xe++)pe=ye&(re[xe]^ue[xe]),re[xe]^=pe,ue[xe]^=pe}function I(re,ue){var ae,pe,ye,xe=a(),Ne=a();for(ae=0;ae<16;ae++)Ne[ae]=ue[ae];for(b(Ne),b(Ne),b(Ne),pe=0;pe<2;pe++){for(xe[0]=Ne[0]-65517,ae=1;ae<15;ae++)xe[ae]=Ne[ae]-65535-(xe[ae-1]>>16&1),xe[ae-1]&=65535;xe[15]=Ne[15]-32767-(xe[14]>>16&1),ye=xe[15]>>16&1,xe[14]&=65535,P(Ne,xe,1-ye)}for(ae=0;ae<16;ae++)re[2*ae]=Ne[ae]&255,re[2*ae+1]=Ne[ae]>>8}function F(re,ue){var ae=new Uint8Array(32),pe=new Uint8Array(32);return I(ae,re),I(pe,ue),ee(ae,0,pe,0)}function Y(re){var ue=new Uint8Array(32);return I(ue,re),ue[0]&1}function X(re,ue){var ae;for(ae=0;ae<16;ae++)re[ae]=ue[2*ae]+(ue[2*ae+1]<<8);re[15]&=32767}function T(re,ue,ae){var pe;for(pe=0;pe<16;pe++)re[pe]=ue[pe]+ae[pe]|0}function K(re,ue,ae){var pe;for(pe=0;pe<16;pe++)re[pe]=ue[pe]-ae[pe]|0}function W(re,ue,ae){var pe,ye,xe=new Float64Array(31);for(pe=0;pe<31;pe++)xe[pe]=0;for(pe=0;pe<16;pe++)for(ye=0;ye<16;ye++)xe[pe+ye]+=ue[pe]*ae[ye];for(pe=0;pe<15;pe++)xe[pe]+=38*xe[pe+16];for(pe=0;pe<16;pe++)re[pe]=xe[pe];b(re),b(re)}function ne(re,ue){W(re,ue,ue)}function ie(re,ue){var ae=a(),pe;for(pe=0;pe<16;pe++)ae[pe]=ue[pe];for(pe=253;pe>=0;pe--)ne(ae,ae),pe!==2&&pe!==4&&W(ae,ae,ue);for(pe=0;pe<16;pe++)re[pe]=ae[pe]}function G(re,ue){var ae=a(),pe;for(pe=0;pe<16;pe++)ae[pe]=ue[pe];for(pe=250;pe>=0;pe--)ne(ae,ae),pe!==1&&W(ae,ae,ue);for(pe=0;pe<16;pe++)re[pe]=ae[pe]}function H(re,ue,ae){var pe=new Uint8Array(32),ye=new Float64Array(80),xe,Ne,$e=a(),Re=a(),Ie=a(),ze=a(),Te=a(),De=a();for(Ne=0;Ne<31;Ne++)pe[Ne]=ue[Ne];for(pe[31]=ue[31]&127|64,pe[0]&=248,X(ye,ae),Ne=0;Ne<16;Ne++)Re[Ne]=ye[Ne],ze[Ne]=$e[Ne]=Ie[Ne]=0;for($e[0]=ze[0]=1,Ne=254;Ne>=0;--Ne)xe=pe[Ne>>>3]>>>(Ne&7)&1,P($e,Re,xe),P(Ie,ze,xe),T(Te,$e,Ie),K($e,$e,Ie),T(Ie,Re,ze),K(Re,Re,ze),ne(ze,Te),ne(De,$e),W($e,Ie,$e),W(Ie,Re,Te),T(Te,$e,Ie),K($e,$e,Ie),ne(Re,$e),K(Ie,ze,De),W($e,Ie,_),T($e,$e,ze),W(Ie,Ie,$e),W($e,ze,De),W(ze,Re,ye),ne(Re,Te),P($e,Re,xe),P(Ie,ze,xe);for(Ne=0;Ne<16;Ne++)ye[Ne+16]=$e[Ne],ye[Ne+32]=Ie[Ne],ye[Ne+48]=Re[Ne],ye[Ne+64]=ze[Ne];var nt=ye.subarray(32),rt=ye.subarray(16);return ie(nt,nt),W(rt,rt,nt),I(re,rt),0}function fe(re,ue){return H(re,ue,s)}function he(re,ue){return u(ue,32),fe(re,ue)}function ve(re,ue,ae){var pe=new Uint8Array(32);return H(pe,ae,ue),ge(re,d,pe,oe)}var ke=M,Me=m;function le(re,ue,ae,pe,ye,xe){var Ne=new Uint8Array(32);return ve(Ne,ye,xe),ke(re,ue,ae,pe,Ne)}function Ze(re,ue,ae,pe,ye,xe){var Ne=new Uint8Array(32);return ve(Ne,ye,xe),Me(re,ue,ae,pe,Ne)}function _e(){var re=0,ue=0,ae=0,pe=0,ye=65535,xe,Ne,$e;for($e=0;$e<arguments.length;$e++)xe=arguments[$e].lo,Ne=arguments[$e].hi,re+=xe&ye,ue+=xe>>>16,ae+=Ne&ye,pe+=Ne>>>16;return ue+=re>>>16,ae+=ue>>>16,pe+=ae>>>16,new e(ae&ye|pe<<16,re&ye|ue<<16)}function Se(re,ue){return new e(re.hi>>>ue,re.lo>>>ue|re.hi<<32-ue)}function tt(){var re=0,ue=0,ae;for(ae=0;ae<arguments.length;ae++)re^=arguments[ae].lo,ue^=arguments[ae].hi;return new e(ue,re)}function Ae(re,ue){var ae,pe,ye=32-ue;return ue<32?(ae=re.hi>>>ue|re.lo<<ye,pe=re.lo>>>ue|re.hi<<ye):ue<64&&(ae=re.lo>>>ue|re.hi<<ye,pe=re.hi>>>ue|re.lo<<ye),new e(ae,pe)}function Pe(re,ue,ae){var pe=re.hi&ue.hi^~re.hi&ae.hi,ye=re.lo&ue.lo^~re.lo&ae.lo;return new e(pe,ye)}function ot(re,ue,ae){var pe=re.hi&ue.hi^re.hi&ae.hi^ue.hi&ae.hi,ye=re.lo&ue.lo^re.lo&ae.lo^ue.lo&ae.lo;return new e(pe,ye)}function Oe(re){return tt(Ae(re,28),Ae(re,34),Ae(re,39))}function He(re){return tt(Ae(re,14),Ae(re,18),Ae(re,41))}function pt(re){return tt(Ae(re,1),Ae(re,8),Se(re,7))}function z(re){return tt(Ae(re,19),Ae(re,61),Se(re,6))}var O=[new e(1116352408,3609767458),new e(1899447441,602891725),new e(3049323471,3964484399),new e(3921009573,2173295548),new e(961987163,4081628472),new e(1508970993,3053834265),new e(2453635748,2937671579),new e(2870763221,3664609560),new e(3624381080,2734883394),new e(310598401,1164996542),new e(607225278,1323610764),new e(1426881987,3590304994),new e(1925078388,4068182383),new e(2162078206,991336113),new e(2614888103,633803317),new e(3248222580,3479774868),new e(3835390401,2666613458),new e(4022224774,944711139),new e(264347078,2341262773),new e(604807628,2007800933),new e(770255983,1495990901),new e(1249150122,1856431235),new e(1555081692,3175218132),new e(1996064986,2198950837),new e(2554220882,3999719339),new e(2821834349,766784016),new e(2952996808,2566594879),new e(3210313671,3203337956),new e(3336571891,1034457026),new e(3584528711,2466948901),new e(113926993,3758326383),new e(338241895,168717936),new e(666307205,1188179964),new e(773529912,1546045734),new e(1294757372,1522805485),new e(1396182291,2643833823),new e(1695183700,2343527390),new e(1986661051,1014477480),new e(2177026350,1206759142),new e(2456956037,344077627),new e(2730485921,1290863460),new e(2820302411,3158454273),new e(3259730800,3505952657),new e(3345764771,106217008),new e(3516065817,3606008344),new e(3600352804,1432725776),new e(4094571909,1467031594),new e(275423344,851169720),new e(430227734,3100823752),new e(506948616,1363258195),new e(659060556,3750685593),new e(883997877,3785050280),new e(958139571,3318307427),new e(1322822218,3812723403),new e(1537002063,2003034995),new e(1747873779,3602036899),new e(1955562222,1575990012),new e(2024104815,1125592928),new e(2227730452,2716904306),new e(2361852424,442776044),new e(2428436474,593698344),new e(2756734187,3733110249),new e(3204031479,2999351573),new e(3329325298,3815920427),new e(3391569614,3928383900),new e(3515267271,566280711),new e(3940187606,3454069534),new e(4118630271,4000239992),new e(116418474,1914138554),new e(174292421,2731055270),new e(289380356,3203993006),new e(460393269,320620315),new e(685471733,587496836),new e(852142971,1086792851),new e(1017036298,365543100),new e(1126000580,2618297676),new e(1288033470,3409855158),new e(1501505948,4234509866),new e(1607167915,987167468),new e(1816402316,1246189591)];function D(re,ue,ae){var pe=[],ye=[],xe=[],Ne=[],$e,Re,Ie;for(Re=0;Re<8;Re++)pe[Re]=xe[Re]=N(re,8*Re);for(var ze=0;ae>=128;){for(Re=0;Re<16;Re++)Ne[Re]=N(ue,8*Re+ze);for(Re=0;Re<80;Re++){for(Ie=0;Ie<8;Ie++)ye[Ie]=xe[Ie];for($e=_e(xe[7],He(xe[4]),Pe(xe[4],xe[5],xe[6]),O[Re],Ne[Re%16]),ye[7]=_e($e,Oe(xe[0]),ot(xe[0],xe[1],xe[2])),ye[3]=_e(ye[3],$e),Ie=0;Ie<8;Ie++)xe[(Ie+1)%8]=ye[Ie];if(Re%16===15)for(Ie=0;Ie<16;Ie++)Ne[Ie]=_e(Ne[Ie],Ne[(Ie+9)%16],pt(Ne[(Ie+1)%16]),z(Ne[(Ie+14)%16]))}for(Re=0;Re<8;Re++)xe[Re]=_e(xe[Re],pe[Re]),pe[Re]=xe[Re];ze+=128,ae-=128}for(Re=0;Re<8;Re++)L(re,8*Re,pe[Re]);return ae}var te=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function ce(re,ue,ae){var pe=new Uint8Array(64),ye=new Uint8Array(256),xe,Ne=ae;for(xe=0;xe<64;xe++)pe[xe]=te[xe];for(D(pe,ue,ae),ae%=128,xe=0;xe<256;xe++)ye[xe]=0;for(xe=0;xe<ae;xe++)ye[xe]=ue[Ne-ae+xe];for(ye[ae]=128,ae=256-128*(ae<112?1:0),ye[ae-9]=0,L(ye,ae-8,new e(Ne/536870912|0,Ne<<3)),D(pe,ye,ae),xe=0;xe<64;xe++)re[xe]=pe[xe];return 0}function Fe(re,ue){var ae=a(),pe=a(),ye=a(),xe=a(),Ne=a(),$e=a(),Re=a(),Ie=a(),ze=a();K(ae,re[1],re[0]),K(ze,ue[1],ue[0]),W(ae,ae,ze),T(pe,re[0],re[1]),T(ze,ue[0],ue[1]),W(pe,pe,ze),W(ye,re[3],ue[3]),W(ye,ye,y),W(xe,re[2],ue[2]),T(xe,xe,xe),K(Ne,pe,ae),K($e,xe,ye),T(Re,xe,ye),T(Ie,pe,ae),W(re[0],Ne,$e),W(re[1],Ie,Re),W(re[2],Re,$e),W(re[3],Ne,Ie)}function be(re,ue,ae){var pe;for(pe=0;pe<4;pe++)P(re[pe],ue[pe],ae)}function je(re,ue){var ae=a(),pe=a(),ye=a();ie(ye,ue[2]),W(ae,ue[0],ye),W(pe,ue[1],ye),I(re,pe),re[31]^=Y(ae)<<7}function lt(re,ue,ae){var pe,ye;for(n(re[0],g),n(re[1],x),n(re[2],x),n(re[3],g),ye=255;ye>=0;--ye)pe=ae[ye/8|0]>>(ye&7)&1,be(re,ue,pe),Fe(ue,re),Fe(re,re),be(re,ue,pe)}function Ue(re,ue){var ae=[a(),a(),a(),a()];n(ae[0],A),n(ae[1],R),n(ae[2],x),W(ae[3],A,R),lt(re,ae,ue)}function Ve(re,ue,ae){var pe=new Uint8Array(64),ye=[a(),a(),a(),a()],xe;for(ae||u(ue,32),ce(pe,ue,32),pe[0]&=248,pe[31]&=127,pe[31]|=64,Ue(ye,pe),je(re,ye),xe=0;xe<32;xe++)ue[xe+32]=re[xe];return 0}var dt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Je(re,ue){var ae,pe,ye,xe;for(pe=63;pe>=32;--pe){for(ae=0,ye=pe-32,xe=pe-12;ye<xe;++ye)ue[ye]+=ae-16*ue[pe]*dt[ye-(pe-32)],ae=Math.floor((ue[ye]+128)/256),ue[ye]-=ae*256;ue[ye]+=ae,ue[pe]=0}for(ae=0,ye=0;ye<32;ye++)ue[ye]+=ae-(ue[31]>>4)*dt[ye],ae=ue[ye]>>8,ue[ye]&=255;for(ye=0;ye<32;ye++)ue[ye]-=ae*dt[ye];for(pe=0;pe<32;pe++)ue[pe+1]+=ue[pe]>>8,re[pe]=ue[pe]&255}function et(re){var ue=new Float64Array(64),ae;for(ae=0;ae<64;ae++)ue[ae]=re[ae];for(ae=0;ae<64;ae++)re[ae]=0;Je(re,ue)}function bt(re,ue,ae,pe){var ye=new Uint8Array(64),xe=new Uint8Array(64),Ne=new Uint8Array(64),$e,Re,Ie=new Float64Array(64),ze=[a(),a(),a(),a()];ce(ye,pe,32),ye[0]&=248,ye[31]&=127,ye[31]|=64;var Te=ae+64;for($e=0;$e<ae;$e++)re[64+$e]=ue[$e];for($e=0;$e<32;$e++)re[32+$e]=ye[32+$e];for(ce(Ne,re.subarray(32),ae+32),et(Ne),Ue(ze,Ne),je(re,ze),$e=32;$e<64;$e++)re[$e]=pe[$e];for(ce(xe,re,ae+64),et(xe),$e=0;$e<64;$e++)Ie[$e]=0;for($e=0;$e<32;$e++)Ie[$e]=Ne[$e];for($e=0;$e<32;$e++)for(Re=0;Re<32;Re++)Ie[$e+Re]+=xe[$e]*ye[Re];return Je(re.subarray(32),Ie),Te}function Ge(re,ue){var ae=a(),pe=a(),ye=a(),xe=a(),Ne=a(),$e=a(),Re=a();return n(re[2],x),X(re[1],ue),ne(ye,re[1]),W(xe,ye,S),K(ye,ye,re[2]),T(xe,re[2],xe),ne(Ne,xe),ne($e,Ne),W(Re,$e,Ne),W(ae,Re,ye),W(ae,ae,xe),G(ae,ae),W(ae,ae,ye),W(ae,ae,xe),W(ae,ae,xe),W(re[0],ae,xe),ne(pe,re[0]),W(pe,pe,xe),F(pe,ye)&&W(re[0],re[0],B),ne(pe,re[0]),W(pe,pe,xe),F(pe,ye)?-1:(Y(re[0])===ue[31]>>7&&K(re[0],g,re[0]),W(re[3],re[0],re[1]),0)}function Ye(re,ue,ae,pe){var ye,xe=new Uint8Array(32),Ne=new Uint8Array(64),$e=[a(),a(),a(),a()],Re=[a(),a(),a(),a()];if(ae<64||Ge(Re,pe))return-1;for(ye=0;ye<ae;ye++)re[ye]=ue[ye];for(ye=0;ye<32;ye++)re[ye+32]=pe[ye];if(ce(Ne,re,ae),et(Ne),lt($e,Re,Ne),Ue(Re,ue.subarray(32)),Fe($e,Re),je(xe,$e),ae-=64,ee(ue,0,xe,0)){for(ye=0;ye<ae;ye++)re[ye]=0;return-1}for(ye=0;ye<ae;ye++)re[ye]=ue[ye+64];return ae}var yt=32,We=24,Xe=32,gt=16,Ke=32,Qe=32,V=32,J=32,Z=32,$=We,Q=Xe,me=gt,Ce=64,we=32,qe=64,at=32,it=64;r.lowlevel={crypto_core_hsalsa20:ge,crypto_stream_xor:o,crypto_stream:t,crypto_stream_salsa20_xor:Le,crypto_stream_salsa20:E,crypto_onetimeauth:v,crypto_onetimeauth_verify:w,crypto_verify_16:j,crypto_verify_32:ee,crypto_secretbox:M,crypto_secretbox_open:m,crypto_scalarmult:H,crypto_scalarmult_base:fe,crypto_box_beforenm:ve,crypto_box_afternm:ke,crypto_box:le,crypto_box_open:Ze,crypto_box_keypair:he,crypto_hash:ce,crypto_sign:bt,crypto_sign_keypair:Ve,crypto_sign_open:Ye,crypto_secretbox_KEYBYTES:yt,crypto_secretbox_NONCEBYTES:We,crypto_secretbox_ZEROBYTES:Xe,crypto_secretbox_BOXZEROBYTES:gt,crypto_scalarmult_BYTES:Ke,crypto_scalarmult_SCALARBYTES:Qe,crypto_box_PUBLICKEYBYTES:V,crypto_box_SECRETKEYBYTES:J,crypto_box_BEFORENMBYTES:Z,crypto_box_NONCEBYTES:$,crypto_box_ZEROBYTES:Q,crypto_box_BOXZEROBYTES:me,crypto_sign_BYTES:Ce,crypto_sign_PUBLICKEYBYTES:we,crypto_sign_SECRETKEYBYTES:qe,crypto_sign_SEEDBYTES:at,crypto_hash_BYTES:it,gf:a,D:S,L:dt,pack25519:I,unpack25519:X,M:W,A:T,S:ne,Z:K,pow2523:G,add:Fe,set25519:n,modL:Je,scalarmult:lt,scalarbase:Ue};function vt(re,ue){if(re.length!==yt)throw new Error("bad key size");if(ue.length!==We)throw new Error("bad nonce size")}function ft(re,ue){if(re.length!==V)throw new Error("bad public key size");if(ue.length!==J)throw new Error("bad secret key size")}function ht(){for(var re=0;re<arguments.length;re++)if(!(arguments[re]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ct(re){for(var ue=0;ue<re.length;ue++)re[ue]=0}r.randomBytes=function(re){var ue=new Uint8Array(re);return u(ue,re),ue},r.secretbox=function(re,ue,ae){ht(re,ue,ae),vt(ae,ue);for(var pe=new Uint8Array(Xe+re.length),ye=new Uint8Array(pe.length),xe=0;xe<re.length;xe++)pe[xe+Xe]=re[xe];return M(ye,pe,pe.length,ue,ae),ye.subarray(gt)},r.secretbox.open=function(re,ue,ae){ht(re,ue,ae),vt(ae,ue);for(var pe=new Uint8Array(gt+re.length),ye=new Uint8Array(pe.length),xe=0;xe<re.length;xe++)pe[xe+gt]=re[xe];return pe.length<32||m(ye,pe,pe.length,ue,ae)!==0?null:ye.subarray(Xe)},r.secretbox.keyLength=yt,r.secretbox.nonceLength=We,r.secretbox.overheadLength=gt,r.scalarMult=function(re,ue){if(ht(re,ue),re.length!==Qe)throw new Error("bad n size");if(ue.length!==Ke)throw new Error("bad p size");var ae=new Uint8Array(Ke);return H(ae,re,ue),ae},r.scalarMult.base=function(re){if(ht(re),re.length!==Qe)throw new Error("bad n size");var ue=new Uint8Array(Ke);return fe(ue,re),ue},r.scalarMult.scalarLength=Qe,r.scalarMult.groupElementLength=Ke,r.box=function(re,ue,ae,pe){var ye=r.box.before(ae,pe);return r.secretbox(re,ue,ye)},r.box.before=function(re,ue){ht(re,ue),ft(re,ue);var ae=new Uint8Array(Z);return ve(ae,re,ue),ae},r.box.after=r.secretbox,r.box.open=function(re,ue,ae,pe){var ye=r.box.before(ae,pe);return r.secretbox.open(re,ue,ye)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var re=new Uint8Array(V),ue=new Uint8Array(J);return he(re,ue),{publicKey:re,secretKey:ue}},r.box.keyPair.fromSecretKey=function(re){if(ht(re),re.length!==J)throw new Error("bad secret key size");var ue=new Uint8Array(V);return fe(ue,re),{publicKey:ue,secretKey:new Uint8Array(re)}},r.box.publicKeyLength=V,r.box.secretKeyLength=J,r.box.sharedKeyLength=Z,r.box.nonceLength=$,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(re,ue){if(ht(re,ue),ue.length!==qe)throw new Error("bad secret key size");var ae=new Uint8Array(Ce+re.length);return bt(ae,re,re.length,ue),ae},r.sign.open=function(re,ue){if(ht(re,ue),ue.length!==we)throw new Error("bad public key size");var ae=new Uint8Array(re.length),pe=Ye(ae,re,re.length,ue);if(pe<0)return null;for(var ye=new Uint8Array(pe),xe=0;xe<ye.length;xe++)ye[xe]=ae[xe];return ye},r.sign.detached=function(re,ue){for(var ae=r.sign(re,ue),pe=new Uint8Array(Ce),ye=0;ye<pe.length;ye++)pe[ye]=ae[ye];return pe},r.sign.detached.verify=function(re,ue,ae){if(ht(re,ue,ae),ue.length!==Ce)throw new Error("bad signature size");if(ae.length!==we)throw new Error("bad public key size");var pe=new Uint8Array(Ce+re.length),ye=new Uint8Array(Ce+re.length),xe;for(xe=0;xe<Ce;xe++)pe[xe]=ue[xe];for(xe=0;xe<re.length;xe++)pe[xe+Ce]=re[xe];return Ye(ye,pe,pe.length,ae)>=0},r.sign.keyPair=function(){var re=new Uint8Array(we),ue=new Uint8Array(qe);return Ve(re,ue),{publicKey:re,secretKey:ue}},r.sign.keyPair.fromSecretKey=function(re){if(ht(re),re.length!==qe)throw new Error("bad secret key size");for(var ue=new Uint8Array(we),ae=0;ae<ue.length;ae++)ue[ae]=re[32+ae];return{publicKey:ue,secretKey:new Uint8Array(re)}},r.sign.keyPair.fromSeed=function(re){if(ht(re),re.length!==at)throw new Error("bad seed size");for(var ue=new Uint8Array(we),ae=new Uint8Array(qe),pe=0;pe<32;pe++)ae[pe]=re[pe];return Ve(ue,ae,!0),{publicKey:ue,secretKey:ae}},r.sign.publicKeyLength=we,r.sign.secretKeyLength=qe,r.sign.seedLength=at,r.sign.signatureLength=Ce,r.hash=function(re){ht(re);var ue=new Uint8Array(it);return ce(ue,re,re.length),ue},r.hash.hashLength=it,r.verify=function(re,ue){return ht(re,ue),re.length===0||ue.length===0||re.length!==ue.length?!1:U(re,0,ue,0,re.length)===0},r.setPRNG=function(re){u=re},function(){var re=typeof globalThis<"u"?globalThis.crypto||globalThis.msCrypto:null;if(re&&re.getRandomValues){var ue=65536;r.setPRNG(function(ae,pe){var ye,xe=new Uint8Array(pe);for(ye=0;ye<pe;ye+=ue)re.getRandomValues(xe.subarray(ye,ye+Math.min(pe-ye,ue)));for(ye=0;ye<pe;ye++)ae[ye]=xe[ye];ct(xe)})}else typeof require<"u"&&(re=require("crypto"),re&&re.randomBytes&&r.setPRNG(function(ae,pe){var ye,xe=re.randomBytes(pe);for(ye=0;ye<pe;ye++)ae[ye]=xe[ye];ct(xe)}))}()})(typeof module<"u"&&module.exports?module.exports:globalThis.nacl=globalThis.nacl||{});const nacl=typeof module<"u"&&module.exports?module.exports:globalThis.nacl,denoHelper={fromSeed:nacl.sign.keyPair.fromSeed,sign:nacl.sign.detached,verify:nacl.sign.detached.verify,randomBytes:nacl.randomBytes};let helper$2;function setEd25519Helper$1(r){helper$2=r}function getEd25519Helper$1(){return helper$2}const crc16tab$1=new Uint16Array([0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920]);let crc16$2=class Lt{static checksum(e){let a=0;for(let u=0;u<e.byteLength;u++){let d=e[u];a=a<<8&65535^crc16tab$1[(a>>8^d)&255]}return a}static validate(e,a){return Lt.checksum(e)==a}};const b32Alphabet$1="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";let base32$2=class{static encode(e){let a=0,u=0,d=new Uint8Array(e),s=new Uint8Array(e.byteLength*2),g=0;for(let x=0;x<d.byteLength;x++)for(u=u<<8|d[x],a+=8;a>=5;){let _=u>>>a-5&31;s[g++]=b32Alphabet$1.charAt(_).charCodeAt(0),a-=5}if(a>0){let x=u<<5-a&31;s[g++]=b32Alphabet$1.charAt(x).charCodeAt(0)}return s.slice(0,g)}static decode(e){let a=0,u=0,d=0,s=new Uint8Array(e),g=new Uint8Array(s.byteLength*5/8|0);for(let x=0;x<s.byteLength;x++){let _=String.fromCharCode(s[x]),S=b32Alphabet$1.indexOf(_);if(S===-1)throw new Error("Illegal Base32 character: "+s[x]);u=u<<5|S,a+=5,a>=8&&(g[d++]=u>>>a-8&255,a-=8)}return g.slice(0,d)}};class NKeysError extends Error{constructor(a,u){super(a);de(this,"name");de(this,"code");de(this,"chainedError");this.name="NKeysError",this.code=a,this.chainedError=u}}function createOperator(){return createPair(Prefix.Operator)}function createAccount(){return createPair(Prefix.Account)}function createUser(){return createPair(Prefix.User)}var NKeysErrorCode;(function(r){r.InvalidPrefixByte="nkeys: invalid prefix byte",r.InvalidKey="nkeys: invalid key",r.InvalidPublicKey="nkeys: invalid public key",r.InvalidSeedLen="nkeys: invalid seed length",r.InvalidSeed="nkeys: invalid seed",r.InvalidEncoding="nkeys: invalid encoded key",r.InvalidSignature="nkeys: signature verification failed",r.CannotSign="nkeys: cannot sign, no private key available",r.PublicKeyOnly="nkeys: no seed or private key available",r.InvalidChecksum="nkeys: invalid checksum",r.SerializationError="nkeys: serialization error",r.ApiError="nkeys: api error",r.ClearedPair="nkeys: pair is cleared"})(NKeysErrorCode||(NKeysErrorCode={}));var Prefix;(function(r){r[r.Seed=144]="Seed",r[r.Private=120]="Private",r[r.Operator=112]="Operator",r[r.Server=104]="Server",r[r.Cluster=16]="Cluster",r[r.Account=0]="Account",r[r.User=160]="User"})(Prefix||(Prefix={}));class Prefixes{static isValidPublicPrefix(e){return e==Prefix.Server||e==Prefix.Operator||e==Prefix.Cluster||e==Prefix.Account||e==Prefix.User}static startsWithValidPrefix(e){let a=e[0];return a=="S"||a=="P"||a=="O"||a=="N"||a=="C"||a=="A"||a=="U"}static isValidPrefix(e){return this.parsePrefix(e)!=-1}static parsePrefix(e){switch(e){case Prefix.Seed:return Prefix.Seed;case Prefix.Private:return Prefix.Private;case Prefix.Operator:return Prefix.Operator;case Prefix.Server:return Prefix.Server;case Prefix.Cluster:return Prefix.Cluster;case Prefix.Account:return Prefix.Account;case Prefix.User:return Prefix.User;default:return-1}}}class Codec{static encode(e,a){if(!a||!(a instanceof Uint8Array))throw new NKeysError(NKeysErrorCode.SerializationError);if(!Prefixes.isValidPrefix(e))throw new NKeysError(NKeysErrorCode.InvalidPrefixByte);return Codec._encode(!1,e,a)}static encodeSeed(e,a){if(!a)throw new NKeysError(NKeysErrorCode.ApiError);if(!Prefixes.isValidPublicPrefix(e))throw new NKeysError(NKeysErrorCode.InvalidPrefixByte);if(a.byteLength!==32)throw new NKeysError(NKeysErrorCode.InvalidSeedLen);return Codec._encode(!0,e,a)}static decode(e,a){if(!Prefixes.isValidPrefix(e))throw new NKeysError(NKeysErrorCode.InvalidPrefixByte);const u=Codec._decode(a);if(u[0]!==e)throw new NKeysError(NKeysErrorCode.InvalidPrefixByte);return u.slice(1)}static decodeSeed(e){const a=Codec._decode(e),u=Codec._decodePrefix(a);if(u[0]!=Prefix.Seed)throw new NKeysError(NKeysErrorCode.InvalidSeed);if(!Prefixes.isValidPublicPrefix(u[1]))throw new NKeysError(NKeysErrorCode.InvalidPrefixByte);return{buf:a.slice(2),prefix:u[1]}}static _encode(e,a,u){const d=e?2:1,s=u.byteLength,g=d+s+2,x=d+s,_=new Uint8Array(g);if(e){const A=Codec._encodePrefix(Prefix.Seed,a);_.set(A)}else _[0]=a;_.set(u,d);const S=crc16$2.checksum(_.slice(0,x));return new DataView(_.buffer).setUint16(x,S,!0),base32$2.encode(_)}static _decode(e){if(e.byteLength<4)throw new NKeysError(NKeysErrorCode.InvalidEncoding);let a;try{a=base32$2.decode(e)}catch(x){throw new NKeysError(NKeysErrorCode.InvalidEncoding,x)}const u=a.byteLength-2,s=new DataView(a.buffer).getUint16(u,!0),g=a.slice(0,u);if(!crc16$2.validate(g,s))throw new NKeysError(NKeysErrorCode.InvalidChecksum);return g}static _encodePrefix(e,a){const u=e|a>>5,d=(a&31)<<3;return new Uint8Array([u,d])}static _decodePrefix(e){const a=e[0]&248,u=(e[0]&7)<<5|(e[1]&248)>>3;return new Uint8Array([a,u])}}class KP{constructor(e){de(this,"seed");this.seed=e}getRawSeed(){if(!this.seed)throw new NKeysError(NKeysErrorCode.ClearedPair);return Codec.decodeSeed(this.seed).buf}getSeed(){if(!this.seed)throw new NKeysError(NKeysErrorCode.ClearedPair);return this.seed}getPublicKey(){if(!this.seed)throw new NKeysError(NKeysErrorCode.ClearedPair);const e=Codec.decodeSeed(this.seed),a=getEd25519Helper$1().fromSeed(this.getRawSeed()),u=Codec.encode(e.prefix,a.publicKey);return new TextDecoder().decode(u)}getPrivateKey(){if(!this.seed)throw new NKeysError(NKeysErrorCode.ClearedPair);const e=getEd25519Helper$1().fromSeed(this.getRawSeed());return Codec.encode(Prefix.Private,e.secretKey)}sign(e){if(!this.seed)throw new NKeysError(NKeysErrorCode.ClearedPair);const a=getEd25519Helper$1().fromSeed(this.getRawSeed());return getEd25519Helper$1().sign(e,a.secretKey)}verify(e,a){if(!this.seed)throw new NKeysError(NKeysErrorCode.ClearedPair);const u=getEd25519Helper$1().fromSeed(this.getRawSeed());return getEd25519Helper$1().verify(e,a,u.publicKey)}clear(){this.seed&&(this.seed.fill(0),this.seed=void 0)}}function createPair(r){const e=getEd25519Helper$1().randomBytes(32);let a=Codec.encodeSeed(r,new Uint8Array(e));return new KP(a)}class PublicKey{constructor(e){de(this,"publicKey");this.publicKey=e}getPublicKey(){if(!this.publicKey)throw new NKeysError(NKeysErrorCode.ClearedPair);return new TextDecoder().decode(this.publicKey)}getPrivateKey(){throw this.publicKey?new NKeysError(NKeysErrorCode.PublicKeyOnly):new NKeysError(NKeysErrorCode.ClearedPair)}getSeed(){throw this.publicKey?new NKeysError(NKeysErrorCode.PublicKeyOnly):new NKeysError(NKeysErrorCode.ClearedPair)}sign(e){throw this.publicKey?new NKeysError(NKeysErrorCode.CannotSign):new NKeysError(NKeysErrorCode.ClearedPair)}verify(e,a){if(!this.publicKey)throw new NKeysError(NKeysErrorCode.ClearedPair);let u=Codec._decode(this.publicKey);return getEd25519Helper$1().verify(e,a,u.slice(1))}clear(){this.publicKey&&(this.publicKey.fill(0),this.publicKey=void 0)}}function fromPublic(r){const e=new TextEncoder().encode(r),a=Codec._decode(e),u=Prefixes.parsePrefix(a[0]);if(Prefixes.isValidPublicPrefix(u))return new PublicKey(e);throw new NKeysError(NKeysErrorCode.InvalidPublicKey)}function fromSeed(r){return Codec.decodeSeed(r),new KP(r)}function encode2(r){return btoa(String.fromCharCode(...r))}function decode2(r){const e=atob(r),a=new Uint8Array(e.length);for(let u=0;u<e.length;u++)a[u]=e.charCodeAt(u);return a}setEd25519Helper$1(denoHelper);const mod$1={createAccount,createOperator,createPair,createUser,fromPublic,fromSeed,NKeysError,NKeysErrorCode,Prefix,decode:decode2,encode:encode2};function multiAuthenticator(r){return e=>{let a={};return r.forEach(u=>{const d=u(e)||{};a=Object.assign(a,d)}),a}}function noAuthFn(){return()=>{}}function usernamePasswordAuthenticator(r,e){return()=>{const a=typeof r=="function"?r():r,u=typeof e=="function"?e():e;return{user:a,pass:u}}}function tokenAuthenticator(r){return()=>({auth_token:typeof r=="function"?r():r})}function nkeyAuthenticator(r){return e=>{const a=typeof r=="function"?r():r,u=a?mod$1.fromSeed(a):void 0,d=u?u.getPublicKey():"",s=TE.encode(e||""),g=u!==void 0&&e?u.sign(s):void 0,x=g?mod$1.encode(g):"";return{nkey:d,sig:x}}}function jwtAuthenticator(r,e){return a=>{const u=typeof r=="function"?r():r,d=nkeyAuthenticator(e),{nkey:s,sig:g}=d(a);return{jwt:u,nkey:s,sig:g}}}function credsAuthenticator(r){const e=typeof r!="function"?()=>r:r,a=()=>{const s=/\s*(?:(?:[-]{3,}[^\n]*[-]{3,}\n)(.+)(?:\n\s*[-]{3,}[^\n]*[-]{3,}\n))/ig,g=TD.decode(e());let x=s.exec(g);if(!x)throw NatsError.errorForCode(ErrorCode.BadCreds);const _=x[1].trim();if(x=s.exec(g),!x||!x)throw NatsError.errorForCode(ErrorCode.BadCreds);const S=TE.encode(x[1].trim());return{jwt:_,seed:S}};return jwtAuthenticator(()=>{const{jwt:s}=a();return s},()=>{const{seed:s}=a();return s})}const DEFAULT_PING_INTERVAL=2*60*1e3,DEFAULT_MAX_PING_OUT=2,DEFAULT_RECONNECT_TIME_WAIT=2*1e3;function defaultOptions(){return{maxPingOut:2,maxReconnectAttempts:10,noRandomize:!1,pedantic:!1,pingInterval:DEFAULT_PING_INTERVAL,reconnect:!0,reconnectJitter:100,reconnectJitterTLS:1e3,reconnectTimeWait:DEFAULT_RECONNECT_TIME_WAIT,tls:void 0,verbose:!1,waitOnFirstConnect:!1,ignoreAuthErrorAbort:!1}}function buildAuthenticator(r){const e=[];return typeof r.authenticator=="function"&&e.push(r.authenticator),Array.isArray(r.authenticator)&&e.push(...r.authenticator),r.token&&e.push(tokenAuthenticator(r.token)),r.user&&e.push(usernamePasswordAuthenticator(r.user,r.pass)),e.length===0?noAuthFn():multiAuthenticator(e)}function parseOptions(r){const e=`${DEFAULT_HOST}:${defaultPort()}`;if(r=r||{servers:[e]},r.servers=r.servers||[],typeof r.servers=="string"&&(r.servers=[r.servers]),r.servers.length>0&&r.port)throw new NatsError("port and servers options are mutually exclusive",ErrorCode.InvalidOption);r.servers.length===0&&r.port&&(r.servers=[`${DEFAULT_HOST}:${r.port}`]),r.servers&&r.servers.length===0&&(r.servers=[e]);const a=extend(defaultOptions(),r);if(a.authenticator=buildAuthenticator(a),["reconnectDelayHandler","authenticator"].forEach(u=>{if(a[u]&&typeof a[u]!="function")throw new NatsError(`${u} option should be a function`,ErrorCode.NotFunction)}),a.reconnectDelayHandler||(a.reconnectDelayHandler=()=>{let u=a.tls?a.reconnectJitterTLS:a.reconnectJitter;return u&&(u++,u=Math.floor(Math.random()*u)),a.reconnectTimeWait+u}),a.inboxPrefix)try{createInbox(a.inboxPrefix)}catch(u){throw new NatsError(u.message,ErrorCode.ApiError)}if(a.resolve&&typeof getResolveFn()!="function")throw new NatsError("'resolve' is not supported on this client",ErrorCode.InvalidOption);return a}function checkOptions(r,e){const{proto:a,tls_required:u,tls_available:d}=r;if((a===void 0||a<1)&&e.noEcho)throw new NatsError("noEcho",ErrorCode.ServerOptionNotAvailable);const s=u||d||!1;if(e.tls&&!s)throw new NatsError("tls",ErrorCode.ServerOptionNotAvailable)}const FLUSH_THRESHOLD=1024*32,INFO=/^INFO\s+([^\r\n]+)\r\n/i,PONG_CMD=encode$2(`PONG\r
`),PING_CMD=encode$2(`PING\r
`);class Connect{constructor(e,a,u){de(this,"echo");de(this,"no_responders");de(this,"protocol");de(this,"verbose");de(this,"pedantic");de(this,"jwt");de(this,"nkey");de(this,"sig");de(this,"user");de(this,"pass");de(this,"auth_token");de(this,"tls_required");de(this,"name");de(this,"lang");de(this,"version");de(this,"headers");this.protocol=1,this.version=e.version,this.lang=e.lang,this.echo=a.noEcho?!1:void 0,this.verbose=a.verbose,this.pedantic=a.pedantic,this.tls_required=a.tls?!0:void 0,this.name=a.name;const d=(a&&typeof a.authenticator=="function"?a.authenticator(u):{})||{};extend(this,d)}}class SubscriptionImpl extends QueuedIteratorImpl{constructor(a,u,d={}){var g;super();de(this,"sid");de(this,"queue");de(this,"draining");de(this,"max");de(this,"subject");de(this,"drained");de(this,"protocol");de(this,"timer");de(this,"info");de(this,"cleanupFn");de(this,"closed");de(this,"requestSubject");extend(this,d),this.protocol=a,this.subject=u,this.draining=!1,this.noIterator=typeof d.callback=="function",this.closed=deferred();const s=!((g=a.options)!=null&&g.noAsyncTraces);d.timeout&&(this.timer=timeout(d.timeout,s),this.timer.then(()=>{this.timer=void 0}).catch(x=>{this.stop(x),this.noIterator&&this.callback(x,{})})),this.noIterator||this.iterClosed.then(()=>{this.closed.resolve(),this.unsubscribe()})}setPrePostHandlers(a){if(this.noIterator){const u=this.callback,d=a.ingestionFilterFn?a.ingestionFilterFn:()=>({ingest:!0,protocol:!1}),s=a.protocolFilterFn?a.protocolFilterFn:()=>!0,g=a.dispatchedFn?a.dispatchedFn:()=>{};this.callback=(x,_)=>{const{ingest:S}=d(_);S&&s(_)&&(u(x,_),g(_))}}else this.protocolFilterFn=a.protocolFilterFn,this.dispatchedFn=a.dispatchedFn}callback(a,u){this.cancelTimeout(),a?this.stop(a):this.push(u)}close(){if(!this.isClosed()){this.cancelTimeout();const a=()=>{if(this.stop(),this.cleanupFn)try{this.cleanupFn(this,this.info)}catch{}this.closed.resolve()};this.noIterator?a():this.push(a)}}unsubscribe(a){this.protocol.unsubscribe(this,a)}cancelTimeout(){this.timer&&(this.timer.cancel(),this.timer=void 0)}drain(){return this.protocol.isClosed()?Promise.reject(NatsError.errorForCode(ErrorCode.ConnectionClosed)):this.isClosed()?Promise.reject(NatsError.errorForCode(ErrorCode.SubClosed)):(this.drained||(this.draining=!0,this.protocol.unsub(this),this.drained=this.protocol.flush(deferred()).then(()=>{this.protocol.subscriptions.cancel(this)}).catch(()=>{this.protocol.subscriptions.cancel(this)})),this.drained)}isDraining(){return this.draining}isClosed(){return this.done}getSubject(){return this.subject}getMax(){return this.max}getID(){return this.sid}}class Subscriptions{constructor(){de(this,"mux");de(this,"subs");de(this,"sidCounter");this.sidCounter=0,this.mux=null,this.subs=new Map}size(){return this.subs.size}add(e){return this.sidCounter++,e.sid=this.sidCounter,this.subs.set(e.sid,e),e}setMux(e){return this.mux=e,e}getMux(){return this.mux}get(e){return this.subs.get(e)}resub(e){return this.sidCounter++,this.subs.delete(e.sid),e.sid=this.sidCounter,this.subs.set(e.sid,e),e}all(){return Array.from(this.subs.values())}cancel(e){e&&(e.close(),this.subs.delete(e.sid))}handleError(e){if(e&&e.permissionContext){const a=e.permissionContext,u=this.all();let d;if(a.operation==="subscription"&&(d=u.find(s=>s.subject===a.subject)),a.operation==="publish"&&(d=u.find(s=>s.requestSubject===a.subject)),d)return d.callback(e,{}),d.close(),this.subs.delete(d.sid),d!==this.mux}return!1}close(){this.subs.forEach(e=>{e.close()})}}class ProtocolHandler{constructor(e,a){de(this,"connected");de(this,"connectedOnce");de(this,"infoReceived");de(this,"info");de(this,"muxSubscriptions");de(this,"options");de(this,"outbound");de(this,"pongs");de(this,"subscriptions");de(this,"transport");de(this,"noMorePublishing");de(this,"connectError");de(this,"publisher");de(this,"_closed");de(this,"closed");de(this,"listeners");de(this,"heartbeats");de(this,"parser");de(this,"outMsgs");de(this,"inMsgs");de(this,"outBytes");de(this,"inBytes");de(this,"pendingLimit");de(this,"lastError");de(this,"abortReconnect");de(this,"whyClosed");de(this,"servers");de(this,"server");de(this,"features");de(this,"connectPromise");this._closed=!1,this.connected=!1,this.connectedOnce=!1,this.infoReceived=!1,this.noMorePublishing=!1,this.abortReconnect=!1,this.listeners=[],this.pendingLimit=FLUSH_THRESHOLD,this.outMsgs=0,this.inMsgs=0,this.outBytes=0,this.inBytes=0,this.options=e,this.publisher=a,this.subscriptions=new Subscriptions,this.muxSubscriptions=new MuxSubscription,this.outbound=new DataBuffer,this.pongs=[],this.whyClosed="",this.pendingLimit=e.pendingLimit||this.pendingLimit,this.features=new Features({major:0,minor:0,micro:0}),this.connectPromise=null;const u=typeof e.servers=="string"?[e.servers]:e.servers;this.servers=new Servers(u,{randomize:!e.noRandomize}),this.closed=deferred(),this.parser=new Parser(this),this.heartbeats=new Heartbeat(this,this.options.pingInterval||DEFAULT_PING_INTERVAL,this.options.maxPingOut||DEFAULT_MAX_PING_OUT)}resetOutbound(){this.outbound.reset();const e=this.pongs;this.pongs=[];const a=NatsError.errorForCode(ErrorCode.Disconnect);a.stack="",e.forEach(u=>{u.reject(a)}),this.parser=new Parser(this),this.infoReceived=!1}dispatchStatus(e){this.listeners.forEach(a=>{a.push(e)})}status(){const e=new QueuedIteratorImpl;return this.listeners.push(e),e}prepare(){this.transport&&this.transport.discard(),this.info=void 0,this.resetOutbound();const e=deferred();return e.catch(()=>{}),this.pongs.unshift(e),this.connectError=a=>{e.reject(a)},this.transport=newTransport(),this.transport.closed().then(async a=>{if(this.connected=!1,!this.isClosed()){await this.disconnected(this.transport.closeError||this.lastError);return}}),e}disconnect(){this.dispatchStatus({type:DebugEvents.StaleConnection,data:""}),this.transport.disconnect()}reconnect(){return this.connected&&(this.dispatchStatus({type:DebugEvents.ClientInitiatedReconnect,data:""}),this.transport.disconnect()),Promise.resolve()}async disconnected(e){this.dispatchStatus({type:Events.Disconnect,data:this.servers.getCurrentServer().toString()}),this.options.reconnect?await this.dialLoop().then(()=>{var a;this.dispatchStatus({type:Events.Reconnect,data:this.servers.getCurrentServer().toString()}),((a=this.lastError)==null?void 0:a.code)===ErrorCode.AuthenticationExpired&&(this.lastError=void 0)}).catch(a=>{this._close(a)}):await this._close(e)}async dial(e){const a=this.prepare();let u;try{u=timeout(this.options.timeout||2e4);const d=this.transport.connect(e,this.options);await Promise.race([d,u]),(async()=>{try{for await(const s of this.transport)this.parser.parse(s)}catch(s){console.log("reader closed",s)}})().then()}catch(d){a.reject(d)}try{await Promise.race([u,a]),u&&u.cancel(),this.connected=!0,this.connectError=void 0,this.sendSubscriptions(),this.connectedOnce=!0,this.server.didConnect=!0,this.server.reconnects=0,this.flushPending(),this.heartbeats.start()}catch(d){throw u&&u.cancel(),await this.transport.close(d),d}}async _doDial(e){const a=await e.resolve({fn:getResolveFn(),debug:this.options.debug,randomize:!this.options.noRandomize});let u=null;for(const d of a)try{u=null,this.dispatchStatus({type:DebugEvents.Reconnecting,data:d.toString()}),await this.dial(d);return}catch(s){u=s}throw u}dialLoop(){return this.connectPromise===null&&(this.connectPromise=this.dodialLoop(),this.connectPromise.then(()=>{}).catch(()=>{}).finally(()=>{this.connectPromise=null})),this.connectPromise}async dodialLoop(){let e;for(;;){this._closed&&this.servers.clear();const a=this.options.reconnectDelayHandler?this.options.reconnectDelayHandler():DEFAULT_RECONNECT_TIME_WAIT;let u=a;const d=this.selectServer();if(!d||this.abortReconnect)throw e||(this.lastError?this.lastError:NatsError.errorForCode(ErrorCode.ConnectionRefused));const s=Date.now();if(d.lastConnect===0||d.lastConnect+a<=s){d.lastConnect=Date.now();try{await this._doDial(d);break}catch(g){if(e=g,!this.connectedOnce){if(this.options.waitOnFirstConnect)continue;this.servers.removeCurrentServer()}d.reconnects++;const x=this.options.maxReconnectAttempts||0;x!==-1&&d.reconnects>=x&&this.servers.removeCurrentServer()}}else u=Math.min(u,d.lastConnect+a-s),await delay(u)}}static async connect(e,a){const u=new ProtocolHandler(e,a);return await u.dialLoop(),u}static toError(e){const a=e?e.toLowerCase():"";if(a.indexOf("permissions violation")!==-1){const u=new NatsError(e,ErrorCode.PermissionsViolation),d=e.match(/(Publish|Subscription) to "(\S+)"/);return d&&(u.permissionContext={operation:d[1].toLowerCase(),subject:d[2]}),u}else return a.indexOf("authorization violation")!==-1?new NatsError(e,ErrorCode.AuthorizationViolation):a.indexOf("user authentication expired")!==-1?new NatsError(e,ErrorCode.AuthenticationExpired):a.indexOf("authentication timeout")!==-1?new NatsError(e,ErrorCode.AuthenticationTimeout):new NatsError(e,ErrorCode.ProtocolError)}processMsg(e,a){if(this.inMsgs++,this.inBytes+=a.length,!this.subscriptions.sidCounter)return;const u=this.subscriptions.get(e.sid);u&&(u.received+=1,u.callback&&u.callback(null,new MsgImpl(e,a,this)),u.max!==void 0&&u.received>=u.max&&u.unsubscribe())}processError(e){const a=decode$3(e),u=ProtocolHandler.toError(a),d={type:Events.Error,data:u.code};if(u.isPermissionError()){let s=!1;if(u.permissionContext){d.permissionContext=u.permissionContext;const g=this.subscriptions.getMux();s=(g==null?void 0:g.subject)===u.permissionContext.subject}this.subscriptions.handleError(u),this.muxSubscriptions.handleError(s,u),s&&this.subscriptions.setMux(null)}this.dispatchStatus(d),this.handleError(u)}handleError(e){e.isAuthError()?this.handleAuthError(e):e.isProtocolError()?this.lastError=e:e.isAuthTimeout()&&(this.lastError=e),e.isPermissionError()||(this.lastError=e)}handleAuthError(e){this.lastError&&e.code===this.lastError.code&&this.options.ignoreAuthErrorAbort===!1&&(this.abortReconnect=!0),this.connectError?this.connectError(e):this.disconnect()}processPing(){this.transport.send(PONG_CMD)}processPong(){const e=this.pongs.shift();e&&e.resolve()}processInfo(e){const a=JSON.parse(decode$3(e));this.info=a;const u=this.options&&this.options.ignoreClusterUpdates?void 0:this.servers.update(a,this.transport.isEncrypted());if(!this.infoReceived){this.features.update(parseSemVer(a.version)),this.infoReceived=!0,this.transport.isEncrypted()&&this.servers.updateTLSName();const{version:s,lang:g}=this.transport;try{const x=new Connect({version:s,lang:g},this.options,a.nonce);a.headers&&(x.headers=!0,x.no_responders=!0);const _=JSON.stringify(x);this.transport.send(encode$2(`CONNECT ${_}${CR_LF}`)),this.transport.send(PING_CMD)}catch(x){this._close(x)}}u&&this.dispatchStatus({type:Events.Update,data:u}),(a.ldm!==void 0?a.ldm:!1)&&this.dispatchStatus({type:Events.LDM,data:this.servers.getCurrentServer().toString()})}push(e){switch(e.kind){case Kind.MSG:{const{msg:a,data:u}=e;this.processMsg(a,u);break}case Kind.OK:break;case Kind.ERR:this.processError(e.data);break;case Kind.PING:this.processPing();break;case Kind.PONG:this.processPong();break;case Kind.INFO:this.processInfo(e.data);break}}sendCommand(e,...a){const u=this.outbound.length();let d;typeof e=="string"?d=encode$2(e):d=e,this.outbound.fill(d,...a),u===0?queueMicrotask(()=>{this.flushPending()}):this.outbound.size()>=this.pendingLimit&&this.flushPending()}publish(e,a=Empty,u){let d;if(a instanceof Uint8Array)d=a;else if(typeof a=="string")d=TE.encode(a);else throw NatsError.errorForCode(ErrorCode.BadPayload);let s=d.length;u=u||{},u.reply=u.reply||"";let g=Empty,x=0;if(u.headers){if(this.info&&!this.info.headers)throw new NatsError("headers",ErrorCode.ServerOptionNotAvailable);g=u.headers.encode(),x=g.length,s=d.length+x}if(this.info&&s>this.info.max_payload)throw NatsError.errorForCode(ErrorCode.MaxPayloadExceeded);this.outBytes+=s,this.outMsgs++;let _;u.headers?(u.reply?_=`HPUB ${e} ${u.reply} ${x} ${s}\r
`:_=`HPUB ${e} ${x} ${s}\r
`,this.sendCommand(_,g,d,CRLF)):(u.reply?_=`PUB ${e} ${u.reply} ${s}\r
`:_=`PUB ${e} ${s}\r
`,this.sendCommand(_,d,CRLF))}request(e){return this.initMux(),this.muxSubscriptions.add(e),e}subscribe(e){return this.subscriptions.add(e),this._subunsub(e),e}_sub(e){e.queue?this.sendCommand(`SUB ${e.subject} ${e.queue} ${e.sid}\r
`):this.sendCommand(`SUB ${e.subject} ${e.sid}\r
`)}_subunsub(e){return this._sub(e),e.max&&this.unsubscribe(e,e.max),e}unsubscribe(e,a){this.unsub(e,a),(e.max===void 0||e.received>=e.max)&&this.subscriptions.cancel(e)}unsub(e,a){!e||this.isClosed()||(a?this.sendCommand(`UNSUB ${e.sid} ${a}\r
`):this.sendCommand(`UNSUB ${e.sid}\r
`),e.max=a)}resub(e,a){!e||this.isClosed()||(this.unsub(e),e.subject=a,this.subscriptions.resub(e),this._sub(e))}flush(e){return e||(e=deferred()),this.pongs.push(e),this.outbound.fill(PING_CMD),this.flushPending(),e}sendSubscriptions(){const e=[];this.subscriptions.all().forEach(a=>{const u=a;u.queue?e.push(`SUB ${u.subject} ${u.queue} ${u.sid}${CR_LF}`):e.push(`SUB ${u.subject} ${u.sid}${CR_LF}`)}),e.length&&this.transport.send(encode$2(e.join("")))}async _close(e){this._closed||(this.whyClosed=new Error("close trace").stack||"",this.heartbeats.cancel(),this.connectError&&(this.connectError(e),this.connectError=void 0),this.muxSubscriptions.close(),this.subscriptions.close(),this.listeners.forEach(a=>{a.stop()}),this._closed=!0,await this.transport.close(e),await this.closed.resolve(e))}close(){return this._close()}isClosed(){return this._closed}drain(){const e=this.subscriptions.all(),a=[];return e.forEach(u=>{a.push(u.drain())}),Promise.all(a).then(async()=>(this.noMorePublishing=!0,await this.flush(),this.close())).catch(()=>{})}flushPending(){if(!(!this.infoReceived||!this.connected)&&this.outbound.size()){const e=this.outbound.drain();this.transport.send(e)}}initMux(){if(!this.subscriptions.getMux()){const a=this.muxSubscriptions.init(this.options.inboxPrefix),u=new SubscriptionImpl(this,`${a}*`);u.callback=this.muxSubscriptions.dispatcher(),this.subscriptions.setMux(u),this.subscribe(u)}}selectServer(){const e=this.servers.selectServer();if(e!==void 0)return this.server=e,this.server}getServer(){return this.server}}const ServiceApiPrefix="$SRV";class ServiceMsgImpl{constructor(e){de(this,"msg");this.msg=e}get data(){return this.msg.data}get sid(){return this.msg.sid}get subject(){return this.msg.subject}get reply(){return this.msg.reply||""}get headers(){return this.msg.headers}respond(e,a){return this.msg.respond(e,a)}respondError(e,a,u,d){var s,g;return d=d||{},d.headers=d.headers||headers(),(s=d.headers)==null||s.set(ServiceErrorCodeHeader,`${e}`),(g=d.headers)==null||g.set(ServiceErrorHeader,a),this.msg.respond(u,d)}json(e){return this.msg.json(e)}string(){return this.msg.string()}}class ServiceGroupImpl{constructor(e,a="",u=""){de(this,"subject");de(this,"queue");de(this,"srv");a!==""&&validInternalToken("service group",a);let d="";if(e instanceof ServiceImpl)this.srv=e,d="";else if(e instanceof ServiceGroupImpl){const s=e;this.srv=s.srv,u===""&&s.queue!==""&&(u=s.queue),d=s.subject}else throw new Error("unknown ServiceGroup type");this.subject=this.calcSubject(d,a),this.queue=u}calcSubject(e,a=""){return a===""?e:e!==""?`${e}.${a}`:a}addEndpoint(e="",a){a=a||{subject:e};const u=typeof a=="function"?{handler:a,subject:e}:a;validateName("endpoint",e);let{subject:d,handler:s,metadata:g,queue:x}=u;d=d||e,x=x||this.queue,validSubjectName("endpoint subject",d),d=this.calcSubject(this.subject,d);const _={name:e,subject:d,queue:x,handler:s,metadata:g};return this.srv._addEndpoint(_)}addGroup(e="",a=""){return new ServiceGroupImpl(this,e,a)}}function validSubjectName(r,e){if(e==="")throw new Error(`${r} cannot be empty`);if(e.indexOf(" ")!==-1)throw new Error(`${r} cannot contain spaces: '${e}'`);const a=e.split(".");a.forEach((u,d)=>{if(u===">"&&d!==a.length-1)throw new Error(`${r} cannot have internal '>': '${e}'`)})}function validInternalToken(r,e){if(e.indexOf(" ")!==-1)throw new Error(`${r} cannot contain spaces: '${e}'`);e.split(".").forEach(u=>{if(u===">")throw new Error(`${r} name cannot contain internal '>': '${e}'`)})}class ServiceImpl{constructor(e,a={name:"",version:""}){de(this,"nc");de(this,"_id");de(this,"config");de(this,"handlers");de(this,"internal");de(this,"_stopped");de(this,"_done");de(this,"started");this.nc=e,this.config=Object.assign({},a),this.config.queue||(this.config.queue="q"),validateName("name",this.config.name),validateName("queue",this.config.queue),parseSemVer(this.config.version),this._id=nuid.next(),this.internal=[],this._done=deferred(),this._stopped=!1,this.handlers=[],this.started=new Date().toISOString(),this.reset(),this.nc.closed().then(()=>{this.close().catch()}).catch(u=>{this.close(u).catch()})}static controlSubject(e,a="",u="",d){const s=d??ServiceApiPrefix;return a===""&&u===""?`${s}.${e}`:(validateName("control subject name",a),u!==""?(validateName("control subject id",u),`${s}.${e}.${a}.${u}`):`${s}.${e}.${a}`)}get subjects(){return this.handlers.filter(e=>e.internal===!1).map(e=>e.subject)}get id(){return this._id}get name(){return this.config.name}get description(){return this.config.description??""}get version(){return this.config.version}get metadata(){return this.config.metadata}errorToHeader(e){const a=headers();if(e instanceof ServiceError){const u=e;a.set(ServiceErrorHeader,u.message),a.set(ServiceErrorCodeHeader,`${u.code}`)}else a.set(ServiceErrorHeader,e.message),a.set(ServiceErrorCodeHeader,"500");return a}setupHandler(e,a=!1){const u=a?"":e.queue?e.queue:this.config.queue,{name:d,subject:s,handler:g}=e,x=e;x.internal=a,a&&this.internal.push(x),x.stats=new NamedEndpointStatsImpl(d,s,u),x.queue=u;const _=g?(S,y)=>{if(S){this.close(S);return}const A=Date.now();try{g(S,new ServiceMsgImpl(y))}catch(R){x.stats.countError(R),y==null||y.respond(Empty,{headers:this.errorToHeader(R)})}finally{x.stats.countLatency(A)}}:void 0;return x.sub=this.nc.subscribe(s,{callback:_,queue:u}),x.sub.closed.then(()=>{this._stopped||this.close(new Error(`required subscription ${e.subject} stopped`)).catch()}).catch(S=>{if(!this._stopped){const y=new Error(`required subscription ${e.subject} errored: ${S.message}`);y.stack=S.stack,this.close(y).catch()}}),x}info(){return{type:ServiceResponseType.INFO,name:this.name,id:this.id,version:this.version,description:this.description,metadata:this.metadata,endpoints:this.endpoints()}}endpoints(){return this.handlers.map(e=>{const{subject:a,metadata:u,name:d,queue:s}=e;return{subject:a,metadata:u,name:d,queue_group:s}})}async stats(){const e=[];for(const a of this.handlers){if(typeof this.config.statsHandler=="function")try{a.stats.data=await this.config.statsHandler(a)}catch(u){a.stats.countError(u)}e.push(a.stats.stats(a.qi))}return{type:ServiceResponseType.STATS,name:this.name,id:this.id,version:this.version,started:this.started,metadata:this.metadata,endpoints:e}}addInternalHandler(e,a){const u=`${e}`.toUpperCase();this._doAddInternalHandler(`${u}-all`,e,a),this._doAddInternalHandler(`${u}-kind`,e,a,this.name),this._doAddInternalHandler(`${u}`,e,a,this.name,this.id)}_doAddInternalHandler(e,a,u,d="",s=""){const g={};g.name=e,g.subject=ServiceImpl.controlSubject(a,d,s),g.handler=u,this.setupHandler(g,!0)}start(){const e=JSONCodec(),a=(g,x)=>g?(this.close(g),Promise.reject(g)):this.stats().then(_=>(x==null||x.respond(e.encode(_)),Promise.resolve())),u=(g,x)=>g?(this.close(g),Promise.reject(g)):(x==null||x.respond(e.encode(this.info())),Promise.resolve()),d=e.encode(this.ping()),s=(g,x)=>g?(this.close(g).then().catch(),Promise.reject(g)):(x.respond(d),Promise.resolve());return this.addInternalHandler(ServiceVerb.PING,s),this.addInternalHandler(ServiceVerb.STATS,a),this.addInternalHandler(ServiceVerb.INFO,u),this.handlers.forEach(g=>{const{subject:x}=g;typeof x=="string"&&g.handler!==null&&this.setupHandler(g)}),Promise.resolve(this)}close(e){if(this._stopped)return this._done;this._stopped=!0;let a=[];return this.nc.isClosed()||(a=this.handlers.concat(this.internal).map(u=>u.sub.drain())),Promise.allSettled(a).then(()=>{this._done.resolve(e||null)}),this._done}get stopped(){return this._done}get isStopped(){return this._stopped}stop(e){return this.close(e)}ping(){return{type:ServiceResponseType.PING,name:this.name,id:this.id,version:this.version,metadata:this.metadata}}reset(){if(this.started=new Date().toISOString(),this.handlers)for(const e of this.handlers)e.stats.reset(e.qi)}addGroup(e,a){return new ServiceGroupImpl(this,e,a)}addEndpoint(e,a){return new ServiceGroupImpl(this).addEndpoint(e,a)}_addEndpoint(e){const a=new QueuedIteratorImpl;a.noIterator=typeof e.handler=="function",a.noIterator||(e.handler=(d,s)=>{d?this.stop(d).catch():a.push(new ServiceMsgImpl(s))},a.iterClosed.then(()=>{this.close().catch()}));const u=this.setupHandler(e,!1);return u.qi=a,this.handlers.push(u),a}}class NamedEndpointStatsImpl{constructor(e,a,u=""){de(this,"name");de(this,"subject");de(this,"average_processing_time");de(this,"num_requests");de(this,"processing_time");de(this,"num_errors");de(this,"last_error");de(this,"data");de(this,"metadata");de(this,"queue");this.name=e,this.subject=a,this.average_processing_time=0,this.num_errors=0,this.num_requests=0,this.processing_time=0,this.queue=u}reset(e){this.num_requests=0,this.processing_time=0,this.average_processing_time=0,this.num_errors=0,this.last_error=void 0,this.data=void 0;const a=e;a&&(a.time=0,a.processed=0)}countLatency(e){this.num_requests++,this.processing_time+=nanos(Date.now()-e),this.average_processing_time=Math.round(this.processing_time/this.num_requests)}countError(e){this.num_errors++,this.last_error=e.message}_stats(){const{name:e,subject:a,average_processing_time:u,num_errors:d,num_requests:s,processing_time:g,last_error:x,data:_,queue:S}=this;return{name:e,subject:a,average_processing_time:u,num_errors:d,num_requests:s,processing_time:g,last_error:x,data:_,queue_group:S}}stats(e){const a=e;return(a==null?void 0:a.noIterator)===!1&&(this.processing_time=a.time,this.num_requests=a.processed,this.average_processing_time=this.processing_time>0&&this.num_requests>0?this.processing_time/this.num_requests:0),this._stats()}}class ServiceClientImpl{constructor(e,a={strategy:RequestStrategy.JitterTimer,maxWait:2e3},u){de(this,"nc");de(this,"prefix");de(this,"opts");this.nc=e,this.prefix=u,this.opts=a}ping(e="",a=""){return this.q(ServiceVerb.PING,e,a)}stats(e="",a=""){return this.q(ServiceVerb.STATS,e,a)}info(e="",a=""){return this.q(ServiceVerb.INFO,e,a)}async q(e,a="",u=""){const d=new QueuedIteratorImpl,s=JSONCodec(),g=ServiceImpl.controlSubject(e,a,u,this.prefix),x=await this.nc.requestMany(g,Empty,this.opts);return(async()=>{for await(const _ of x)try{const S=s.decode(_.data);d.push(S)}catch(S){d.push(()=>{d.stop(S)})}d.push(()=>{d.stop()})})().catch(_=>{d.stop(_)}),d}}function NoopKvCodecs(){return{key:{encode(r){return r},decode(r){return r}},value:{encode(r){return r},decode(r){return r}}}}function defaultBucketOpts(){return{replicas:1,history:1,timeout:2e3,maxBucketSize:-1,maxValueSize:-1,codec:NoopKvCodecs(),storage:StorageType.File}}const kvOperationHdr="KV-Operation",kvSubjectPrefix="$KV",validKeyRe=/^[-/=.\w]+$/,validSearchKey=/^[-/=.>*\w]+$/,validBucketRe=/^[-\w]+$/;function validateKey(r){if(r.startsWith(".")||r.endsWith(".")||!validKeyRe.test(r))throw new Error(`invalid key: ${r}`)}function validateSearchKey(r){if(r.startsWith(".")||r.endsWith(".")||!validSearchKey.test(r))throw new Error(`invalid key: ${r}`)}function hasWildcards(r){if(r.startsWith(".")||r.endsWith("."))throw new Error(`invalid key: ${r}`);const e=r.split(".");let a=!1;for(let u=0;u<e.length;u++)switch(e[u]){case"*":a=!0;break;case">":if(u!==e.length-1)throw new Error(`invalid key: ${r}`);a=!0;break}return a}function validateBucket(r){if(!validBucketRe.test(r))throw new Error(`invalid bucket name: ${r}`)}var PubHeaders;(function(r){r.MsgIdHdr="Nats-Msg-Id",r.ExpectedStreamHdr="Nats-Expected-Stream",r.ExpectedLastSeqHdr="Nats-Expected-Last-Sequence",r.ExpectedLastMsgIdHdr="Nats-Expected-Last-Msg-Id",r.ExpectedLastSubjectSequenceHdr="Nats-Expected-Last-Subject-Sequence"})(PubHeaders||(PubHeaders={}));class Bucket{constructor(e,a,u){de(this,"js");de(this,"jsm");de(this,"stream");de(this,"bucket");de(this,"direct");de(this,"codec");de(this,"prefix");de(this,"editPrefix");de(this,"useJsPrefix");de(this,"_prefixLen");de(this,"validateKey",validateKey);de(this,"validateSearchKey",validateSearchKey);de(this,"hasWildcards",hasWildcards);validateBucket(e),this.js=a,this.jsm=u,this.bucket=e,this.prefix=kvSubjectPrefix,this.editPrefix="",this.useJsPrefix=!1,this._prefixLen=0}static async create(e,a,u={}){validateBucket(a);const d=await e.jetstreamManager(),s=new Bucket(a,e,d);return await s.init(u),s}static async bind(e,a,u={}){const d=await e.jetstreamManager(),s={config:{allow_direct:u.allow_direct}};validateBucket(a);const g=new Bucket(a,e,d);return s.config.name=u.streamName??g.bucketName(),Object.assign(g,s),g.stream=s.config.name,g.codec=u.codec||NoopKvCodecs(),g.direct=s.config.allow_direct??!1,g.initializePrefixes(s),g}async init(e={}){const a=Object.assign(defaultBucketOpts(),e);this.codec=a.codec;const u={};this.stream=u.name=e.streamName??this.bucketName(),u.retention=RetentionPolicy.Limits,u.max_msgs_per_subject=a.history,a.maxBucketSize&&(a.max_bytes=a.maxBucketSize),a.max_bytes&&(u.max_bytes=a.max_bytes),u.max_msg_size=a.maxValueSize,u.storage=a.storage;const d=e.placementCluster??"";if(d&&(e.placement={},e.placement.cluster=d,e.placement.tags=[]),e.placement&&(u.placement=e.placement),e.republish&&(u.republish=e.republish),e.description&&(u.description=e.description),e.mirror){const A=Object.assign({},e.mirror);A.name.startsWith(kvPrefix)||(A.name=`${kvPrefix}${A.name}`),u.mirror=A,u.mirror_direct=!0}else if(e.sources){const A=e.sources.map(R=>{const B=Object.assign({},R);B.name.startsWith(kvPrefix)||(B.name=`${kvPrefix}${B.name}`)});u.sources=A}else u.subjects=[this.subjectForBucket()];e.metadata&&(u.metadata=e.metadata),typeof e.compression=="boolean"&&(u.compression=e.compression?StoreCompression.S2:StoreCompression.None);const s=this.js.nc,g=s.getServerVersion(),x=g?compare(g,parseSemVer("2.7.2"))>=0:!1;u.discard=x?DiscardPolicy.New:DiscardPolicy.Old;const{ok:_,min:S}=s.features.get(Feature.JS_ALLOW_DIRECT);if(!_&&e.allow_direct===!0){const A=g?`${g.major}.${g.minor}.${g.micro}`:"unknown";return Promise.reject(new Error(`allow_direct is not available on server version ${A} - requires ${S}`))}e.allow_direct=typeof e.allow_direct=="boolean"?e.allow_direct:_,u.allow_direct=e.allow_direct,this.direct=u.allow_direct,u.num_replicas=a.replicas,a.ttl&&(u.max_age=nanos(a.ttl)),u.allow_rollup_hdrs=!0;let y;try{y=await this.jsm.streams.info(u.name),!y.config.allow_direct&&this.direct===!0&&(this.direct=!1)}catch(A){if(A.message==="stream not found")y=await this.jsm.streams.add(u);else throw A}this.initializePrefixes(y)}initializePrefixes(e){this._prefixLen=0,this.prefix=`$KV.${this.bucket}`,this.useJsPrefix=this.js.apiPrefix!=="$JS.API";const{mirror:a}=e.config;if(a){let u=a.name;if(u.startsWith(kvPrefix)&&(u=u.substring(kvPrefix.length)),a.external&&a.external.api!==""){const d=a.name.substring(kvPrefix.length);this.useJsPrefix=!1,this.prefix=`$KV.${d}`,this.editPrefix=`${a.external.api}.$KV.${u}`}else this.editPrefix=this.prefix}}bucketName(){return this.stream??`${kvPrefix}${this.bucket}`}subjectForBucket(){return`${this.prefix}.${this.bucket}.>`}subjectForKey(e,a=!1){const u=[];return a?(this.useJsPrefix&&u.push(this.js.apiPrefix),this.editPrefix!==""?u.push(this.editPrefix):u.push(this.prefix)):this.prefix&&u.push(this.prefix),u.push(e),u.join(".")}fullKeyName(e){return this.prefix!==""?`${this.prefix}.${e}`:`${kvSubjectPrefix}.${this.bucket}.${e}`}get prefixLen(){return this._prefixLen===0&&(this._prefixLen=this.prefix.length+1),this._prefixLen}encodeKey(e){const a=[];for(const u of e.split("."))switch(u){case">":case"*":a.push(u);break;default:a.push(this.codec.key.encode(u));break}return a.join(".")}decodeKey(e){const a=[];for(const u of e.split("."))switch(u){case">":case"*":a.push(u);break;default:a.push(this.codec.key.decode(u));break}return a.join(".")}close(){return Promise.resolve()}dataLen(e,a){const u=a&&a.get(JsHeaders.MessageSizeHdr)||"";return u!==""?parseInt(u,10):e.length}smToEntry(e){return new KvStoredEntryImpl(this.bucket,this.prefixLen,e)}jmToEntry(e){const a=this.decodeKey(e.subject.substring(this.prefixLen));return new KvJsMsgEntryImpl(this.bucket,a,e)}async create(e,a){var s;let u;try{const g=await this.put(e,a,{previousSeq:0});return Promise.resolve(g)}catch(g){if(u=g,((s=g==null?void 0:g.api_error)==null?void 0:s.err_code)!==10071)return Promise.reject(g)}let d=0;try{const g=await this.get(e);return(g==null?void 0:g.operation)==="DEL"||(g==null?void 0:g.operation)==="PURGE"?(d=g!==null?g.revision:0,this.update(e,a,d)):Promise.reject(u)}catch(g){return Promise.reject(g)}}update(e,a,u){if(u<=0)throw new Error("version must be greater than 0");return this.put(e,a,{previousSeq:u})}async put(e,a,u={}){var g,x;const d=this.encodeKey(e);this.validateKey(d);const s={};if(u.previousSeq!==void 0){const _=headers();s.headers=_,_.set(PubHeaders.ExpectedLastSubjectSequenceHdr,`${u.previousSeq}`)}try{return(await this.js.publish(this.subjectForKey(d,!0),a,s)).seq}catch(_){const S=_;return S.isJetStreamError()?(S.message=(g=S.api_error)==null?void 0:g.description,S.code=`${(x=S.api_error)==null?void 0:x.code}`,Promise.reject(S)):Promise.reject(_)}}async get(e,a){const u=this.encodeKey(e);this.validateKey(u);let d={last_by_subj:this.subjectForKey(u)};a&&a.revision>0&&(d={seq:a.revision});let s;try{this.direct?s=await this.jsm.direct.getMessage(this.bucketName(),d):s=await this.jsm.streams.getMessage(this.bucketName(),d);const g=this.smToEntry(s);return g.key!==u?null:g}catch(g){if(g.code===ErrorCode.JetStream404NoMessages)return null;throw g}}purge(e,a){return this._deleteOrPurge(e,"PURGE",a)}delete(e,a){return this._deleteOrPurge(e,"DEL",a)}async purgeDeletes(e=30*60*1e3){const a=deferred(),u=[],d=await this.watch({key:">",initializedFn:()=>{a.resolve()}});(async()=>{for await(const _ of d)(_.operation==="DEL"||_.operation==="PURGE")&&u.push(_)})().then(),await a,d.stop();const s=Date.now()-e,g=u.map(_=>{const S=this.subjectForKey(_.key);return _.created.getTime()>=s?this.jsm.streams.purge(this.stream,{filter:S,keep:1}):this.jsm.streams.purge(this.stream,{filter:S,keep:0})}),x=await Promise.all(g);return x.unshift({success:!0,purged:0}),x.reduce((_,S)=>(_.purged+=S.purged,_))}async _deleteOrPurge(e,a,u){if(!this.hasWildcards(e))return this._doDeleteOrPurge(e,a,u);const d=await this.keys(e),s=[];for await(const g of d)s.push(this._doDeleteOrPurge(g,a)),s.length===100&&(await Promise.all(s),s.length=0);s.length>0&&await Promise.all(s)}async _doDeleteOrPurge(e,a,u){const d=this.encodeKey(e);this.validateKey(d);const s=headers();s.set(kvOperationHdr,a),a==="PURGE"&&s.set(JsHeaders.RollupHdr,JsHeaders.RollupValueSubject),u!=null&&u.previousSeq&&s.set(PubHeaders.ExpectedLastSubjectSequenceHdr,`${u.previousSeq}`),await this.js.publish(this.subjectForKey(d,!0),Empty,{headers:s})}_buildCC(e,a,u={}){let s=(Array.isArray(e)?e:[e]).map(_=>{const S=this.encodeKey(_);return this.validateSearchKey(_),this.fullKeyName(S)}),g=DeliverPolicy.LastPerSubject;a===KvWatchInclude.AllHistory&&(g=DeliverPolicy.All),a===KvWatchInclude.UpdatesOnly&&(g=DeliverPolicy.New);let x;return s.length===1&&(x=s[0],s=void 0),Object.assign({deliver_policy:g,ack_policy:AckPolicy.None,filter_subjects:s,filter_subject:x,flow_control:!0,idle_heartbeat:nanos(5*1e3)},u)}remove(e){return this.purge(e)}async history(e={}){const a=e.key??">",u=new QueuedIteratorImpl,d={};d.headers_only=e.headers_only||!1;let s;s=()=>{u.stop()};let g=0;const x=this._buildCC(a,KvWatchInclude.AllHistory,d),_=x.filter_subject,S=consumerOpts(x);S.bindStream(this.stream),S.orderedConsumer(),S.callback((A,R)=>{if(A){u.stop(A);return}if(R){const B=this.jmToEntry(R);u.push(B),u.received++,(s&&g>0&&u.received>=g||R.info.pending===0)&&(u.push(s),s=void 0)}});const y=await this.js.subscribe(_,S);if(s){const{info:{last:A}}=y,R=A.num_pending+A.delivered.consumer_seq;if(R===0||u.received>=R)try{s()}catch(B){u.stop(B)}finally{s=void 0}else g=R}return u._data=y,u.iterClosed.then(()=>{y.unsubscribe()}),y.closed.then(()=>{u.stop()}).catch(A=>{u.stop(A)}),u}canSetWatcherName(){const a=this.js.nc,{ok:u}=a.features.get(Feature.JS_NEW_CONSUMER_CREATE_API);return u}async watch(e={}){const a=e.key??">",u=new QueuedIteratorImpl,d={};d.headers_only=e.headers_only||!1;let s=KvWatchInclude.LastValue;e.include===KvWatchInclude.AllHistory?s=KvWatchInclude.AllHistory:e.include===KvWatchInclude.UpdatesOnly&&(s=KvWatchInclude.UpdatesOnly);const g=e.ignoreDeletes===!0;let x=e.initializedFn,_=0;const S=this._buildCC(a,s,d),y=S.filter_subject,A=consumerOpts(S);this.canSetWatcherName()&&A.consumerName(nuid.next()),A.bindStream(this.stream),e.resumeFromRevision&&e.resumeFromRevision>0&&A.startSequence(e.resumeFromRevision),A.orderedConsumer(),A.callback((B,q)=>{if(B){u.stop(B);return}if(q){const C=this.jmToEntry(q);if(g&&C.operation==="DEL")return;u.push(C),u.received++,x&&(_>0&&u.received>=_||q.info.pending===0)&&(u.push(x),x=void 0)}});const R=await this.js.subscribe(y,A);if(x){const{info:{last:B}}=R,q=B.num_pending+B.delivered.consumer_seq;if(q===0||u.received>=q)try{x()}catch(C){u.stop(C)}finally{x=void 0}else _=q}return u._data=R,u.iterClosed.then(()=>{R.unsubscribe()}),R.closed.then(()=>{u.stop()}).catch(B=>{u.stop(B)}),u}async keys(e=">"){const a=new QueuedIteratorImpl,u=this._buildCC(e,KvWatchInclude.LastValue,{headers_only:!0}),d=u.filter_subject,s=consumerOpts(u);s.bindStream(this.stream),s.orderedConsumer();const g=await this.js.subscribe(d,s);return(async()=>{var _;for await(const S of g){const y=(_=S.headers)==null?void 0:_.get(kvOperationHdr);if(y!=="DEL"&&y!=="PURGE"){const A=this.decodeKey(S.subject.substring(this.prefixLen));a.push(A)}S.info.pending===0&&g.unsubscribe()}})().then(()=>{a.stop()}).catch(_=>{a.stop(_)}),g.info.last.num_pending===0&&g.unsubscribe(),a}purgeBucket(e){return this.jsm.streams.purge(this.bucketName(),e)}destroy(){return this.jsm.streams.delete(this.bucketName())}async status(){var s;const a=((s=this.js.nc.info)==null?void 0:s.cluster)??"",u=this.bucketName(),d=await this.jsm.streams.info(u);return new KvStatusImpl(d,a)}}class KvStatusImpl{constructor(e,a=""){de(this,"si");de(this,"cluster");this.si=e,this.cluster=a}get bucket(){return this.si.config.name.startsWith(kvPrefix)?this.si.config.name.substring(kvPrefix.length):this.si.config.name}get values(){return this.si.state.messages}get history(){return this.si.config.max_msgs_per_subject}get ttl(){return millis(this.si.config.max_age)}get bucket_location(){return this.cluster}get backingStore(){return this.si.config.storage}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get description(){return this.si.config.description??""}get maxBucketSize(){return this.si.config.max_bytes}get maxValueSize(){return this.si.config.max_msg_size}get max_bytes(){return this.si.config.max_bytes}get placement(){return this.si.config.placement||{cluster:"",tags:[]}}get placementCluster(){var e;return((e=this.si.config.placement)==null?void 0:e.cluster)??""}get republish(){return this.si.config.republish??{src:"",dest:""}}get streamInfo(){return this.si}get size(){return this.si.state.bytes}get metadata(){return this.si.config.metadata??{}}get compression(){return this.si.config.compression?this.si.config.compression!==StoreCompression.None:!1}}const osPrefix="OBJ_",digestType="SHA-256=";function objectStoreStreamName(r){return validateBucket(r),`${osPrefix}${r}`}function objectStoreBucketName(r){return r.startsWith(osPrefix)?r.substring(4):r}class ObjectStoreStatusImpl{constructor(e){de(this,"si");de(this,"backingStore");this.si=e,this.backingStore="JetStream"}get bucket(){return objectStoreBucketName(this.si.config.name)}get description(){return this.si.config.description??""}get ttl(){return this.si.config.max_age}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get sealed(){return this.si.config.sealed}get size(){return this.si.state.bytes}get streamInfo(){return this.si}get metadata(){return this.si.config.metadata}get compression(){return this.si.config.compression?this.si.config.compression!==StoreCompression.None:!1}}function convertStreamSourceDomain(r){if(r===void 0)return;const{domain:e}=r;if(e===void 0)return r;const a=Object.assign({},r);if(delete a.domain,e==="")return a;if(a.external)throw new Error("domain and external are both set");return a.external={api:`$JS.${e}.API`},a}var PullConsumerType;(function(r){r[r.Unset=-1]="Unset",r[r.Consume=0]="Consume",r[r.Fetch=1]="Fetch"})(PullConsumerType||(PullConsumerType={}));var ConsumerEvents;(function(r){r.HeartbeatsMissed="heartbeats_missed",r.ConsumerNotFound="consumer_not_found",r.StreamNotFound="stream_not_found",r.ConsumerDeleted="consumer_deleted",r.OrderedConsumerRecreated="ordered_consumer_recreated"})(ConsumerEvents||(ConsumerEvents={}));var ConsumerDebugEvents;(function(r){r.DebugEvent="debug",r.Discard="discard",r.Reset="reset",r.Next="next"})(ConsumerDebugEvents||(ConsumerDebugEvents={}));const ACK=Uint8Array.of(43,65,67,75),NAK=Uint8Array.of(45,78,65,75),WPI=Uint8Array.of(43,87,80,73),NXT=Uint8Array.of(43,78,88,84),TERM=Uint8Array.of(43,84,69,82,77),SPACE=Uint8Array.of(32);function toJsMsg(r){return new JsMsgImpl(r)}class PullConsumerMessagesImpl extends QueuedIteratorImpl{constructor(a,u,d=!1){super();de(this,"consumer");de(this,"opts");de(this,"sub");de(this,"monitor");de(this,"pending");de(this,"inbox");de(this,"refilling");de(this,"pong");de(this,"callback");de(this,"timeout");de(this,"cleanupHandler");de(this,"listeners");de(this,"statusIterator");de(this,"forOrderedConsumer");de(this,"resetHandler");de(this,"abortOnMissingResource");de(this,"bind");this.consumer=a;const s=u;this.opts=this.parseOptions(u,d),this.callback=s.callback||null,this.noIterator=typeof this.callback=="function",this.monitor=null,this.pong=null,this.pending={msgs:0,bytes:0,requests:0},this.refilling=d,this.timeout=null,this.inbox=createInbox(a.api.nc.options.inboxPrefix),this.listeners=[],this.forOrderedConsumer=!1,this.abortOnMissingResource=s.abort_on_missing_resource===!0,this.bind=s.bind===!0,this.start()}start(){const{max_messages:a,max_bytes:u,idle_heartbeat:d,threshold_bytes:s,threshold_messages:g}=this.opts;this.closed().then(_=>{if(this.cleanupHandler)try{this.cleanupHandler(_)}catch{}});const{sub:x}=this;x&&x.unsubscribe(),this.sub=this.consumer.api.nc.subscribe(this.inbox,{callback:(_,S)=>{var A,R,B,q;if(_){this.stop(_);return}if((A=this.monitor)==null||A.work(),S.subject===this.inbox){if(isHeartbeatMsg(S))return;const C=(R=S.headers)==null?void 0:R.code,N=((q=(B=S.headers)==null?void 0:B.description)==null?void 0:q.toLowerCase())||"unknown",{msgsLeft:k,bytesLeft:L}=this.parseDiscard(S.headers);if(k>0||L>0)this.pending.msgs-=k,this.pending.bytes-=L,this.pending.requests--,this.notify(ConsumerDebugEvents.Discard,{msgsLeft:k,bytesLeft:L});else if(C===400){this.stop(new NatsError(N,`${C}`));return}else if(C===409&&N==="consumer deleted"){if(this.notify(ConsumerEvents.ConsumerDeleted,`${C} ${N}`),!this.refilling||this.abortOnMissingResource){const U=new NatsError(N,`${C}`);this.stop(U);return}}else this.notify(ConsumerDebugEvents.DebugEvent,`${C} ${N}`)}else this._push(toJsMsg(S)),this.received++,this.pending.msgs&&this.pending.msgs--,this.pending.bytes&&(this.pending.bytes-=S.size());if(this.pending.msgs===0&&this.pending.bytes===0&&(this.pending.requests=0),this.refilling){if(a&&this.pending.msgs<=g||u&&this.pending.bytes<=s){const C=this.pullOptions();this.pull(C)}}else this.pending.requests===0&&this._push(()=>{this.stop()})}}),this.sub.closed.then(()=>{this.sub.draining&&this._push(()=>{this.stop()})}),d&&(this.monitor=new IdleHeartbeatMonitor(d,_=>(this.notify(ConsumerEvents.HeartbeatsMissed,_),this.resetPending().then(()=>{}).catch(()=>{}),!1),{maxOut:2})),(async()=>{var S;const _=this.consumer.api.nc.status();this.statusIterator=_;for await(const y of _)switch(y.type){case Events.Disconnect:(S=this.monitor)==null||S.cancel();break;case Events.Reconnect:this.resetPending().then(A=>{var R;A&&((R=this.monitor)==null||R.restart())}).catch(()=>{});break}})(),this.pull(this.pullOptions())}_push(a){if(!this.callback)super.push(a);else{const u=typeof a=="function"?a:null;try{u?u():this.callback(a)}catch(d){this.stop(d)}}}notify(a,u){this.listeners.length>0&&this.listeners.forEach(d=>{d.done||d.push({type:a,data:u})})}resetPending(){return this.bind?this.resetPendingNoInfo():this.resetPendingWithInfo()}resetPendingNoInfo(){return this.pending.msgs=0,this.pending.bytes=0,this.pending.requests=0,this.pull(this.pullOptions()),Promise.resolve(!0)}async resetPendingWithInfo(){let a=0,u=0;const d=backoff();let s=0;for(;;){if(this.done)return!1;if(this.consumer.api.nc.isClosed())return console.error("aborting resetPending - connection is closed"),!1;try{return await this.consumer.info(),a=0,this.pending.msgs=0,this.pending.bytes=0,this.pending.requests=0,this.pull(this.pullOptions()),!0}catch(g){if(g.message==="stream not found"){if(u++,this.notify(ConsumerEvents.StreamNotFound,u),!this.refilling||this.abortOnMissingResource)return this.stop(g),!1}else if(g.message==="consumer not found"){if(a++,this.notify(ConsumerEvents.ConsumerNotFound,a),this.resetHandler)try{this.resetHandler()}catch{}if(!this.refilling||this.abortOnMissingResource)return this.stop(g),!1;if(this.forOrderedConsumer)return!1}else a=0,u=0;const x=d.backoff(s),_=delay(x);await Promise.race([_,this.consumer.api.nc.closed()]),_.cancel(),s++}}}pull(a){this.pending.bytes+=a.max_bytes??0,this.pending.msgs+=a.batch??0,this.pending.requests++;const u=this.consumer.api.nc;this._push(()=>{u.publish(`${this.consumer.api.prefix}.CONSUMER.MSG.NEXT.${this.consumer.stream}.${this.consumer.name}`,this.consumer.api.jc.encode(a),{reply:this.inbox}),this.notify(ConsumerDebugEvents.Next,a)})}pullOptions(){const a=this.opts.max_messages-this.pending.msgs,u=this.opts.max_bytes-this.pending.bytes,d=nanos(this.opts.idle_heartbeat),s=nanos(this.opts.expires);return{batch:a,max_bytes:u,idle_heartbeat:d,expires:s}}parseDiscard(a){const u={msgsLeft:0,bytesLeft:0},d=a==null?void 0:a.get(JsHeaders.PendingMessagesHdr);d&&(u.msgsLeft=parseInt(d));const s=a==null?void 0:a.get(JsHeaders.PendingBytesHdr);return s&&(u.bytesLeft=parseInt(s)),u}trackTimeout(a){this.timeout=a}close(){return this.stop(),this.iterClosed}closed(){return this.iterClosed}clearTimers(){var a,u;(a=this.monitor)==null||a.cancel(),this.monitor=null,(u=this.timeout)==null||u.cancel(),this.timeout=null}setCleanupHandler(a){this.cleanupHandler=a}stop(a){var u,d;this.done||((u=this.sub)==null||u.unsubscribe(),this.clearTimers(),(d=this.statusIterator)==null||d.stop(),this._push(()=>{super.stop(a),this.listeners.forEach(s=>{s.stop()})}))}parseOptions(a,u=!1){const d=a||{};if(d.max_messages=d.max_messages||0,d.max_bytes=d.max_bytes||0,d.max_messages!==0&&d.max_bytes!==0)throw new Error("only specify one of max_messages or max_bytes");if(d.max_messages===0&&(d.max_messages=100),d.expires=d.expires||3e4,d.expires<1e3)throw new Error("expires should be at least 1000ms");if(d.idle_heartbeat=d.idle_heartbeat||d.expires/2,d.idle_heartbeat=d.idle_heartbeat>3e4?3e4:d.idle_heartbeat,u){const s=Math.round(d.max_messages*.75)||1;d.threshold_messages=d.threshold_messages||s;const g=Math.round(d.max_bytes*.75)||1;d.threshold_bytes=d.threshold_bytes||g}return d}status(){const a=new QueuedIteratorImpl;return this.listeners.push(a),Promise.resolve(a)}}class OrderedConsumerMessages extends QueuedIteratorImpl{constructor(){super();de(this,"src");de(this,"listeners");this.listeners=[]}setSource(a){this.src&&(this.src.resetHandler=void 0,this.src.setCleanupHandler(),this.src.stop()),this.src=a,this.src.setCleanupHandler(u=>{this.stop(u||void 0)}),(async()=>{const u=await this.src.status();for await(const d of u)this.notify(d.type,d.data)})().catch(()=>{})}notify(a,u){this.listeners.length>0&&this.listeners.forEach(d=>{d.done||d.push({type:a,data:u})})}stop(a){var u;this.done||((u=this.src)==null||u.stop(a),super.stop(a),this.listeners.forEach(d=>{d.stop()}))}close(){return this.stop(),this.iterClosed}closed(){return this.iterClosed}status(){const a=new QueuedIteratorImpl;return this.listeners.push(a),Promise.resolve(a)}}class PullConsumerImpl{constructor(e,a){de(this,"api");de(this,"_info");de(this,"stream");de(this,"name");this.api=e,this._info=a,this.stream=a.stream_name,this.name=a.name}consume(e={max_messages:100,expires:3e4}){return Promise.resolve(new PullConsumerMessagesImpl(this,e,!0))}fetch(e={max_messages:100,expires:3e4}){const a=new PullConsumerMessagesImpl(this,e,!1),u=Math.round(a.opts.expires*1.05),d=timeout(u);return a.closed().catch(()=>{}).finally(()=>{d.cancel()}),d.catch(()=>{a.close().catch()}),a.trackTimeout(d),Promise.resolve(a)}next(e={expires:3e4}){const a=deferred(),u=e;u.max_messages=1;const d=new PullConsumerMessagesImpl(this,u,!1),s=Math.round(d.opts.expires*1.05);s>=6e4&&(async()=>{for await(const x of await d.status())if(x.type===ConsumerEvents.HeartbeatsMissed&&x.data>=2){a.reject(new Error("consumer missed heartbeats"));break}})().catch(),(async()=>{for await(const x of d){a.resolve(x);break}})().catch(()=>{});const g=timeout(s);return d.closed().then(x=>{x?a.reject(x):a.resolve(null)}).catch(x=>{a.reject(x)}).finally(()=>{g.cancel()}),g.catch(x=>{a.resolve(null),d.close().catch()}),d.trackTimeout(g),a}delete(){const{stream_name:e,name:a}=this._info;return this.api.delete(e,a)}info(e=!1){if(e)return Promise.resolve(this._info);const{stream_name:a,name:u}=this._info;return this.api.info(a,u).then(d=>(this._info=d,this._info))}}class OrderedPullConsumerImpl{constructor(e,a,u={}){de(this,"api");de(this,"consumerOpts");de(this,"consumer");de(this,"opts");de(this,"cursor");de(this,"stream");de(this,"namePrefix");de(this,"serial");de(this,"currentConsumer");de(this,"userCallback");de(this,"iter");de(this,"type");de(this,"startSeq");this.api=e,this.stream=a,this.cursor={stream_seq:1,deliver_seq:0},this.namePrefix=nuid.next(),typeof u.name_prefix=="string"&&(minValidation("name_prefix",u.name_prefix),this.namePrefix=u.name_prefix+this.namePrefix),this.serial=0,this.currentConsumer=null,this.userCallback=null,this.iter=null,this.type=PullConsumerType.Unset,this.consumerOpts=u,this.startSeq=this.consumerOpts.opt_start_seq||0,this.cursor.stream_seq=this.startSeq>0?this.startSeq-1:0}getConsumerOpts(e){this.serial++;const a=`${this.namePrefix}_${this.serial}`;e=e===0?1:e;const u={name:a,deliver_policy:DeliverPolicy.StartSequence,opt_start_seq:e,ack_policy:AckPolicy.None,inactive_threshold:nanos(5*60*1e3),num_replicas:1};return this.consumerOpts.headers_only===!0&&(u.headers_only=!0),Array.isArray(this.consumerOpts.filterSubjects)&&(u.filter_subjects=this.consumerOpts.filterSubjects),typeof this.consumerOpts.filterSubjects=="string"&&(u.filter_subject=this.consumerOpts.filterSubjects),this.consumerOpts.replay_policy&&(u.replay_policy=this.consumerOpts.replay_policy),e===this.startSeq+1&&(u.deliver_policy=this.consumerOpts.deliver_policy||DeliverPolicy.StartSequence,(this.consumerOpts.deliver_policy===DeliverPolicy.LastPerSubject||this.consumerOpts.deliver_policy===DeliverPolicy.New||this.consumerOpts.deliver_policy===DeliverPolicy.Last)&&(delete u.opt_start_seq,u.deliver_policy=this.consumerOpts.deliver_policy),u.deliver_policy===DeliverPolicy.LastPerSubject&&typeof u.filter_subjects>"u"&&typeof u.filter_subject>"u"&&(u.filter_subject=">"),this.consumerOpts.opt_start_time&&(delete u.opt_start_seq,u.deliver_policy=DeliverPolicy.StartTime,u.opt_start_time=this.consumerOpts.opt_start_time),this.consumerOpts.inactive_threshold&&(u.inactive_threshold=nanos(this.consumerOpts.inactive_threshold))),u}async resetConsumer(e=0){var s,g,x,_;(s=this.consumer)==null||s.delete().catch(()=>{}),e=e===0?1:e,this.cursor.deliver_seq=0;const a=this.getConsumerOpts(e);a.max_deliver=1,a.mem_storage=!0;const u=backoff();let d;for(let S=0;;S++)try{d=await this.api.add(this.stream,a),(g=this.iter)==null||g.notify(ConsumerEvents.OrderedConsumerRecreated,d.name);break}catch(y){if(y.message==="stream not found"&&((x=this.iter)==null||x.notify(ConsumerEvents.StreamNotFound,S),this.type===PullConsumerType.Fetch||this.opts.abort_on_missing_resource===!0))return(_=this.iter)==null||_.stop(y),Promise.reject(y);if(e===0&&S>=30)throw y;await delay(u.backoff(S+1))}return d}internalHandler(e){return a=>{var d;if(this.serial!==e)return;const u=a.info.deliverySequence;if(u!==this.cursor.deliver_seq+1){this.notifyOrderedResetAndReset();return}this.cursor.deliver_seq=u,this.cursor.stream_seq=a.info.streamSequence,this.userCallback?this.userCallback(a):(d=this.iter)==null||d.push(a)}}async reset(e={max_messages:100,expires:3e4},a){var _,S;a=a||{};const u=a.fromFetch||!1,d=a.orderedReset||!1;if(this.type===PullConsumerType.Fetch&&d){(_=this.iter)==null||_.src.stop(),await((S=this.iter)==null?void 0:S.closed()),this.currentConsumer=null;return}(this.currentConsumer===null||d)&&(this.currentConsumer=await this.resetConsumer(this.cursor.stream_seq+1)),(this.iter===null||u)&&(this.iter=new OrderedConsumerMessages),this.consumer=new PullConsumerImpl(this.api,this.currentConsumer);const s=e;s.callback=this.internalHandler(this.serial);let g=null;this.type===PullConsumerType.Fetch&&u?g=await this.consumer.fetch(e):this.type===PullConsumerType.Consume&&(g=await this.consumer.consume(e));const x=g;x.forOrderedConsumer=!0,x.resetHandler=()=>{this.notifyOrderedResetAndReset()},this.iter.setSource(x)}notifyOrderedResetAndReset(){var e;(e=this.iter)==null||e.notify(ConsumerDebugEvents.Reset,""),this.reset(this.opts,{orderedReset:!0})}async consume(e={max_messages:100,expires:3e4}){if(e.bind)return Promise.reject(new Error("bind is not supported"));if(this.type===PullConsumerType.Fetch)return Promise.reject(new Error("ordered consumer initialized as fetch"));if(this.type===PullConsumerType.Consume)return Promise.reject(new Error("ordered consumer doesn't support concurrent consume"));const{callback:u}=e;return u&&(this.userCallback=u),this.type=PullConsumerType.Consume,this.opts=e,await this.reset(e),this.iter}async fetch(e={max_messages:100,expires:3e4}){var d;if(e.bind)return Promise.reject(new Error("bind is not supported"));if(this.type===PullConsumerType.Consume)return Promise.reject(new Error("ordered consumer already initialized as consume"));if(((d=this.iter)==null?void 0:d.done)===!1)return Promise.reject(new Error("ordered consumer doesn't support concurrent fetch"));const{callback:u}=e;return u&&(this.userCallback=u),this.type=PullConsumerType.Fetch,this.opts=e,await this.reset(e,{fromFetch:!0}),this.iter}async next(e={expires:3e4}){const a=e;if(a.bind)return Promise.reject(new Error("bind is not supported"));a.max_messages=1;const u=deferred();return a.callback=s=>{this.userCallback=null,u.resolve(s)},(await this.fetch(a)).iterClosed.then(s=>{s&&u.reject(s),u.resolve(null)}).catch(s=>{u.reject(s)}),u}delete(){return this.currentConsumer?this.api.delete(this.stream,this.currentConsumer.name).then(e=>Promise.resolve(e)).catch(e=>Promise.reject(e)).finally(()=>{this.currentConsumer=null}):Promise.resolve(!1)}async info(e){return this.currentConsumer==null?(this.currentConsumer=await this.resetConsumer(this.serial),Promise.resolve(this.currentConsumer)):e&&this.currentConsumer?Promise.resolve(this.currentConsumer):this.api.info(this.stream,this.currentConsumer.name)}}class ConsumersImpl{constructor(e){de(this,"api");de(this,"notified");this.api=e,this.notified=!1}checkVersion(){const e=this.api.nc.features.get(Feature.JS_SIMPLIFICATION);return e.ok?Promise.resolve():Promise.reject(new Error(`consumers framework is only supported on servers ${e.min} or better`))}async get(e,a={}){return typeof a=="object"?this.ordered(e,a):(await this.checkVersion(),this.api.info(e,a).then(u=>u.config.deliver_subject!==void 0?Promise.reject(new Error("push consumer not supported")):new PullConsumerImpl(this.api,u)).catch(u=>Promise.reject(u)))}async ordered(e,a){await this.checkVersion();const u=this.api;return new StreamAPIImpl(u.nc,u.opts).info(e).then(s=>Promise.resolve(new OrderedPullConsumerImpl(this.api,e,a))).catch(s=>Promise.reject(s))}}class StreamImpl{constructor(e,a){de(this,"api");de(this,"_info");this.api=e,this._info=a}get name(){return this._info.config.name}alternates(){return this.info().then(e=>e.alternates?e.alternates:[])}async best(){if(await this.info(),this._info.alternates){const e=await this.api.info(this._info.alternates[0].name);return new StreamImpl(this.api,e)}else return this}info(e=!1,a){return e?Promise.resolve(this._info):this.api.info(this.name,a).then(u=>(this._info=u,this._info))}getConsumer(e){return new ConsumersImpl(new ConsumerAPIImpl(this.api.nc,this.api.opts)).get(this.name,e)}getMessage(e){return this.api.getMessage(this.name,e)}deleteMessage(e,a){return this.api.deleteMessage(this.name,e,a)}}class StreamAPIImpl extends BaseApiClient{constructor(e,a){super(e,a)}checkStreamConfigVersions(e){const a=this.nc;if(e.metadata){const{min:d,ok:s}=a.features.get(Feature.JS_STREAM_CONSUMER_METADATA);if(!s)throw new Error(`stream 'metadata' requires server ${d}`)}if(e.first_seq){const{min:d,ok:s}=a.features.get(Feature.JS_STREAM_FIRST_SEQ);if(!s)throw new Error(`stream 'first_seq' requires server ${d}`)}if(e.subject_transform){const{min:d,ok:s}=a.features.get(Feature.JS_STREAM_SUBJECT_TRANSFORM);if(!s)throw new Error(`stream 'subject_transform' requires server ${d}`)}if(e.compression){const{min:d,ok:s}=a.features.get(Feature.JS_STREAM_COMPRESSION);if(!s)throw new Error(`stream 'compression' requires server ${d}`)}if(e.consumer_limits){const{min:d,ok:s}=a.features.get(Feature.JS_DEFAULT_CONSUMER_LIMITS);if(!s)throw new Error(`stream 'consumer_limits' requires server ${d}`)}function u(d,s){var x;if((((x=s.subject_transforms)==null?void 0:x.length)||0)>0){const{min:_,ok:S}=a.features.get(Feature.JS_STREAM_SOURCE_SUBJECT_TRANSFORM);if(!S)throw new Error(`${d} 'subject_transforms' requires server ${_}`)}}e.sources&&e.sources.forEach(d=>{u("stream sources",d)}),e.mirror&&u("stream mirror",e.mirror)}async add(e={}){var d;this.checkStreamConfigVersions(e),validateStreamName(e.name),e.mirror=convertStreamSourceDomain(e.mirror),e.sources=(d=e.sources)==null?void 0:d.map(convertStreamSourceDomain);const u=await this._request(`${this.prefix}.STREAM.CREATE.${e.name}`,e);return this._fixInfo(u),u}async delete(e){return validateStreamName(e),(await this._request(`${this.prefix}.STREAM.DELETE.${e}`)).success}async update(e,a={}){var x;if(typeof e=="object"){const _=e;e=_.name,a=_,console.trace("\x1B[33m >> streams.update(config: StreamConfig) api changed to streams.update(name: string, config: StreamUpdateConfig) - this shim will be removed - update your code.  \x1B[0m")}this.checkStreamConfigVersions(a),validateStreamName(e);const u=await this.info(e),d=Object.assign(u.config,a);d.mirror=convertStreamSourceDomain(d.mirror),d.sources=(x=d.sources)==null?void 0:x.map(convertStreamSourceDomain);const g=await this._request(`${this.prefix}.STREAM.UPDATE.${e}`,d);return this._fixInfo(g),g}async info(e,a){validateStreamName(e);const u=`${this.prefix}.STREAM.INFO.${e}`;let s=await this._request(u,a),{total:g,limit:x}=s,_=s.state.subjects?Object.getOwnPropertyNames(s.state.subjects).length:1;if(g&&g>_){const S=[s],y=a||{};let A=0;for(;g>_;){A++,y.offset=x*A;const B=await this._request(u,y);g=B.total,S.push(B);const q=Object.getOwnPropertyNames(B.state.subjects).length;if(_+=q,q<x)break}let R={};for(let B=0;B<S.length;B++)s=S[B],s.state.subjects&&(R=Object.assign(R,s.state.subjects));s.offset=0,s.total=0,s.limit=0,s.state.subjects=R}return this._fixInfo(s),s}list(e=""){const a=e!=null&&e.length?{subject:e}:{},u=s=>{const g=s;return g.streams.forEach(x=>{this._fixInfo(x)}),g.streams},d=`${this.prefix}.STREAM.LIST`;return new ListerImpl(d,u,this,a)}_fixInfo(e){e.config.sealed=e.config.sealed||!1,e.config.deny_delete=e.config.deny_delete||!1,e.config.deny_purge=e.config.deny_purge||!1,e.config.allow_rollup_hdrs=e.config.allow_rollup_hdrs||!1}async purge(e,a){if(a){const{keep:d,seq:s}=a;if(typeof d=="number"&&typeof s=="number")throw new Error("can specify one of keep or seq")}return validateStreamName(e),await this._request(`${this.prefix}.STREAM.PURGE.${e}`,a)}async deleteMessage(e,a,u=!0){validateStreamName(e);const d={seq:a};return u||(d.no_erase=!0),(await this._request(`${this.prefix}.STREAM.MSG.DELETE.${e}`,d)).success}async getMessage(e,a){validateStreamName(e);const d=await this._request(`${this.prefix}.STREAM.MSG.GET.${e}`,a);return new StoredMsgImpl(d)}find(e){return this.findStream(e)}listKvs(){const e=u=>{var _;const s=u.streams.filter(S=>S.config.name.startsWith(kvPrefix));s.forEach(S=>{this._fixInfo(S)});let g="";return s.length&&(g=((_=this.nc.info)==null?void 0:_.cluster)??""),s.map(S=>new KvStatusImpl(S,g))},a=`${this.prefix}.STREAM.LIST`;return new ListerImpl(a,e,this)}listObjectStores(){const e=u=>{const s=u.streams.filter(x=>x.config.name.startsWith(osPrefix));return s.forEach(x=>{this._fixInfo(x)}),s.map(x=>new ObjectStoreStatusImpl(x))},a=`${this.prefix}.STREAM.LIST`;return new ListerImpl(a,e,this)}names(e=""){const a=e!=null&&e.length?{subject:e}:{},u=s=>s.streams,d=`${this.prefix}.STREAM.NAMES`;return new ListerImpl(d,u,this,a)}async get(e){const a=await this.info(e);return Promise.resolve(new StreamImpl(this,a))}}class DirectStreamAPIImpl extends BaseApiClient{constructor(e,a){super(e,a)}async getMessage(e,a){validateStreamName(e);let u=a;const{last_by_subj:d}=u;d&&(u=null);const s=u?this.jc.encode(u):Empty,g=this.opts.apiPrefix||"$JS.API",x=d?`${g}.DIRECT.GET.${e}.${d}`:`${g}.DIRECT.GET.${e}`,_=await this.nc.request(x,s),S=checkJsError(_);if(S)return Promise.reject(S);const y=new DirectMsgImpl(_);return Promise.resolve(y)}async getBatch(e,a){validateStreamName(e);const d=`${this.opts.apiPrefix||"$JS.API"}.DIRECT.GET.${e}`;if(!Array.isArray(a.multi_last)||a.multi_last.length===0)return Promise.reject("multi_last is required");const s=JSON.stringify(a,(_,S)=>_==="up_to_time"&&S instanceof Date?S.toISOString():S),g=new QueuedIteratorImpl,x=await this.nc.requestMany(d,s,{strategy:RequestStrategy.SentinelMsg});return(async()=>{var A,R,B;let _=!1,S=!1,y;for await(const q of x){if(!_){_=!0;const C=((A=q.headers)==null?void 0:A.code)||0;if(C!==0&&C<200||C>299){y=(R=q.headers)==null?void 0:R.description.toLowerCase();break}if(((B=q.headers)==null?void 0:B.get("Nats-Num-Pending"))===""){S=!0;break}}if(q.data.length===0)break;g.push(new DirectMsgImpl(q))}g.push(()=>{if(S)throw new Error("batch direct get not supported by the server");if(y)throw new Error(`bad request: ${y}`);g.stop()})})(),Promise.resolve(g)}}class DirectMsgImpl{constructor(e){de(this,"data");de(this,"header");if(!e.headers)throw new Error("headers expected");this.data=e.data,this.header=e.headers}get subject(){return this.header.last(DirectMsgHeaders.Subject)}get seq(){const e=this.header.last(DirectMsgHeaders.Sequence);return typeof e=="string"?parseInt(e):0}get time(){return new Date(Date.parse(this.timestamp))}get timestamp(){return this.header.last(DirectMsgHeaders.TimeStamp)}get stream(){return this.header.last(DirectMsgHeaders.Stream)}json(e){return JSONCodec(e).decode(this.data)}string(){return TD.decode(this.data)}}de(DirectMsgImpl,"jc");class JetStreamManagerImpl extends BaseApiClient{constructor(a,u){super(a,u);de(this,"streams");de(this,"consumers");de(this,"direct");this.streams=new StreamAPIImpl(a,u),this.consumers=new ConsumerAPIImpl(a,u),this.direct=new DirectStreamAPIImpl(a,u)}async getAccountInfo(){return await this._request(`${this.prefix}.INFO`)}jetstream(){return this.nc.jetstream(this.getOptions())}advisories(){const a=new QueuedIteratorImpl;return this.nc.subscribe("$JS.EVENT.ADVISORY.>",{callback:(u,d)=>{if(u)throw u;try{const s=this.parseJsResponse(d),g=s.type.split("."),x=g[g.length-1];a.push({kind:x,data:s})}catch(s){a.stop(s)}}}),a}}class StoredMsgImpl{constructor(e){de(this,"_header");de(this,"smr");this.smr=e}get subject(){return this.smr.message.subject}get seq(){return this.smr.message.seq}get timestamp(){return this.smr.message.time}get time(){return new Date(Date.parse(this.timestamp))}get data(){return this.smr.message.data?this._parse(this.smr.message.data):Empty}get header(){if(!this._header)if(this.smr.message.hdrs){const e=this._parse(this.smr.message.hdrs);this._header=MsgHdrsImpl.decode(e)}else this._header=headers();return this._header}_parse(e){const a=atob(e),u=a.length,d=new Uint8Array(u);for(let s=0;s<u;s++)d[s]=a.charCodeAt(s);return d}json(e){return JSONCodec(e).decode(this.data)}string(){return TD.decode(this.data)}}de(StoredMsgImpl,"jc");class StreamsImpl{constructor(e){de(this,"api");this.api=e}get(e){return this.api.info(e).then(a=>new StreamImpl(this.api,a))}}class ObjectInfoImpl{constructor(e){de(this,"info");de(this,"hdrs");this.info=e}get name(){return this.info.name}get description(){return this.info.description??""}get headers(){return this.hdrs||(this.hdrs=MsgHdrsImpl.fromRecord(this.info.headers||{})),this.hdrs}get options(){return this.info.options}get bucket(){return this.info.bucket}get chunks(){return this.info.chunks}get deleted(){return this.info.deleted??!1}get digest(){return this.info.digest}get mtime(){return this.info.mtime}get nuid(){return this.info.nuid}get size(){return this.info.size}get revision(){return this.info.revision}get metadata(){return this.info.metadata||{}}isLink(){var e,a;return((e=this.info.options)==null?void 0:e.link)!==void 0&&((a=this.info.options)==null?void 0:a.link)!==null}}function toServerObjectStoreMeta(r){const e={name:r.name,description:r.description??"",options:r.options,metadata:r.metadata};if(r.headers){const a=r.headers;e.headers=a.toRecord()}return e}function emptyReadableStream(){return new ReadableStream({pull(r){r.enqueue(new Uint8Array(0)),r.close()}})}class ObjectStoreImpl{constructor(e,a,u){de(this,"jsm");de(this,"js");de(this,"stream");de(this,"name");this.name=e,this.jsm=a,this.js=u}_checkNotEmpty(e){return!e||e.length===0?{name:e,error:new Error("name cannot be empty")}:{name:e}}async info(e){const a=await this.rawInfo(e);return a?new ObjectInfoImpl(a):null}async list(){const e=[],a=await this.watch({ignoreDeletes:!0,includeHistory:!0});for await(const u of a){if(u===null)break;e.push(u)}return Promise.resolve(e)}async rawInfo(e){const{name:a,error:u}=this._checkNotEmpty(e);if(u)return Promise.reject(u);const d=this._metaSubject(a);try{const s=await this.jsm.streams.getMessage(this.stream,{last_by_subj:d}),x=JSONCodec().decode(s.data);return x.revision=s.seq,x}catch(s){return s.code==="404"?null:Promise.reject(s)}}async _si(e){try{return await this.jsm.streams.info(this.stream,e)}catch(a){return a.code==="404"?null:Promise.reject(a)}}async seal(){let e=await this._si();return e===null?Promise.reject(new Error("object store not found")):(e.config.sealed=!0,e=await this.jsm.streams.update(this.stream,e.config),Promise.resolve(new ObjectStoreStatusImpl(e)))}async status(e){const a=await this._si(e);return a===null?Promise.reject(new Error("object store not found")):Promise.resolve(new ObjectStoreStatusImpl(a))}destroy(){return this.jsm.streams.delete(this.stream)}async _put(e,a,u){var j;const d=this.js.getOptions();u=u||{timeout:d.timeout},u.timeout=u.timeout||d.timeout,u.previousRevision=u.previousRevision??void 0;const{timeout:s,previousRevision:g}=u,x=this.js.nc.info,_=(x==null?void 0:x.max_payload)||1024;e=e||{},e.options=e.options||{};let S=((j=e.options)==null?void 0:j.max_chunk_size)||128*1024;S=S>_?_:S,e.options.max_chunk_size=S;const y=await this.info(e.name),{name:A,error:R}=this._checkNotEmpty(e.name);if(R)return Promise.reject(R);const B=nuid.next(),q=this._chunkSubject(B),C=this._metaSubject(A),N=Object.assign({bucket:this.name,nuid:B,size:0,chunks:0},toServerObjectStoreMeta(e)),k=deferred(),L=[],U=new DataBuffer;try{const ee=a?a.getReader():null,se=new SHA256;for(;;){const{done:Ee,value:ge}=ee?await ee.read():{done:!0,value:void 0};if(Ee){if(U.size()>0){const c=U.drain();se.update(c),N.chunks++,N.size+=c.length,L.push(this.js.publish(q,c,{timeout:s}))}await Promise.all(L),L.length=0,N.mtime=new Date().toISOString();const oe=se.digest("base64"),Le=oe.length%3,E=Le>0?"=".repeat(Le):"";N.digest=`${digestType}${oe}${E}`,N.deleted=!1;const t=headers();typeof g=="number"&&t.set(PubHeaders.ExpectedLastSubjectSequenceHdr,`${g}`),t.set(JsHeaders.RollupHdr,JsHeaders.RollupValueSubject);const o=await this.js.publish(C,JSONCodec().encode(N),{headers:t,timeout:s});if(N.revision=o.seq,y)try{await this.jsm.streams.purge(this.stream,{filter:`$O.${this.name}.C.${y.nuid}`})}catch{}k.resolve(new ObjectInfoImpl(N));break}if(ge)for(U.fill(ge);U.size()>S;){N.chunks++,N.size+=S;const oe=U.drain(e.options.max_chunk_size);se.update(oe),L.push(this.js.publish(q,oe,{timeout:s}))}}}catch(ee){await this.jsm.streams.purge(this.stream,{filter:q}),k.reject(ee)}return k}putBlob(e,a,u){function d(s){return new ReadableStream({pull(g){g.enqueue(s),g.close()}})}return a===null&&(a=new Uint8Array(0)),this.put(e,d(a),u)}put(e,a,u){var d;return(d=e==null?void 0:e.options)!=null&&d.link?Promise.reject(new Error("link cannot be set when putting the object in bucket")):this._put(e,a,u)}async getBlob(e){async function a(s){const g=new DataBuffer,x=s.getReader();for(;;){const{done:_,value:S}=await x.read();if(_)return g.drain();S&&S.length&&g.fill(S)}}const u=await this.get(e);if(u===null)return Promise.resolve(null);const d=await Promise.all([u.error,a(u.data)]);return d[0]?Promise.reject(d[0]):Promise.resolve(d[1])}async get(e){const a=await this.rawInfo(e);if(a===null||a.deleted)return Promise.resolve(null);if(a.options&&a.options.link){const y=a.options.link.name||"";if(y==="")throw new Error("link is a bucket");return(a.options.link.bucket!==this.name?await ObjectStoreImpl.create(this.js,a.options.link.bucket):this).get(y)}const u=deferred(),d={info:new ObjectInfoImpl(a),error:u};if(a.size===0)return d.data=emptyReadableStream(),u.resolve(null),Promise.resolve(d);let s;const g=consumerOpts();g.orderedConsumer();const x=new SHA256,_=`$O.${this.name}.C.${a.nuid}`,S=await this.js.subscribe(_,g);return(async()=>{for await(const y of S)if(y.data.length>0&&(x.update(y.data),s.enqueue(y.data)),y.info.pending===0){const A=x.digest("base64"),R=A.length%3,B=R>0?"=".repeat(R):"",q=`${digestType}${A}${B}`;q!==a.digest?s.error(new Error(`received a corrupt object, digests do not match received: ${a.digest} calculated ${q}`)):s.close(),S.unsubscribe()}})().then(()=>{u.resolve()}).catch(y=>{s.error(y),u.reject(y)}),d.data=new ReadableStream({start(y){s=y},cancel(){S.unsubscribe()}}),d}linkStore(e,a){if(!(a instanceof ObjectStoreImpl))return Promise.reject("bucket required");const u=a,{name:d,error:s}=this._checkNotEmpty(e);if(s)return Promise.reject(s);const g={name:d,options:{link:{bucket:u.name}}};return this._put(g,null)}async link(e,a){const{name:u,error:d}=this._checkNotEmpty(e);if(d)return Promise.reject(d);if(a.deleted)return Promise.reject(new Error("src object is deleted"));if(a.isLink())return Promise.reject(new Error("src object is a link"));const s=await this.rawInfo(e);if(s!==null&&!s.deleted)return Promise.reject(new Error("an object already exists with that name"));const g={bucket:a.bucket,name:a.name},x={name:u,bucket:a.bucket,options:{link:g}};await this.js.publish(this._metaSubject(e),JSON.stringify(x));const _=await this.info(e);return Promise.resolve(_)}async delete(e){const a=await this.rawInfo(e);if(a===null)return Promise.resolve({purged:0,success:!1});a.deleted=!0,a.size=0,a.chunks=0,a.digest="";const u=JSONCodec(),d=headers();return d.set(JsHeaders.RollupHdr,JsHeaders.RollupValueSubject),await this.js.publish(this._metaSubject(a.name),u.encode(a),{headers:d}),this.jsm.streams.purge(this.stream,{filter:this._chunkSubject(a.nuid)})}async update(e,a={}){const u=await this.rawInfo(e);if(u===null)return Promise.reject(new Error("object not found"));if(u.deleted)return Promise.reject(new Error("cannot update meta for a deleted object"));a.name=a.name??u.name;const{name:d,error:s}=this._checkNotEmpty(a.name);if(s)return Promise.reject(s);if(e!==a.name){const _=await this.info(a.name);if(_&&!_.deleted)return Promise.reject(new Error("an object already exists with that name"))}a.name=d;const g=Object.assign({},u,toServerObjectStoreMeta(a)),x=await this.js.publish(this._metaSubject(g.name),JSON.stringify(g));return e!==a.name&&await this.jsm.streams.purge(this.stream,{filter:this._metaSubject(e)}),Promise.resolve(x)}async watch(e={}){e.includeHistory=e.includeHistory??!1,e.ignoreDeletes=e.ignoreDeletes??!1;let a=!1;const u=new QueuedIteratorImpl,d=this._metaSubjectAll();try{await this.jsm.streams.getMessage(this.stream,{last_by_subj:d})}catch(_){_.code==="404"?(u.push(null),a=!0):u.stop(_)}const s=JSONCodec(),g=consumerOpts();g.orderedConsumer(),e.includeHistory?g.deliverLastPerSubject():(a=!0,g.deliverNew()),g.callback((_,S)=>{var y;if(_){u.stop(_);return}if(S!==null){const A=s.decode(S.data);A.deleted&&e.ignoreDeletes===!0||u.push(A),((y=S.info)==null?void 0:y.pending)===0&&!a&&(a=!0,u.push(null))}});const x=await this.js.subscribe(d,g);return u._data=x,u.iterClosed.then(()=>{x.unsubscribe()}),x.closed.then(()=>{u.stop()}).catch(_=>{u.stop(_)}),u}_chunkSubject(e){return`$O.${this.name}.C.${e}`}_metaSubject(e){return`$O.${this.name}.M.${Base64UrlPaddedCodec.encode(e)}`}_metaSubjectAll(){return`$O.${this.name}.M.>`}async init(e={}){try{this.stream=objectStoreStreamName(this.name)}catch(d){return Promise.reject(d)}const a=(e==null?void 0:e.ttl)||0;delete e.ttl;const u=Object.assign({max_age:a},e);u.name=this.stream,u.allow_direct=!0,u.allow_rollup_hdrs=!0,u.discard=DiscardPolicy.New,u.subjects=[`$O.${this.name}.C.>`,`$O.${this.name}.M.>`],e.placement&&(u.placement=e.placement),e.metadata&&(u.metadata=e.metadata),typeof e.compression=="boolean"&&(u.compression=e.compression?StoreCompression.S2:StoreCompression.None);try{await this.jsm.streams.info(u.name)}catch(d){d.message==="stream not found"&&await this.jsm.streams.add(u)}}static async create(e,a,u={}){const d=await e.jetstreamManager(),s=new ObjectStoreImpl(a,d,e);return await s.init(u),Promise.resolve(s)}}class ViewsImpl{constructor(e){de(this,"js");this.js=e}kv(e,a={}){const u=this.js,{ok:d,min:s}=u.nc.features.get(Feature.JS_KV);return d?a.bindOnly?Bucket.bind(this.js,e,a):Bucket.create(this.js,e,a):Promise.reject(new Error(`kv is only supported on servers ${s} or better`))}os(e,a={}){var g;if(typeof((g=crypto==null?void 0:crypto.subtle)==null?void 0:g.digest)!="function")return Promise.reject(new Error("objectstore: unable to calculate hashes - crypto.subtle.digest with sha256 support is required"));const u=this.js,{ok:d,min:s}=u.nc.features.get(Feature.JS_OBJECTSTORE);return d?ObjectStoreImpl.create(this.js,e,a):Promise.reject(new Error(`objectstore is only supported on servers ${s} or better`))}}class JetStreamClientImpl extends BaseApiClient{constructor(a,u){super(a,u);de(this,"consumers");de(this,"streams");de(this,"consumerAPI");de(this,"streamAPI");this.consumerAPI=new ConsumerAPIImpl(a,u),this.streamAPI=new StreamAPIImpl(a,u),this.consumers=new ConsumersImpl(this.consumerAPI),this.streams=new StreamsImpl(this.streamAPI)}jetstreamManager(a){a===void 0&&(a=this.opts.checkAPI);const u=Object.assign({},this.opts,{checkAPI:a});return this.nc.jetstreamManager(u)}get apiPrefix(){return this.prefix}get views(){return new ViewsImpl(this)}async publish(a,u=Empty,d){d=d||{},d.expect=d.expect||{};const s=(d==null?void 0:d.headers)||headers();d&&(d.msgID&&s.set(PubHeaders.MsgIdHdr,d.msgID),d.expect.lastMsgID&&s.set(PubHeaders.ExpectedLastMsgIdHdr,d.expect.lastMsgID),d.expect.streamName&&s.set(PubHeaders.ExpectedStreamHdr,d.expect.streamName),typeof d.expect.lastSequence=="number"&&s.set(PubHeaders.ExpectedLastSeqHdr,`${d.expect.lastSequence}`),typeof d.expect.lastSubjectSequence=="number"&&s.set(PubHeaders.ExpectedLastSubjectSequenceHdr,`${d.expect.lastSubjectSequence}`));const g=d.timeout||this.timeout,x={};g&&(x.timeout=g),d&&(x.headers=s);let{retries:_,retry_delay:S}=d;_=_||1,S=S||250;let y;for(let R=0;R<_;R++)try{y=await this.nc.request(a,u,x);break}catch(B){if(B.code==="503"&&R+1<_)await delay(S);else throw B}const A=this.parseJsResponse(y);if(A.stream==="")throw NatsError.errorForCode(ErrorCode.JetStreamInvalidAck);return A.duplicate=A.duplicate?A.duplicate:!1,A}async pull(a,u,d=0){validateStreamName(a),validateDurableName(u);let s=this.timeout;d>s&&(s=d),d=d<0?0:nanos(d);const g={batch:1,no_wait:d===0,expires:d},x=await this.nc.request(`${this.prefix}.CONSUMER.MSG.NEXT.${a}.${u}`,this.jc.encode(g),{noMux:!0,timeout:s}),_=checkJsError(x);if(_)throw _;return toJsMsg(x)}fetch(a,u,d={}){validateStreamName(a),validateDurableName(u);let s=null;const g=(d.max_bytes??0)>0;let x=0;const _=g?d.max_bytes:0;let S=null;const y={};if(y.batch=d.batch||1,_){const L=this.nc.features.get(Feature.JS_PULL_MAX_BYTES);if(!L.ok)throw new Error(`max_bytes is only supported on servers ${L.min} or better`);y.max_bytes=_}y.no_wait=d.no_wait||!1,y.no_wait&&y.expires&&(y.expires=0);const A=d.expires||0;if(A&&(y.expires=nanos(A)),A===0&&y.no_wait===!1)throw new Error("expires or no_wait is required");const R=d.idle_heartbeat||0;R&&(y.idle_heartbeat=nanos(R),d.delay_heartbeat===!0&&(y.idle_heartbeat=nanos(R*4)));const B=new QueuedIteratorImpl,q=y.batch;let C=0;B.protocolFilterFn=(L,U=!1)=>isHeartbeatMsg(L.msg)?(S==null||S.work(),!1):!0,B.dispatchedFn=L=>{if(L){if(g&&(x+=L.data.length),C++,s&&L.info.pending===0)return;(B.getPending()===1&&L.info.pending===0||q===C||_>0&&x>=_)&&B.stop()}};const N=createInbox(this.nc.options.inboxPrefix),k=this.nc.subscribe(N,{max:d.batch,callback:(L,U)=>{L===null&&(L=checkJsError(U)),L!==null?(s&&(s.cancel(),s=null),isNatsError(L)?B.stop(hideNonTerminalJsErrors(L)===null?void 0:L):B.stop(L)):(S==null||S.work(),B.received++,B.push(toJsMsg(U)))}});return A&&(s=timeout(A),s.catch(()=>{k.isClosed()||(k.drain().catch(()=>{}),s=null),S&&S.cancel()})),(async()=>{try{R&&(S=new IdleHeartbeatMonitor(R,L=>(B.push(()=>{B.err=new NatsError(`${Js409Errors.IdleHeartbeatMissed}: ${L}`,ErrorCode.JetStreamIdleHeartBeat)}),!0)))}catch{}await k.closed,s!==null&&(s.cancel(),s=null),S&&S.cancel(),B.stop()})().catch(),this.nc.publish(`${this.prefix}.CONSUMER.MSG.NEXT.${a}.${u}`,this.jc.encode(y),{reply:N}),B}async pullSubscribe(a,u=consumerOpts()){const d=await this._processOptions(a,u);if(d.ordered)throw new Error("pull subscribers cannot be be ordered");if(d.config.deliver_subject)throw new Error("consumer info specifies deliver_subject - pull consumers cannot have deliver_subject set");const s=d.config.ack_policy;if(s===AckPolicy.None||s===AckPolicy.All)throw new Error("ack policy for pull consumers must be explicit");const g=this._buildTypedSubscriptionOpts(d),x=new JetStreamPullSubscriptionImpl(this,d.deliver,g);x.info=d;try{await this._maybeCreateConsumer(d)}catch(_){throw x.unsubscribe(),_}return x}async subscribe(a,u=consumerOpts()){const d=await this._processOptions(a,u);if(!d.isBind&&!d.config.deliver_subject)throw new Error("push consumer requires deliver_subject");const s=this._buildTypedSubscriptionOpts(d),g=new JetStreamSubscriptionImpl(this,d.deliver,s);g.info=d;try{await this._maybeCreateConsumer(d)}catch(x){throw g.unsubscribe(),x}return g._maybeSetupHbMonitoring(),g}async _processOptions(a,u=consumerOpts()){const d=isConsumerOptsBuilder(u)?u.getOpts():u;if(d.isBind=isConsumerOptsBuilder(u)?u.isBind:!1,d.flow_control={heartbeat_count:0,fc_count:0,consumer_restarts:0},d.ordered){if(d.ordered_consumer_sequence={stream_seq:0,delivery_seq:0},d.config.ack_policy!==AckPolicy.NotSet&&d.config.ack_policy!==AckPolicy.None)throw new NatsError("ordered consumer: ack_policy can only be set to 'none'",ErrorCode.ApiError);if(d.config.durable_name&&d.config.durable_name.length>0)throw new NatsError("ordered consumer: durable_name cannot be set",ErrorCode.ApiError);if(d.config.deliver_subject&&d.config.deliver_subject.length>0)throw new NatsError("ordered consumer: deliver_subject cannot be set",ErrorCode.ApiError);if(d.config.max_deliver!==void 0&&d.config.max_deliver>1)throw new NatsError("ordered consumer: max_deliver cannot be set",ErrorCode.ApiError);if(d.config.deliver_group&&d.config.deliver_group.length>0)throw new NatsError("ordered consumer: deliver_group cannot be set",ErrorCode.ApiError);d.config.deliver_subject=createInbox(this.nc.options.inboxPrefix),d.config.ack_policy=AckPolicy.None,d.config.max_deliver=1,d.config.flow_control=!0,d.config.idle_heartbeat=d.config.idle_heartbeat||nanos(5e3),d.config.ack_wait=nanos(22*60*60*1e3),d.config.mem_storage=!0,d.config.num_replicas=1}if(d.config.ack_policy===AckPolicy.NotSet&&(d.config.ack_policy=AckPolicy.All),d.api=this,d.config=d.config||{},d.stream=d.stream?d.stream:await this.findStream(a),d.attached=!1,d.config.durable_name)try{const s=await this.consumerAPI.info(d.stream,d.config.durable_name);if(s){if(s.config.filter_subject&&s.config.filter_subject!==a)throw new Error("subject does not match consumer");const g=d.config.deliver_group??"";if(g===""&&s.push_bound===!0)throw new Error("duplicate subscription");const x=s.config.deliver_group??"";if(g!==x)throw x===""?new Error("durable requires no queue group"):new Error(`durable requires queue group '${x}'`);d.last=s,d.config=s.config,d.attached=!0,d.config.durable_name||(d.name=s.name)}}catch(s){if(s.code!=="404")throw s}return!d.attached&&d.config.filter_subject===void 0&&d.config.filter_subjects===void 0&&(d.config.filter_subject=a),d.deliver=d.config.deliver_subject||createInbox(this.nc.options.inboxPrefix),d}_buildTypedSubscriptionOpts(a){const u={};return u.adapter=msgAdapter(a.callbackFn===void 0),u.ingestionFilterFn=JetStreamClientImpl.ingestionFn(a.ordered),u.protocolFilterFn=(d,s=!1)=>{const g=d;return isFlowControlMsg(g.msg)?(s||g.msg.respond(),!1):!0},!a.mack&&a.config.ack_policy!==AckPolicy.None&&(u.dispatchedFn=autoAckJsMsg),a.callbackFn&&(u.callback=a.callbackFn),u.max=a.max||0,u.queue=a.queue,u}async _maybeCreateConsumer(a){if(a.attached)return;if(a.isBind)throw new Error(`unable to bind - durable consumer ${a.config.durable_name} doesn't exist in ${a.stream}`);a.config=Object.assign({deliver_policy:DeliverPolicy.All,ack_policy:AckPolicy.Explicit,ack_wait:nanos(30*1e3),replay_policy:ReplayPolicy.Instant},a.config);const u=await this.consumerAPI.add(a.stream,a.config);if(Array.isArray(a.config.filter_subjects&&!Array.isArray(u.config.filter_subjects)))throw new Error("jetstream server doesn't support consumers with multiple filter subjects");a.name=u.name,a.config=u.config,a.last=u}static ingestionFn(a){return(u,d)=>{var _;const s=d;if(!u)return{ingest:!1,protocol:!1};const g=u;if(checkJsError(g.msg)||(_=s.monitor)==null||_.work(),isHeartbeatMsg(g.msg)){const S=a?s._checkHbOrderConsumer(g.msg):!0;return a||s.info.flow_control.heartbeat_count++,{ingest:S,protocol:!0}}else if(isFlowControlMsg(g.msg))return s.info.flow_control.fc_count++,{ingest:!0,protocol:!0};return{ingest:a?s._checkOrderedConsumer(u):!0,protocol:!1}}}}class NatsConnectionImpl{constructor(e){de(this,"options");de(this,"protocol");de(this,"draining");de(this,"listeners");de(this,"_services");this.draining=!1,this.options=parseOptions(e),this.listeners=[]}static connect(e={}){return new Promise((a,u)=>{const d=new NatsConnectionImpl(e);ProtocolHandler.connect(d.options,d).then(s=>{d.protocol=s,async function(){for await(const g of s.status())d.listeners.forEach(x=>{x.push(g)})}(),a(d)}).catch(s=>{u(s)})})}closed(){return this.protocol.closed}async close(){await this.protocol.close()}_check(e,a,u){if(this.isClosed())throw NatsError.errorForCode(ErrorCode.ConnectionClosed);if(a&&this.isDraining()||u&&this.protocol.noMorePublishing)throw NatsError.errorForCode(ErrorCode.ConnectionDraining);if(e=e||"",e.length===0)throw NatsError.errorForCode(ErrorCode.BadSubject)}publish(e,a,u){this._check(e,!1,!0),this.protocol.publish(e,a,u)}publishMessage(e){return this.publish(e.subject,e.data,{reply:e.reply,headers:e.headers})}respondMessage(e){return e.reply?(this.publish(e.reply,e.data,{reply:e.reply,headers:e.headers}),!0):!1}subscribe(e,a={}){this._check(e,!0,!1);const u=new SubscriptionImpl(this.protocol,e,a);return this.protocol.subscribe(u),u}_resub(e,a,u){this._check(a,!0,!1);const d=e;d.max=u,u&&(d.max=u+d.received),this.protocol.resub(d,a)}requestMany(e,a=Empty,u={maxWait:1e3,maxMessages:-1}){const d=!this.protocol.options.noAsyncTraces;try{this._check(e,!0,!0)}catch(_){return Promise.reject(_)}if(u.strategy=u.strategy||RequestStrategy.Timer,u.maxWait=u.maxWait||1e3,u.maxWait<1)return Promise.reject(new NatsError("timeout",ErrorCode.InvalidOption));const s=new QueuedIteratorImpl;function g(_){s.push(()=>{s.stop(_)})}function x(_,S){_||S===null?g(_===null?void 0:_):s.push(S)}if(u.noMux){const _=d?new Error().stack:null;let S=typeof u.maxMessages=="number"&&u.maxMessages>0?u.maxMessages:-1;const y=this.subscribe(createInbox(this.options.inboxPrefix),{callback:(q,C)=>{var N,k;if(((N=C==null?void 0:C.data)==null?void 0:N.length)===0&&((k=C==null?void 0:C.headers)==null?void 0:k.status)===ErrorCode.NoResponders&&(q=NatsError.errorForCode(ErrorCode.NoResponders)),q){_&&(q.stack+=`

${_}`),A(q);return}x(null,C),u.strategy===RequestStrategy.Count&&(S--,S===0&&A()),u.strategy===RequestStrategy.JitterTimer&&(B(),R=setTimeout(()=>{A()},300)),u.strategy===RequestStrategy.SentinelMsg&&C&&C.data.length===0&&A()}});y.closed.then(()=>{g()}).catch(q=>{s.stop(q)});const A=q=>{q&&s.push(()=>{throw q}),B(),y.drain().then(()=>{g()}).catch(C=>{g()})};s.iterClosed.then(()=>{B(),y==null||y.unsubscribe()}).catch(q=>{B(),y==null||y.unsubscribe()});try{this.publish(e,a,{reply:y.getSubject()})}catch(q){A(q)}let R=setTimeout(()=>{A()},u.maxWait);const B=()=>{R&&clearTimeout(R)}}else{const _=u;_.callback=x,s.iterClosed.then(()=>{S.cancel()}).catch(y=>{S.cancel(y)});const S=new RequestMany(this.protocol.muxSubscriptions,e,_);this.protocol.request(S);try{this.publish(e,a,{reply:`${this.protocol.muxSubscriptions.baseInbox}${S.token}`,headers:u.headers})}catch(y){S.cancel(y)}}return Promise.resolve(s)}request(e,a,u={timeout:1e3,noMux:!1}){try{this._check(e,!0,!0)}catch(s){return Promise.reject(s)}const d=!this.protocol.options.noAsyncTraces;if(u.timeout=u.timeout||1e3,u.timeout<1)return Promise.reject(new NatsError("timeout",ErrorCode.InvalidOption));if(!u.noMux&&u.reply)return Promise.reject(new NatsError("reply can only be used with noMux",ErrorCode.InvalidOption));if(u.noMux){const s=u.reply?u.reply:createInbox(this.options.inboxPrefix),g=deferred(),x=d?new Error:null,_=this.subscribe(s,{max:1,timeout:u.timeout,callback:(S,y)=>{S?(x&&S.code!==ErrorCode.Timeout&&(S.stack+=`

${x.stack}`),g.reject(S)):(S=isRequestError(y),S?(x&&(S.stack+=`

${x.stack}`),g.reject(S)):g.resolve(y))}});return _.requestSubject=e,this.protocol.publish(e,a,{reply:s,headers:u.headers}),g}else{const s=new RequestOne(this.protocol.muxSubscriptions,e,u,d);this.protocol.request(s);try{this.publish(e,a,{reply:`${this.protocol.muxSubscriptions.baseInbox}${s.token}`,headers:u.headers})}catch(x){s.cancel(x)}const g=Promise.race([s.timer,s.deferred]);return g.catch(()=>{s.cancel()}),g}}flush(){return this.isClosed()?Promise.reject(NatsError.errorForCode(ErrorCode.ConnectionClosed)):this.protocol.flush()}drain(){return this.isClosed()?Promise.reject(NatsError.errorForCode(ErrorCode.ConnectionClosed)):this.isDraining()?Promise.reject(NatsError.errorForCode(ErrorCode.ConnectionDraining)):(this.draining=!0,this.protocol.drain())}isClosed(){return this.protocol.isClosed()}isDraining(){return this.draining}getServer(){const e=this.protocol.getServer();return e?e.listen:""}status(){const e=new QueuedIteratorImpl;return e.iterClosed.then(()=>{const a=this.listeners.indexOf(e);this.listeners.splice(a,1)}),this.listeners.push(e),e}get info(){return this.protocol.isClosed()?void 0:this.protocol.info}async context(){return(await this.request("$SYS.REQ.USER.INFO")).json((a,u)=>a==="time"?new Date(Date.parse(u)):u)}stats(){return{inBytes:this.protocol.inBytes,outBytes:this.protocol.outBytes,inMsgs:this.protocol.inMsgs,outMsgs:this.protocol.outMsgs}}async jetstreamManager(e={}){const a=new JetStreamManagerImpl(this,e);if(e.checkAPI!==!1)try{await a.getAccountInfo()}catch(u){const d=u;throw d.code===ErrorCode.NoResponders&&(d.code=ErrorCode.JetStreamNotEnabled),d}return a}jetstream(e={}){return new JetStreamClientImpl(this,e)}getServerVersion(){const e=this.info;return e?parseSemVer(e.version):void 0}async rtt(){if(!this.protocol._closed&&!this.protocol.connected)throw NatsError.errorForCode(ErrorCode.Disconnect);const e=Date.now();return await this.flush(),Date.now()-e}get features(){return this.protocol.features}get services(){return this._services||(this._services=new ServicesFactory(this)),this._services}reconnect(){return this.isClosed()?Promise.reject(NatsError.errorForCode(ErrorCode.ConnectionClosed)):this.isDraining()?Promise.reject(NatsError.errorForCode(ErrorCode.ConnectionDraining)):this.protocol.reconnect()}}class ServicesFactory{constructor(e){de(this,"nc");this.nc=e}add(e){try{return new ServiceImpl(this.nc,e).start()}catch(a){return Promise.reject(a)}}client(e,a){return new ServiceClientImpl(this.nc,e,a)}}class KvStoredEntryImpl{constructor(e,a,u){de(this,"bucket");de(this,"sm");de(this,"prefixLen");this.bucket=e,this.prefixLen=a,this.sm=u}get key(){return this.sm.subject.substring(this.prefixLen)}get value(){return this.sm.data}get delta(){return 0}get created(){return this.sm.time}get revision(){return this.sm.seq}get operation(){return this.sm.header.get(kvOperationHdr)||"PUT"}get length(){const e=this.sm.header.get(JsHeaders.MessageSizeHdr)||"";return e!==""?parseInt(e,10):this.sm.data.length}json(){return this.sm.json()}string(){return this.sm.string()}}class KvJsMsgEntryImpl{constructor(e,a,u){de(this,"bucket");de(this,"key");de(this,"sm");this.bucket=e,this.key=a,this.sm=u}get value(){return this.sm.data}get created(){return new Date(millis(this.sm.info.timestampNanos))}get revision(){return this.sm.seq}get operation(){var e;return((e=this.sm.headers)==null?void 0:e.get(kvOperationHdr))||"PUT"}get delta(){return this.sm.info.pending}get length(){var a;const e=((a=this.sm.headers)==null?void 0:a.get(JsHeaders.MessageSizeHdr))||"";return e!==""?parseInt(e,10):this.sm.data.length}json(){return this.sm.json()}string(){return this.sm.string()}}class JetStreamSubscriptionImpl extends TypedSubscription{constructor(a,u,d){super(a.nc,u,d);de(this,"js");de(this,"monitor");this.js=a,this.monitor=null,this.sub.closed.then(()=>{this.monitor&&this.monitor.cancel()})}set info(a){this.sub.info=a}get info(){return this.sub.info}_resetOrderedConsumer(a){if(this.info===null||this.sub.isClosed())return;const u=createInbox(this.js.nc.options.inboxPrefix);this.js.nc._resub(this.sub,u);const s=this.info;s.config.name=nuid.next(),s.ordered_consumer_sequence.delivery_seq=0,s.flow_control.heartbeat_count=0,s.flow_control.fc_count=0,s.flow_control.consumer_restarts++,s.deliver=u,s.config.deliver_subject=u,s.config.deliver_policy=DeliverPolicy.StartSequence,s.config.opt_start_seq=a;const g={};g.stream_name=this.info.stream,g.config=s.config;const x=`${s.api.prefix}.CONSUMER.CREATE.${s.stream}`;this.js._request(x,g,{retries:-1}).then(_=>{const S=_,y=this.sub.info;y.last=S,this.info.config=S.config,this.info.name=S.name}).catch(_=>{const S=new NatsError(`unable to recreate ordered consumer ${s.stream} at seq ${a}`,ErrorCode.RequestError,_);this.sub.callback(S,{})})}_maybeSetupHbMonitoring(){var u,d;const a=((d=(u=this.info)==null?void 0:u.config)==null?void 0:d.idle_heartbeat)||0;a&&this._setupHbMonitoring(millis(a))}_setupHbMonitoring(a,u=0){const d={cancelAfter:0,maxOut:2};u&&(d.cancelAfter=u);const s=this.sub,g=x=>{var y,A,R,B;const _=newJsErrorMsg(409,`${Js409Errors.IdleHeartbeatMissed}: ${x}`,this.sub.subject);if(!((y=this.info)==null?void 0:y.ordered))this.sub.callback(null,_);else{if(!this.js.nc.protocol.connected)return!1;const q=((R=(A=this.info)==null?void 0:A.ordered_consumer_sequence)==null?void 0:R.stream_seq)||0;return this._resetOrderedConsumer(q+1),(B=this.monitor)==null||B.restart(),!1}return!s.noIterator};this.monitor=new IdleHeartbeatMonitor(a,g,d)}_checkHbOrderConsumer(a){const u=a.headers.get(JsHeaders.ConsumerStalledHdr);u!==""&&this.js.nc.publish(u);const d=parseInt(a.headers.get(JsHeaders.LastConsumerSeqHdr),10),s=this.info.ordered_consumer_sequence;return this.info.flow_control.heartbeat_count++,d!==s.delivery_seq&&this._resetOrderedConsumer(s.stream_seq+1),!1}_checkOrderedConsumer(a){const u=this.info.ordered_consumer_sequence,d=a.info.streamSequence,s=a.info.deliverySequence;return s!=u.delivery_seq+1?(this._resetOrderedConsumer(u.stream_seq+1),!1):(u.delivery_seq=s,u.stream_seq=d,!0)}async destroy(){this.isClosed()||await this.drain();const a=this.sub.info,u=a.config.durable_name||a.name,d=`${a.api.prefix}.CONSUMER.DELETE.${a.stream}.${u}`;await a.api._request(d)}async consumerInfo(){const a=this.sub.info,u=a.config.durable_name||a.name,d=`${a.api.prefix}.CONSUMER.INFO.${a.stream}.${u}`,s=await a.api._request(d);return a.last=s,s}}class JetStreamPullSubscriptionImpl extends JetStreamSubscriptionImpl{constructor(e,a,u){super(e,a,u)}pull(e={batch:1}){const{stream:a,config:u,name:d}=this.sub.info,s=u.durable_name??d,g={};if(g.batch=e.batch||1,g.no_wait=e.no_wait||!1,(e.max_bytes??0)>0){const S=this.js.nc.features.get(Feature.JS_PULL_MAX_BYTES);if(!S.ok)throw new Error(`max_bytes is only supported on servers ${S.min} or better`);g.max_bytes=e.max_bytes}let x=0;e.expires&&e.expires>0&&(x=e.expires,g.expires=nanos(x));let _=0;if(e.idle_heartbeat&&e.idle_heartbeat>0&&(_=e.idle_heartbeat,g.idle_heartbeat=nanos(_)),_&&x===0)throw new Error("idle_heartbeat requires expires");if(_>x)throw new Error("expires must be greater than idle_heartbeat");if(this.info){this.monitor&&this.monitor.cancel(),x&&_&&(this.monitor?this.monitor._change(_,x):this._setupHbMonitoring(_,x));const S=this.info.api,y=`${S.prefix}.CONSUMER.MSG.NEXT.${a}.${s}`,A=this.sub.subject;S.nc.publish(y,S.jc.encode(g),{reply:A})}}}function msgAdapter(r){return r?iterMsgAdapter:cbMsgAdapter}function cbMsgAdapter(r,e){return r?[r,null]:(r=checkJsError(e),r?[r,null]:[null,toJsMsg(e)])}function iterMsgAdapter(r,e){if(r)return[r,null];const a=checkJsError(e);return a!==null?[hideNonTerminalJsErrors(a),null]:[null,toJsMsg(e)]}function hideNonTerminalJsErrors(r){if(r!==null)switch(r.code){case ErrorCode.JetStream404NoMessages:case ErrorCode.JetStream408RequestTimeout:return null;case ErrorCode.JetStream409:return isTerminal409(r)?r:null;default:return r}return null}function autoAckJsMsg(r){r&&r.ack()}function parseInfo(r){const e=r.split(".");if(e.length===9&&e.splice(2,0,"_",""),e.length<11||e[0]!=="$JS"||e[1]!=="ACK")throw new Error("not js message");const a={};return a.domain=e[2]==="_"?"":e[2],a.account_hash=e[3],a.stream=e[4],a.consumer=e[5],a.redeliveryCount=parseInt(e[6],10),a.redelivered=a.redeliveryCount>1,a.streamSequence=parseInt(e[7],10),a.deliverySequence=parseInt(e[8],10),a.timestampNanos=parseInt(e[9],10),a.pending=parseInt(e[10],10),a}class JsMsgImpl{constructor(e){de(this,"msg");de(this,"di");de(this,"didAck");this.msg=e,this.didAck=!1}get subject(){return this.msg.subject}get sid(){return this.msg.sid}get data(){return this.msg.data}get headers(){return this.msg.headers}get info(){return this.di||(this.di=parseInfo(this.reply)),this.di}get redelivered(){return this.info.redeliveryCount>1}get reply(){return this.msg.reply||""}get seq(){return this.info.streamSequence}doAck(e){this.didAck||(this.didAck=!this.isWIP(e),this.msg.respond(e))}isWIP(e){return e.length===4&&e[0]===WPI[0]&&e[1]===WPI[1]&&e[2]===WPI[2]&&e[3]===WPI[3]}async ackAck(){var a;const e=deferred();if(this.didAck)e.resolve(!1);else if(this.didAck=!0,this.msg.reply){const d=this.msg.publisher,s=!((a=d.options)!=null&&a.noAsyncTraces),g=new RequestOne(d.muxSubscriptions,this.msg.reply,{timeout:1e3},s);d.request(g);try{d.publish(this.msg.reply,ACK,{reply:`${d.muxSubscriptions.baseInbox}${g.token}`})}catch(x){g.cancel(x)}try{await Promise.race([g.timer,g.deferred]),e.resolve(!0)}catch(x){g.cancel(x),e.reject(x)}}else e.resolve(!1);return e}ack(){this.doAck(ACK)}nak(e){let a=NAK;e&&(a=StringCodec().encode(`-NAK ${JSON.stringify({delay:nanos(e)})}`)),this.doAck(a)}working(){this.doAck(WPI)}next(e,a={batch:1}){const u={};u.batch=a.batch||1,u.no_wait=a.no_wait||!1,a.expires&&a.expires>0&&(u.expires=nanos(a.expires));const d=JSONCodec().encode(u),s=DataBuffer.concat(NXT,SPACE,d),g=e?{reply:e}:void 0;this.msg.respond(s,g)}term(e=""){let a=TERM;(e==null?void 0:e.length)>0&&(a=StringCodec().encode(`+TERM ${e}`)),this.doAck(a)}json(){return this.msg.json()}string(){return this.msg.string()}}const VERSION="1.27.0",LANG="nats.ws";class WsTransport{constructor(){de(this,"version");de(this,"lang");de(this,"closeError");de(this,"connected");de(this,"done");de(this,"socket");de(this,"options");de(this,"socketClosed");de(this,"encrypted");de(this,"peeked");de(this,"yields");de(this,"signal");de(this,"closedNotification");this.version=VERSION,this.lang=LANG,this.connected=!1,this.done=!1,this.socketClosed=!1,this.encrypted=!1,this.peeked=!1,this.yields=[],this.signal=deferred(),this.closedNotification=deferred()}async connect(e,a){const u=deferred();if(a.tls)return u.reject(new NatsError("tls",ErrorCode.InvalidOption)),u;this.options=a;const d=e.src;if(a.wsFactory){const{socket:s,encrypted:g}=await a.wsFactory(e.src,a);this.socket=s,this.encrypted=g}else this.encrypted=d.indexOf("wss://")===0,this.socket=new WebSocket(d);return this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{this.isDiscarded()},this.socket.onmessage=s=>{if(this.isDiscarded())return;if(this.yields.push(new Uint8Array(s.data)),this.peeked){this.signal.resolve();return}const g=DataBuffer.concat(...this.yields),x=extractProtocolMessage(g);if(x!==""){const _=INFO.exec(x);if(!_){a.debug&&console.error("!!!",render(g)),u.reject(new Error("unexpected response from server"));return}try{const S=JSON.parse(_[1]);checkOptions(S,this.options),this.peeked=!0,this.connected=!0,this.signal.resolve(),u.resolve()}catch(S){u.reject(S);return}}},this.socket.onclose=s=>{if(this.isDiscarded())return;this.socketClosed=!0;let g;this.done||(s.wasClean||(g=new Error(s.reason)),this._closed(g))},this.socket.onerror=s=>{if(this.isDiscarded())return;const g=s,x=new NatsError(g.message,ErrorCode.Unknown,new Error(g.error));u.reject(x)},u}disconnect(){this._closed(void 0,!0)}async _closed(e,a=!0){if(!this.isDiscarded()&&this.connected&&!this.done){if(this.closeError=e,!e)for(;!this.socketClosed&&this.socket.bufferedAmount>0;)await delay(100);this.done=!0;try{this.socket.close(e?1002:1e3,e?e.message:void 0)}catch{}a&&this.closedNotification.resolve(e)}}get isClosed(){return this.done}[Symbol.asyncIterator](){return this.iterate()}async*iterate(){for(;;){if(this.isDiscarded())return;this.yields.length===0&&await this.signal;const e=this.yields;this.yields=[];for(let a=0;a<e.length;a++)this.options.debug&&console.info(`> ${render(e[a])}`),yield e[a];if(this.done)break;this.yields.length===0&&(e.length=0,this.yields=e,this.signal=deferred())}}isEncrypted(){return this.connected&&this.encrypted}send(e){if(!this.isDiscarded())try{this.socket.send(e.buffer),this.options.debug&&console.info(`< ${render(e)}`);return}catch(a){this.options.debug&&console.error(`!!! ${render(e)}: ${a}`)}}close(e){return this._closed(e,!1)}closed(){return this.closedNotification}isDiscarded(){return this.done?(this.discard(),!0):!1}discard(){var e;this.done=!0;try{(e=this.socket)==null||e.close()}catch{}}}function wsUrlParseFn(r,e){/^(.*:\/\/)(.*)/.test(r)||(typeof e=="boolean"?r=`${e===!0?"https":"http"}://${r}`:r=`https://${r}`);let u=new URL(r);const d=u.protocol.toLowerCase();d==="ws:"&&(e=!1),d==="wss:"&&(e=!0),d!=="https:"&&d!=="http"&&(r=r.replace(/^(.*:\/\/)(.*)/gm,"$2"),u=new URL(`http://${r}`));let s,g;const x=u.hostname,_=u.pathname,S=u.search||"";switch(d){case"http:":case"ws:":case"nats:":g=u.port||"80",s="ws:";break;case"https:":case"wss:":case"tls:":g=u.port||"443",s="wss:";break;default:g=u.port||e===!0?"443":"80",s=e===!0?"wss:":"ws:";break}return`${s}//${x}:${g}${_}${S}`}function connect$1(r={}){return setTransportFactory({defaultPort:443,urlParseFn:wsUrlParseFn,factory:()=>new WsTransport}),NatsConnectionImpl.connect(r)}function bufferMessages(r,e){const{delayMs:a=500,noBufferCount:u=5}=e||{};let d=[],s,g=0;const x=()=>setTimeout(()=>{r(d),d=[],s=void 0},a);return _=>{if(g<u){r(_),g++;return}d.push(..._),s===void 0&&(s=x())}}let key$2=0;function createMessageId(){return`${key$2++}-${Date.now()}`}function decode$2(r){return new Uint8Array(r).buffer}function decodeMessage(r){const e=decode$2(r.data);return{id:createMessageId(),timestamp:new Date().toISOString(),subject:r.subject,data:e}}function liveSubscribe({subject:r,buffer:e,onError:a,onMessages:u},d){const s=e?bufferMessages(x=>u(x,r),e):u;return d.subscribe(r,{callback:(x,_)=>{if(x){a("NATS subscription error.",x);return}const S=decodeMessage(_);s([S],r)}})}function subscribe(r,e){const a=liveSubscribe(r,e);return{unsubscribe:()=>a.unsubscribe()}}function createAuthenticator(r){return credsAuthenticator(new TextEncoder().encode(r))}var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup[45]=62;revLookup[95]=63;function getLens(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=r.indexOf("=");a===-1&&(a=e);var u=a===e?0:4-a%4;return[a,u]}function byteLength(r){var e=getLens(r),a=e[0],u=e[1];return(a+u)*3/4-u}function _byteLength(r,e,a){return(e+a)*3/4-a}function toByteArray(r){var e,a=getLens(r),u=a[0],d=a[1],s=new Arr(_byteLength(r,u,d)),g=0,x=d>0?u-4:u,_;for(_=0;_<x;_+=4)e=revLookup[r.charCodeAt(_)]<<18|revLookup[r.charCodeAt(_+1)]<<12|revLookup[r.charCodeAt(_+2)]<<6|revLookup[r.charCodeAt(_+3)],s[g++]=e>>16&255,s[g++]=e>>8&255,s[g++]=e&255;return d===2&&(e=revLookup[r.charCodeAt(_)]<<2|revLookup[r.charCodeAt(_+1)]>>4,s[g++]=e&255),d===1&&(e=revLookup[r.charCodeAt(_)]<<10|revLookup[r.charCodeAt(_+1)]<<4|revLookup[r.charCodeAt(_+2)]>>2,s[g++]=e>>8&255,s[g++]=e&255),s}function tripletToBase64(r){return lookup[r>>18&63]+lookup[r>>12&63]+lookup[r>>6&63]+lookup[r&63]}function encodeChunk(r,e,a){for(var u,d=[],s=e;s<a;s+=3)u=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),d.push(tripletToBase64(u));return d.join("")}function fromByteArray(r){for(var e,a=r.length,u=a%3,d=[],s=16383,g=0,x=a-u;g<x;g+=s)d.push(encodeChunk(r,g,g+s>x?x:g+s));return u===1?(e=r[a-1],d.push(lookup[e>>2]+lookup[e<<4&63]+"==")):u===2&&(e=(r[a-2]<<8)+r[a-1],d.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),d.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(r,e,a,u,d){var s,g,x=d*8-u-1,_=(1<<x)-1,S=_>>1,y=-7,A=a?d-1:0,R=a?-1:1,B=r[e+A];for(A+=R,s=B&(1<<-y)-1,B>>=-y,y+=x;y>0;s=s*256+r[e+A],A+=R,y-=8);for(g=s&(1<<-y)-1,s>>=-y,y+=u;y>0;g=g*256+r[e+A],A+=R,y-=8);if(s===0)s=1-S;else{if(s===_)return g?NaN:(B?-1:1)*(1/0);g=g+Math.pow(2,u),s=s-S}return(B?-1:1)*g*Math.pow(2,s-u)};ieee754.write=function(r,e,a,u,d,s){var g,x,_,S=s*8-d-1,y=(1<<S)-1,A=y>>1,R=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=u?0:s-1,q=u?1:-1,C=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(x=isNaN(e)?1:0,g=y):(g=Math.floor(Math.log(e)/Math.LN2),e*(_=Math.pow(2,-g))<1&&(g--,_*=2),g+A>=1?e+=R/_:e+=R*Math.pow(2,1-A),e*_>=2&&(g++,_/=2),g+A>=y?(x=0,g=y):g+A>=1?(x=(e*_-1)*Math.pow(2,d),g=g+A):(x=e*Math.pow(2,A-1)*Math.pow(2,d),g=0));d>=8;r[a+B]=x&255,B+=q,x/=256,d-=8);for(g=g<<d|x,S+=d;S>0;r[a+B]=g&255,B+=q,g/=256,S-=8);r[a+B-q]|=C*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=base64Js,a=ieee754,u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=y,r.SlowBuffer=ee,r.INSPECT_MAX_BYTES=50;const d=2147483647;r.kMaxLength=d;const{Uint8Array:s,ArrayBuffer:g,SharedArrayBuffer:x}=globalThis;y.TYPED_ARRAY_SUPPORT=_(),!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _(){try{const z=new s(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,s.prototype),Object.setPrototypeOf(z,O),z.foo()===42}catch{return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function S(z){if(z>d)throw new RangeError('The value "'+z+'" is invalid for option "size"');const O=new s(z);return Object.setPrototypeOf(O,y.prototype),O}function y(z,O,D){if(typeof z=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return q(z)}return A(z,O,D)}y.poolSize=8192;function A(z,O,D){if(typeof z=="string")return C(z,O);if(g.isView(z))return k(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(Pe(z,g)||z&&Pe(z.buffer,g)||typeof x<"u"&&(Pe(z,x)||z&&Pe(z.buffer,x)))return L(z,O,D);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const te=z.valueOf&&z.valueOf();if(te!=null&&te!==z)return y.from(te,O,D);const ce=U(z);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return y.from(z[Symbol.toPrimitive]("string"),O,D);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}y.from=function(z,O,D){return A(z,O,D)},Object.setPrototypeOf(y.prototype,s.prototype),Object.setPrototypeOf(y,s);function R(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function B(z,O,D){return R(z),z<=0?S(z):O!==void 0?typeof D=="string"?S(z).fill(O,D):S(z).fill(O):S(z)}y.alloc=function(z,O,D){return B(z,O,D)};function q(z){return R(z),S(z<0?0:j(z)|0)}y.allocUnsafe=function(z){return q(z)},y.allocUnsafeSlow=function(z){return q(z)};function C(z,O){if((typeof O!="string"||O==="")&&(O="utf8"),!y.isEncoding(O))throw new TypeError("Unknown encoding: "+O);const D=se(z,O)|0;let te=S(D);const ce=te.write(z,O);return ce!==D&&(te=te.slice(0,ce)),te}function N(z){const O=z.length<0?0:j(z.length)|0,D=S(O);for(let te=0;te<O;te+=1)D[te]=z[te]&255;return D}function k(z){if(Pe(z,s)){const O=new s(z);return L(O.buffer,O.byteOffset,O.byteLength)}return N(z)}function L(z,O,D){if(O<0||z.byteLength<O)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<O+(D||0))throw new RangeError('"length" is outside of buffer bounds');let te;return O===void 0&&D===void 0?te=new s(z):D===void 0?te=new s(z,O):te=new s(z,O,D),Object.setPrototypeOf(te,y.prototype),te}function U(z){if(y.isBuffer(z)){const O=j(z.length)|0,D=S(O);return D.length===0||z.copy(D,0,0,O),D}if(z.length!==void 0)return typeof z.length!="number"||ot(z.length)?S(0):N(z);if(z.type==="Buffer"&&Array.isArray(z.data))return N(z.data)}function j(z){if(z>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return z|0}function ee(z){return+z!=z&&(z=0),y.alloc(+z)}y.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==y.prototype},y.compare=function(O,D){if(Pe(O,s)&&(O=y.from(O,O.offset,O.byteLength)),Pe(D,s)&&(D=y.from(D,D.offset,D.byteLength)),!y.isBuffer(O)||!y.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===D)return 0;let te=O.length,ce=D.length;for(let Fe=0,be=Math.min(te,ce);Fe<be;++Fe)if(O[Fe]!==D[Fe]){te=O[Fe],ce=D[Fe];break}return te<ce?-1:ce<te?1:0},y.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(O,D){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return y.alloc(0);let te;if(D===void 0)for(D=0,te=0;te<O.length;++te)D+=O[te].length;const ce=y.allocUnsafe(D);let Fe=0;for(te=0;te<O.length;++te){let be=O[te];if(Pe(be,s))Fe+be.length>ce.length?(y.isBuffer(be)||(be=y.from(be)),be.copy(ce,Fe)):s.prototype.set.call(ce,be,Fe);else if(y.isBuffer(be))be.copy(ce,Fe);else throw new TypeError('"list" argument must be an Array of Buffers');Fe+=be.length}return ce};function se(z,O){if(y.isBuffer(z))return z.length;if(g.isView(z)||Pe(z,g))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);const D=z.length,te=arguments.length>2&&arguments[2]===!0;if(!te&&D===0)return 0;let ce=!1;for(;;)switch(O){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":return Ze(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D*2;case"hex":return D>>>1;case"base64":return tt(z).length;default:if(ce)return te?-1:Ze(z).length;O=(""+O).toLowerCase(),ce=!0}}y.byteLength=se;function Ee(z,O,D){let te=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0,O>>>=0,D<=O))return"";for(z||(z="utf8");;)switch(z){case"hex":return P(this,O,D);case"utf8":case"utf-8":return w(this,O,D);case"ascii":return n(this,O,D);case"latin1":case"binary":return b(this,O,D);case"base64":return v(this,O,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,O,D);default:if(te)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),te=!0}}y.prototype._isBuffer=!0;function ge(z,O,D){const te=z[O];z[O]=z[D],z[D]=te}y.prototype.swap16=function(){const O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<O;D+=2)ge(this,D,D+1);return this},y.prototype.swap32=function(){const O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<O;D+=4)ge(this,D,D+3),ge(this,D+1,D+2);return this},y.prototype.swap64=function(){const O=this.length;if(O%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<O;D+=8)ge(this,D,D+7),ge(this,D+1,D+6),ge(this,D+2,D+5),ge(this,D+3,D+4);return this},y.prototype.toString=function(){const O=this.length;return O===0?"":arguments.length===0?w(this,0,O):Ee.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(O){if(!y.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:y.compare(this,O)===0},y.prototype.inspect=function(){let O="";const D=r.INSPECT_MAX_BYTES;return O=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(O+=" ... "),"<Buffer "+O+">"},u&&(y.prototype[u]=y.prototype.inspect),y.prototype.compare=function(O,D,te,ce,Fe){if(Pe(O,s)&&(O=y.from(O,O.offset,O.byteLength)),!y.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(D===void 0&&(D=0),te===void 0&&(te=O?O.length:0),ce===void 0&&(ce=0),Fe===void 0&&(Fe=this.length),D<0||te>O.length||ce<0||Fe>this.length)throw new RangeError("out of range index");if(ce>=Fe&&D>=te)return 0;if(ce>=Fe)return-1;if(D>=te)return 1;if(D>>>=0,te>>>=0,ce>>>=0,Fe>>>=0,this===O)return 0;let be=Fe-ce,je=te-D;const lt=Math.min(be,je),Ue=this.slice(ce,Fe),Ve=O.slice(D,te);for(let dt=0;dt<lt;++dt)if(Ue[dt]!==Ve[dt]){be=Ue[dt],je=Ve[dt];break}return be<je?-1:je<be?1:0};function oe(z,O,D,te,ce){if(z.length===0)return-1;if(typeof D=="string"?(te=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,ot(D)&&(D=ce?0:z.length-1),D<0&&(D=z.length+D),D>=z.length){if(ce)return-1;D=z.length-1}else if(D<0)if(ce)D=0;else return-1;if(typeof O=="string"&&(O=y.from(O,te)),y.isBuffer(O))return O.length===0?-1:Le(z,O,D,te,ce);if(typeof O=="number")return O=O&255,typeof s.prototype.indexOf=="function"?ce?s.prototype.indexOf.call(z,O,D):s.prototype.lastIndexOf.call(z,O,D):Le(z,[O],D,te,ce);throw new TypeError("val must be string, number or Buffer")}function Le(z,O,D,te,ce){let Fe=1,be=z.length,je=O.length;if(te!==void 0&&(te=String(te).toLowerCase(),te==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if(z.length<2||O.length<2)return-1;Fe=2,be/=2,je/=2,D/=2}function lt(Ve,dt){return Fe===1?Ve[dt]:Ve.readUInt16BE(dt*Fe)}let Ue;if(ce){let Ve=-1;for(Ue=D;Ue<be;Ue++)if(lt(z,Ue)===lt(O,Ve===-1?0:Ue-Ve)){if(Ve===-1&&(Ve=Ue),Ue-Ve+1===je)return Ve*Fe}else Ve!==-1&&(Ue-=Ue-Ve),Ve=-1}else for(D+je>be&&(D=be-je),Ue=D;Ue>=0;Ue--){let Ve=!0;for(let dt=0;dt<je;dt++)if(lt(z,Ue+dt)!==lt(O,dt)){Ve=!1;break}if(Ve)return Ue}return-1}y.prototype.includes=function(O,D,te){return this.indexOf(O,D,te)!==-1},y.prototype.indexOf=function(O,D,te){return oe(this,O,D,te,!0)},y.prototype.lastIndexOf=function(O,D,te){return oe(this,O,D,te,!1)};function E(z,O,D,te){D=Number(D)||0;const ce=z.length-D;te?(te=Number(te),te>ce&&(te=ce)):te=ce;const Fe=O.length;te>Fe/2&&(te=Fe/2);let be;for(be=0;be<te;++be){const je=parseInt(O.substr(be*2,2),16);if(ot(je))return be;z[D+be]=je}return be}function t(z,O,D,te){return Ae(Ze(O,z.length-D),z,D,te)}function o(z,O,D,te){return Ae(_e(O),z,D,te)}function c(z,O,D,te){return Ae(tt(O),z,D,te)}function l(z,O,D,te){return Ae(Se(O,z.length-D),z,D,te)}y.prototype.write=function(O,D,te,ce){if(D===void 0)ce="utf8",te=this.length,D=0;else if(te===void 0&&typeof D=="string")ce=D,te=this.length,D=0;else if(isFinite(D))D=D>>>0,isFinite(te)?(te=te>>>0,ce===void 0&&(ce="utf8")):(ce=te,te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Fe=this.length-D;if((te===void 0||te>Fe)&&(te=Fe),O.length>0&&(te<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");let be=!1;for(;;)switch(ce){case"hex":return E(this,O,D,te);case"utf8":case"utf-8":return t(this,O,D,te);case"ascii":case"latin1":case"binary":return o(this,O,D,te);case"base64":return c(this,O,D,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,O,D,te);default:if(be)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),be=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function v(z,O,D){return O===0&&D===z.length?e.fromByteArray(z):e.fromByteArray(z.slice(O,D))}function w(z,O,D){D=Math.min(z.length,D);const te=[];let ce=O;for(;ce<D;){const Fe=z[ce];let be=null,je=Fe>239?4:Fe>223?3:Fe>191?2:1;if(ce+je<=D){let lt,Ue,Ve,dt;switch(je){case 1:Fe<128&&(be=Fe);break;case 2:lt=z[ce+1],(lt&192)===128&&(dt=(Fe&31)<<6|lt&63,dt>127&&(be=dt));break;case 3:lt=z[ce+1],Ue=z[ce+2],(lt&192)===128&&(Ue&192)===128&&(dt=(Fe&15)<<12|(lt&63)<<6|Ue&63,dt>2047&&(dt<55296||dt>57343)&&(be=dt));break;case 4:lt=z[ce+1],Ue=z[ce+2],Ve=z[ce+3],(lt&192)===128&&(Ue&192)===128&&(Ve&192)===128&&(dt=(Fe&15)<<18|(lt&63)<<12|(Ue&63)<<6|Ve&63,dt>65535&&dt<1114112&&(be=dt))}}be===null?(be=65533,je=1):be>65535&&(be-=65536,te.push(be>>>10&1023|55296),be=56320|be&1023),te.push(be),ce+=je}return m(te)}const M=4096;function m(z){const O=z.length;if(O<=M)return String.fromCharCode.apply(String,z);let D="",te=0;for(;te<O;)D+=String.fromCharCode.apply(String,z.slice(te,te+=M));return D}function n(z,O,D){let te="";D=Math.min(z.length,D);for(let ce=O;ce<D;++ce)te+=String.fromCharCode(z[ce]&127);return te}function b(z,O,D){let te="";D=Math.min(z.length,D);for(let ce=O;ce<D;++ce)te+=String.fromCharCode(z[ce]);return te}function P(z,O,D){const te=z.length;(!O||O<0)&&(O=0),(!D||D<0||D>te)&&(D=te);let ce="";for(let Fe=O;Fe<D;++Fe)ce+=Oe[z[Fe]];return ce}function I(z,O,D){const te=z.slice(O,D);let ce="";for(let Fe=0;Fe<te.length-1;Fe+=2)ce+=String.fromCharCode(te[Fe]+te[Fe+1]*256);return ce}y.prototype.slice=function(O,D){const te=this.length;O=~~O,D=D===void 0?te:~~D,O<0?(O+=te,O<0&&(O=0)):O>te&&(O=te),D<0?(D+=te,D<0&&(D=0)):D>te&&(D=te),D<O&&(D=O);const ce=this.subarray(O,D);return Object.setPrototypeOf(ce,y.prototype),ce};function F(z,O,D){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+O>D)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(O,D,te){O=O>>>0,D=D>>>0,te||F(O,D,this.length);let ce=this[O],Fe=1,be=0;for(;++be<D&&(Fe*=256);)ce+=this[O+be]*Fe;return ce},y.prototype.readUintBE=y.prototype.readUIntBE=function(O,D,te){O=O>>>0,D=D>>>0,te||F(O,D,this.length);let ce=this[O+--D],Fe=1;for(;D>0&&(Fe*=256);)ce+=this[O+--D]*Fe;return ce},y.prototype.readUint8=y.prototype.readUInt8=function(O,D){return O=O>>>0,D||F(O,1,this.length),this[O]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(O,D){return O=O>>>0,D||F(O,2,this.length),this[O]|this[O+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(O,D){return O=O>>>0,D||F(O,2,this.length),this[O]<<8|this[O+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(O,D){return O=O>>>0,D||F(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+this[O+3]*16777216},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(O,D){return O=O>>>0,D||F(O,4,this.length),this[O]*16777216+(this[O+1]<<16|this[O+2]<<8|this[O+3])},y.prototype.readBigUInt64LE=He(function(O){O=O>>>0,ve(O,"offset");const D=this[O],te=this[O+7];(D===void 0||te===void 0)&&ke(O,this.length-8);const ce=D+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24,Fe=this[++O]+this[++O]*2**8+this[++O]*2**16+te*2**24;return BigInt(ce)+(BigInt(Fe)<<BigInt(32))}),y.prototype.readBigUInt64BE=He(function(O){O=O>>>0,ve(O,"offset");const D=this[O],te=this[O+7];(D===void 0||te===void 0)&&ke(O,this.length-8);const ce=D*2**24+this[++O]*2**16+this[++O]*2**8+this[++O],Fe=this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+te;return(BigInt(ce)<<BigInt(32))+BigInt(Fe)}),y.prototype.readIntLE=function(O,D,te){O=O>>>0,D=D>>>0,te||F(O,D,this.length);let ce=this[O],Fe=1,be=0;for(;++be<D&&(Fe*=256);)ce+=this[O+be]*Fe;return Fe*=128,ce>=Fe&&(ce-=Math.pow(2,8*D)),ce},y.prototype.readIntBE=function(O,D,te){O=O>>>0,D=D>>>0,te||F(O,D,this.length);let ce=D,Fe=1,be=this[O+--ce];for(;ce>0&&(Fe*=256);)be+=this[O+--ce]*Fe;return Fe*=128,be>=Fe&&(be-=Math.pow(2,8*D)),be},y.prototype.readInt8=function(O,D){return O=O>>>0,D||F(O,1,this.length),this[O]&128?(255-this[O]+1)*-1:this[O]},y.prototype.readInt16LE=function(O,D){O=O>>>0,D||F(O,2,this.length);const te=this[O]|this[O+1]<<8;return te&32768?te|4294901760:te},y.prototype.readInt16BE=function(O,D){O=O>>>0,D||F(O,2,this.length);const te=this[O+1]|this[O]<<8;return te&32768?te|4294901760:te},y.prototype.readInt32LE=function(O,D){return O=O>>>0,D||F(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},y.prototype.readInt32BE=function(O,D){return O=O>>>0,D||F(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},y.prototype.readBigInt64LE=He(function(O){O=O>>>0,ve(O,"offset");const D=this[O],te=this[O+7];(D===void 0||te===void 0)&&ke(O,this.length-8);const ce=this[O+4]+this[O+5]*2**8+this[O+6]*2**16+(te<<24);return(BigInt(ce)<<BigInt(32))+BigInt(D+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24)}),y.prototype.readBigInt64BE=He(function(O){O=O>>>0,ve(O,"offset");const D=this[O],te=this[O+7];(D===void 0||te===void 0)&&ke(O,this.length-8);const ce=(D<<24)+this[++O]*2**16+this[++O]*2**8+this[++O];return(BigInt(ce)<<BigInt(32))+BigInt(this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+te)}),y.prototype.readFloatLE=function(O,D){return O=O>>>0,D||F(O,4,this.length),a.read(this,O,!0,23,4)},y.prototype.readFloatBE=function(O,D){return O=O>>>0,D||F(O,4,this.length),a.read(this,O,!1,23,4)},y.prototype.readDoubleLE=function(O,D){return O=O>>>0,D||F(O,8,this.length),a.read(this,O,!0,52,8)},y.prototype.readDoubleBE=function(O,D){return O=O>>>0,D||F(O,8,this.length),a.read(this,O,!1,52,8)};function Y(z,O,D,te,ce,Fe){if(!y.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>ce||O<Fe)throw new RangeError('"value" argument is out of bounds');if(D+te>z.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(O,D,te,ce){if(O=+O,D=D>>>0,te=te>>>0,!ce){const je=Math.pow(2,8*te)-1;Y(this,O,D,te,je,0)}let Fe=1,be=0;for(this[D]=O&255;++be<te&&(Fe*=256);)this[D+be]=O/Fe&255;return D+te},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(O,D,te,ce){if(O=+O,D=D>>>0,te=te>>>0,!ce){const je=Math.pow(2,8*te)-1;Y(this,O,D,te,je,0)}let Fe=te-1,be=1;for(this[D+Fe]=O&255;--Fe>=0&&(be*=256);)this[D+Fe]=O/be&255;return D+te},y.prototype.writeUint8=y.prototype.writeUInt8=function(O,D,te){return O=+O,D=D>>>0,te||Y(this,O,D,1,255,0),this[D]=O&255,D+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(O,D,te){return O=+O,D=D>>>0,te||Y(this,O,D,2,65535,0),this[D]=O&255,this[D+1]=O>>>8,D+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(O,D,te){return O=+O,D=D>>>0,te||Y(this,O,D,2,65535,0),this[D]=O>>>8,this[D+1]=O&255,D+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(O,D,te){return O=+O,D=D>>>0,te||Y(this,O,D,4,4294967295,0),this[D+3]=O>>>24,this[D+2]=O>>>16,this[D+1]=O>>>8,this[D]=O&255,D+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(O,D,te){return O=+O,D=D>>>0,te||Y(this,O,D,4,4294967295,0),this[D]=O>>>24,this[D+1]=O>>>16,this[D+2]=O>>>8,this[D+3]=O&255,D+4};function X(z,O,D,te,ce){he(O,te,ce,z,D,7);let Fe=Number(O&BigInt(4294967295));z[D++]=Fe,Fe=Fe>>8,z[D++]=Fe,Fe=Fe>>8,z[D++]=Fe,Fe=Fe>>8,z[D++]=Fe;let be=Number(O>>BigInt(32)&BigInt(4294967295));return z[D++]=be,be=be>>8,z[D++]=be,be=be>>8,z[D++]=be,be=be>>8,z[D++]=be,D}function T(z,O,D,te,ce){he(O,te,ce,z,D,7);let Fe=Number(O&BigInt(4294967295));z[D+7]=Fe,Fe=Fe>>8,z[D+6]=Fe,Fe=Fe>>8,z[D+5]=Fe,Fe=Fe>>8,z[D+4]=Fe;let be=Number(O>>BigInt(32)&BigInt(4294967295));return z[D+3]=be,be=be>>8,z[D+2]=be,be=be>>8,z[D+1]=be,be=be>>8,z[D]=be,D+8}y.prototype.writeBigUInt64LE=He(function(O,D=0){return X(this,O,D,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=He(function(O,D=0){return T(this,O,D,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(O,D,te,ce){if(O=+O,D=D>>>0,!ce){const lt=Math.pow(2,8*te-1);Y(this,O,D,te,lt-1,-lt)}let Fe=0,be=1,je=0;for(this[D]=O&255;++Fe<te&&(be*=256);)O<0&&je===0&&this[D+Fe-1]!==0&&(je=1),this[D+Fe]=(O/be>>0)-je&255;return D+te},y.prototype.writeIntBE=function(O,D,te,ce){if(O=+O,D=D>>>0,!ce){const lt=Math.pow(2,8*te-1);Y(this,O,D,te,lt-1,-lt)}let Fe=te-1,be=1,je=0;for(this[D+Fe]=O&255;--Fe>=0&&(be*=256);)O<0&&je===0&&this[D+Fe+1]!==0&&(je=1),this[D+Fe]=(O/be>>0)-je&255;return D+te},y.prototype.writeInt8=function(O,D,te){return O=+O,D=D>>>0,te||Y(this,O,D,1,127,-128),O<0&&(O=255+O+1),this[D]=O&255,D+1},y.prototype.writeInt16LE=function(O,D,te){return O=+O,D=D>>>0,te||Y(this,O,D,2,32767,-32768),this[D]=O&255,this[D+1]=O>>>8,D+2},y.prototype.writeInt16BE=function(O,D,te){return O=+O,D=D>>>0,te||Y(this,O,D,2,32767,-32768),this[D]=O>>>8,this[D+1]=O&255,D+2},y.prototype.writeInt32LE=function(O,D,te){return O=+O,D=D>>>0,te||Y(this,O,D,4,2147483647,-2147483648),this[D]=O&255,this[D+1]=O>>>8,this[D+2]=O>>>16,this[D+3]=O>>>24,D+4},y.prototype.writeInt32BE=function(O,D,te){return O=+O,D=D>>>0,te||Y(this,O,D,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[D]=O>>>24,this[D+1]=O>>>16,this[D+2]=O>>>8,this[D+3]=O&255,D+4},y.prototype.writeBigInt64LE=He(function(O,D=0){return X(this,O,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=He(function(O,D=0){return T(this,O,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(z,O,D,te,ce,Fe){if(D+te>z.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function W(z,O,D,te,ce){return O=+O,D=D>>>0,ce||K(z,O,D,4),a.write(z,O,D,te,23,4),D+4}y.prototype.writeFloatLE=function(O,D,te){return W(this,O,D,!0,te)},y.prototype.writeFloatBE=function(O,D,te){return W(this,O,D,!1,te)};function ne(z,O,D,te,ce){return O=+O,D=D>>>0,ce||K(z,O,D,8),a.write(z,O,D,te,52,8),D+8}y.prototype.writeDoubleLE=function(O,D,te){return ne(this,O,D,!0,te)},y.prototype.writeDoubleBE=function(O,D,te){return ne(this,O,D,!1,te)},y.prototype.copy=function(O,D,te,ce){if(!y.isBuffer(O))throw new TypeError("argument should be a Buffer");if(te||(te=0),!ce&&ce!==0&&(ce=this.length),D>=O.length&&(D=O.length),D||(D=0),ce>0&&ce<te&&(ce=te),ce===te||O.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(te<0||te>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),O.length-D<ce-te&&(ce=O.length-D+te);const Fe=ce-te;return this===O&&typeof s.prototype.copyWithin=="function"?this.copyWithin(D,te,ce):s.prototype.set.call(O,this.subarray(te,ce),D),Fe},y.prototype.fill=function(O,D,te,ce){if(typeof O=="string"){if(typeof D=="string"?(ce=D,D=0,te=this.length):typeof te=="string"&&(ce=te,te=this.length),ce!==void 0&&typeof ce!="string")throw new TypeError("encoding must be a string");if(typeof ce=="string"&&!y.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(O.length===1){const be=O.charCodeAt(0);(ce==="utf8"&&be<128||ce==="latin1")&&(O=be)}}else typeof O=="number"?O=O&255:typeof O=="boolean"&&(O=Number(O));if(D<0||this.length<D||this.length<te)throw new RangeError("Out of range index");if(te<=D)return this;D=D>>>0,te=te===void 0?this.length:te>>>0,O||(O=0);let Fe;if(typeof O=="number")for(Fe=D;Fe<te;++Fe)this[Fe]=O;else{const be=y.isBuffer(O)?O:y.from(O,ce),je=be.length;if(je===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(Fe=0;Fe<te-D;++Fe)this[Fe+D]=be[Fe%je]}return this};const ie={};function G(z,O,D){ie[z]=class extends D{constructor(){super(),Object.defineProperty(this,"message",{value:O.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ce,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}G("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(z,O){return`The "${z}" argument must be of type number. Received type ${typeof O}`},TypeError),G("ERR_OUT_OF_RANGE",function(z,O,D){let te=`The value of "${z}" is out of range.`,ce=D;return Number.isInteger(D)&&Math.abs(D)>2**32?ce=H(String(D)):typeof D=="bigint"&&(ce=String(D),(D>BigInt(2)**BigInt(32)||D<-(BigInt(2)**BigInt(32)))&&(ce=H(ce)),ce+="n"),te+=` It must be ${O}. Received ${ce}`,te},RangeError);function H(z){let O="",D=z.length;const te=z[0]==="-"?1:0;for(;D>=te+4;D-=3)O=`_${z.slice(D-3,D)}${O}`;return`${z.slice(0,D)}${O}`}function fe(z,O,D){ve(O,"offset"),(z[O]===void 0||z[O+D]===void 0)&&ke(O,z.length-(D+1))}function he(z,O,D,te,ce,Fe){if(z>D||z<O){const be=typeof O=="bigint"?"n":"";let je;throw O===0||O===BigInt(0)?je=`>= 0${be} and < 2${be} ** ${(Fe+1)*8}${be}`:je=`>= -(2${be} ** ${(Fe+1)*8-1}${be}) and < 2 ** ${(Fe+1)*8-1}${be}`,new ie.ERR_OUT_OF_RANGE("value",je,z)}fe(te,ce,Fe)}function ve(z,O){if(typeof z!="number")throw new ie.ERR_INVALID_ARG_TYPE(O,"number",z)}function ke(z,O,D){throw Math.floor(z)!==z?(ve(z,D),new ie.ERR_OUT_OF_RANGE("offset","an integer",z)):O<0?new ie.ERR_BUFFER_OUT_OF_BOUNDS:new ie.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${O}`,z)}const Me=/[^+/0-9A-Za-z-_]/g;function le(z){if(z=z.split("=")[0],z=z.trim().replace(Me,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function Ze(z,O){O=O||1/0;let D;const te=z.length;let ce=null;const Fe=[];for(let be=0;be<te;++be){if(D=z.charCodeAt(be),D>55295&&D<57344){if(!ce){if(D>56319){(O-=3)>-1&&Fe.push(239,191,189);continue}else if(be+1===te){(O-=3)>-1&&Fe.push(239,191,189);continue}ce=D;continue}if(D<56320){(O-=3)>-1&&Fe.push(239,191,189),ce=D;continue}D=(ce-55296<<10|D-56320)+65536}else ce&&(O-=3)>-1&&Fe.push(239,191,189);if(ce=null,D<128){if((O-=1)<0)break;Fe.push(D)}else if(D<2048){if((O-=2)<0)break;Fe.push(D>>6|192,D&63|128)}else if(D<65536){if((O-=3)<0)break;Fe.push(D>>12|224,D>>6&63|128,D&63|128)}else if(D<1114112){if((O-=4)<0)break;Fe.push(D>>18|240,D>>12&63|128,D>>6&63|128,D&63|128)}else throw new Error("Invalid code point")}return Fe}function _e(z){const O=[];for(let D=0;D<z.length;++D)O.push(z.charCodeAt(D)&255);return O}function Se(z,O){let D,te,ce;const Fe=[];for(let be=0;be<z.length&&!((O-=2)<0);++be)D=z.charCodeAt(be),te=D>>8,ce=D%256,Fe.push(ce),Fe.push(te);return Fe}function tt(z){return e.toByteArray(le(z))}function Ae(z,O,D,te){let ce;for(ce=0;ce<te&&!(ce+D>=O.length||ce>=z.length);++ce)O[ce+D]=z[ce];return ce}function Pe(z,O){return z instanceof O||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===O.name}function ot(z){return z!==z}const Oe=function(){const z="0123456789abcdef",O=new Array(256);for(let D=0;D<16;++D){const te=D*16;for(let ce=0;ce<16;++ce)O[te+ce]=z[D]+z[ce]}return O}();function He(z){return typeof BigInt>"u"?pt:z}function pt(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer=buffer$1.Buffer,Blob=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1=buffer$1.Buffer,File=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob$1=buffer$1.atob,btoa$1=buffer$1.btoa,constants$1=buffer$1.constants,isAscii=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist=Object.freeze(Object.defineProperty({__proto__:null,Blob,BlobOptions,Buffer:Buffer$1,File,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$1,default:Buffer,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"}));var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function getAugmentedNamespace(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var a=function u(){return this instanceof u?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(r).forEach(function(u){var d=Object.getOwnPropertyDescriptor(r,u);Object.defineProperty(a,u,d.get?d:{enumerable:!0,get:function(){return r[u]}})}),a}var base64url$3={exports:{}},base64url$2={},padString$1={};Object.defineProperty(padString$1,"__esModule",{value:!0});function padString(r){var e=4,a=r.length,u=a%e;if(!u)return r;var d=a,s=e-u,g=a+s,x=Buffer.alloc(g);for(x.write(r);s--;)x.write("=",d++);return x.toString()}padString$1.default=padString;Object.defineProperty(base64url$2,"__esModule",{value:!0});var pad_string_1=padString$1;function encode$1(r,e){return e===void 0&&(e="utf8"),Buffer.isBuffer(r)?fromBase64(r.toString("base64")):fromBase64(Buffer.from(r,e).toString("base64"))}function decode$1(r,e){return e===void 0&&(e="utf8"),Buffer.from(toBase64(r),"base64").toString(e)}function toBase64(r){return r=r.toString(),pad_string_1.default(r).replace(/\-/g,"+").replace(/_/g,"/")}function fromBase64(r){return r.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function toBuffer$1(r){return Buffer.from(toBase64(r),"base64")}var base64url$1=encode$1;base64url$1.encode=encode$1;base64url$1.decode=decode$1;base64url$1.toBase64=toBase64;base64url$1.fromBase64=fromBase64;base64url$1.toBuffer=toBuffer$1;base64url$2.default=base64url$1;(function(r){r.exports=base64url$2.default,r.exports.default=r.exports})(base64url$3);var base64urlExports=base64url$3.exports;const base64url=getDefaultExportFromCjs$1(base64urlExports);function toDate(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function constructFrom(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function addMilliseconds(r,e){const a=+toDate(r);return constructFrom(r,a+e)}const millisecondsInHour=36e5;function addHours(r,e){return addMilliseconds(r,e*millisecondsInHour)}var lib={};function commonjsRequire(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFast={exports:{}},cryptoBrowserify={};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var browser$c={exports:{}},process=browser$c.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(r){if(cachedSetTimeout===setTimeout)return setTimeout(r,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(r,0);try{return cachedSetTimeout(r,0)}catch{try{return cachedSetTimeout.call(null,r,0)}catch{return cachedSetTimeout.call(this,r,0)}}}function runClearTimeout(r){if(cachedClearTimeout===clearTimeout)return clearTimeout(r);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(r);try{return cachedClearTimeout(r)}catch{try{return cachedClearTimeout.call(null,r)}catch{return cachedClearTimeout.call(this,r)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var r=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(r)}}process.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)e[a-1]=arguments[a];queue.push(new Item(r,e)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(r,e){this.fun=r,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(r){return[]};process.binding=function(r){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(r){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$c.exports;const process$1=getDefaultExportFromCjs(browserExports);var browser$b={exports:{}},safeBuffer$1={exports:{}};const require$$0$1=getAugmentedNamespace(dist);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(r,e){var a=require$$0$1,u=a.Buffer;function d(g,x){for(var _ in g)x[_]=g[_]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?r.exports=a:(d(a,e),e.Buffer=s);function s(g,x,_){return u(g,x,_)}s.prototype=Object.create(u.prototype),d(u,s),s.from=function(g,x,_){if(typeof g=="number")throw new TypeError("Argument must not be a number");return u(g,x,_)},s.alloc=function(g,x,_){if(typeof g!="number")throw new TypeError("Argument must be a number");var S=u(g);return x!==void 0?typeof _=="string"?S.fill(x,_):S.fill(x):S.fill(0),S},s.allocUnsafe=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return u(g)},s.allocUnsafeSlow=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(g)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b.exports;hasRequiredBrowser$b=1;var r=65536,e=4294967295;function a(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var u=requireSafeBuffer$1().Buffer,d=commonjsGlobal.crypto||commonjsGlobal.msCrypto;d&&d.getRandomValues?browser$b.exports=s:browser$b.exports=a;function s(g,x){if(g>e)throw new RangeError("requested too many random bytes");var _=u.allocUnsafe(g);if(g>0)if(g>r)for(var S=0;S<g;S+=r)d.getRandomValues(_.slice(S,S+r));else d.getRandomValues(_);return typeof x=="function"?process$1.nextTick(function(){x(null,_)}):_}return browser$b.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(e,a){a&&(e.super_=a,e.prototype=Object.create(a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,a){if(a){e.super_=a;var u=function(){};u.prototype=a.prototype,e.prototype=new u,e.prototype.constructor=e}}),inherits_browser.exports}var events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(ee,se,Ee){return Function.prototype.apply.call(ee,se,Ee)},a;r&&typeof r.ownKeys=="function"?a=r.ownKeys:Object.getOwnPropertySymbols?a=function(ee){return Object.getOwnPropertyNames(ee).concat(Object.getOwnPropertySymbols(ee))}:a=function(ee){return Object.getOwnPropertyNames(ee)};function u(j){console&&console.warn&&console.warn(j)}var d=Number.isNaN||function(ee){return ee!==ee};function s(){s.init.call(this)}events.exports=s,events.exports.once=k,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var g=10;function x(j){if(typeof j!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof j)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(j){if(typeof j!="number"||j<0||d(j))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+j+".");g=j}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(ee){if(typeof ee!="number"||ee<0||d(ee))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ee+".");return this._maxListeners=ee,this};function _(j){return j._maxListeners===void 0?s.defaultMaxListeners:j._maxListeners}s.prototype.getMaxListeners=function(){return _(this)},s.prototype.emit=function(ee){for(var se=[],Ee=1;Ee<arguments.length;Ee++)se.push(arguments[Ee]);var ge=ee==="error",oe=this._events;if(oe!==void 0)ge=ge&&oe.error===void 0;else if(!ge)return!1;if(ge){var Le;if(se.length>0&&(Le=se[0]),Le instanceof Error)throw Le;var E=new Error("Unhandled error."+(Le?" ("+Le.message+")":""));throw E.context=Le,E}var t=oe[ee];if(t===void 0)return!1;if(typeof t=="function")e(t,this,se);else for(var o=t.length,c=q(t,o),Ee=0;Ee<o;++Ee)e(c[Ee],this,se);return!0};function S(j,ee,se,Ee){var ge,oe,Le;if(x(se),oe=j._events,oe===void 0?(oe=j._events=Object.create(null),j._eventsCount=0):(oe.newListener!==void 0&&(j.emit("newListener",ee,se.listener?se.listener:se),oe=j._events),Le=oe[ee]),Le===void 0)Le=oe[ee]=se,++j._eventsCount;else if(typeof Le=="function"?Le=oe[ee]=Ee?[se,Le]:[Le,se]:Ee?Le.unshift(se):Le.push(se),ge=_(j),ge>0&&Le.length>ge&&!Le.warned){Le.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+Le.length+" "+String(ee)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=j,E.type=ee,E.count=Le.length,u(E)}return j}s.prototype.addListener=function(ee,se){return S(this,ee,se,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(ee,se){return S(this,ee,se,!0)};function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(j,ee,se){var Ee={fired:!1,wrapFn:void 0,target:j,type:ee,listener:se},ge=y.bind(Ee);return ge.listener=se,Ee.wrapFn=ge,ge}s.prototype.once=function(ee,se){return x(se),this.on(ee,A(this,ee,se)),this},s.prototype.prependOnceListener=function(ee,se){return x(se),this.prependListener(ee,A(this,ee,se)),this},s.prototype.removeListener=function(ee,se){var Ee,ge,oe,Le,E;if(x(se),ge=this._events,ge===void 0)return this;if(Ee=ge[ee],Ee===void 0)return this;if(Ee===se||Ee.listener===se)--this._eventsCount===0?this._events=Object.create(null):(delete ge[ee],ge.removeListener&&this.emit("removeListener",ee,Ee.listener||se));else if(typeof Ee!="function"){for(oe=-1,Le=Ee.length-1;Le>=0;Le--)if(Ee[Le]===se||Ee[Le].listener===se){E=Ee[Le].listener,oe=Le;break}if(oe<0)return this;oe===0?Ee.shift():C(Ee,oe),Ee.length===1&&(ge[ee]=Ee[0]),ge.removeListener!==void 0&&this.emit("removeListener",ee,E||se)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(ee){var se,Ee,ge;if(Ee=this._events,Ee===void 0)return this;if(Ee.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Ee[ee]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Ee[ee]),this;if(arguments.length===0){var oe=Object.keys(Ee),Le;for(ge=0;ge<oe.length;++ge)Le=oe[ge],Le!=="removeListener"&&this.removeAllListeners(Le);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(se=Ee[ee],typeof se=="function")this.removeListener(ee,se);else if(se!==void 0)for(ge=se.length-1;ge>=0;ge--)this.removeListener(ee,se[ge]);return this};function R(j,ee,se){var Ee=j._events;if(Ee===void 0)return[];var ge=Ee[ee];return ge===void 0?[]:typeof ge=="function"?se?[ge.listener||ge]:[ge]:se?N(ge):q(ge,ge.length)}s.prototype.listeners=function(ee){return R(this,ee,!0)},s.prototype.rawListeners=function(ee){return R(this,ee,!1)},s.listenerCount=function(j,ee){return typeof j.listenerCount=="function"?j.listenerCount(ee):B.call(j,ee)},s.prototype.listenerCount=B;function B(j){var ee=this._events;if(ee!==void 0){var se=ee[j];if(typeof se=="function")return 1;if(se!==void 0)return se.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]};function q(j,ee){for(var se=new Array(ee),Ee=0;Ee<ee;++Ee)se[Ee]=j[Ee];return se}function C(j,ee){for(;ee+1<j.length;ee++)j[ee]=j[ee+1];j.pop()}function N(j){for(var ee=new Array(j.length),se=0;se<ee.length;++se)ee[se]=j[se].listener||j[se];return ee}function k(j,ee){return new Promise(function(se,Ee){function ge(Le){j.removeListener(ee,oe),Ee(Le)}function oe(){typeof j.removeListener=="function"&&j.removeListener("error",ge),se([].slice.call(arguments))}U(j,ee,oe,{once:!0}),ee!=="error"&&L(j,ge,{once:!0})})}function L(j,ee,se){typeof j.on=="function"&&U(j,"error",ee,se)}function U(j,ee,se,Ee){if(typeof j.on=="function")Ee.once?j.once(ee,se):j.on(ee,se);else if(typeof j.addEventListener=="function")j.addEventListener(ee,function ge(oe){Ee.once&&j.removeEventListener(ee,ge),se(oe)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof j)}return events.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util$2={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},a=Symbol("test"),u=Object(a);if(typeof a=="string"||Object.prototype.toString.call(a)!=="[object Symbol]"||Object.prototype.toString.call(u)!=="[object Symbol]")return!1;var d=42;e[a]=d;for(a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==a||!Object.prototype.propertyIsEnumerable.call(e,a))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var g=Object.getOwnPropertyDescriptor(e,a);if(g.value!==d||g.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var r=requireShams$1();return shams=function(){return r()&&!!Symbol.toStringTag},shams}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var r=typeof Symbol<"u"&&Symbol,e=requireShams$1();return hasSymbols=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},hasSymbols}var hasProto,hasRequiredHasProto;function requireHasProto(){if(hasRequiredHasProto)return hasProto;hasRequiredHasProto=1;var r={__proto__:null,foo:{}},e=Object;return hasProto=function(){return{__proto__:r}.foo===r.foo&&!(r instanceof e)},hasProto}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,a=Math.max,u="[object Function]",d=function(_,S){for(var y=[],A=0;A<_.length;A+=1)y[A]=_[A];for(var R=0;R<S.length;R+=1)y[R+_.length]=S[R];return y},s=function(_,S){for(var y=[],A=S,R=0;A<_.length;A+=1,R+=1)y[R]=_[A];return y},g=function(x,_){for(var S="",y=0;y<x.length;y+=1)S+=x[y],y+1<x.length&&(S+=_);return S};return implementation=function(_){var S=this;if(typeof S!="function"||e.apply(S)!==u)throw new TypeError(r+S);for(var y=s(arguments,1),A,R=function(){if(this instanceof A){var k=S.apply(this,d(y,arguments));return Object(k)===k?k:this}return S.apply(_,d(y,arguments))},B=a(0,S.length-y.length),q=[],C=0;C<B;C++)q[C]="$"+C;if(A=Function("binder","return function ("+g(q,",")+"){ return binder.apply(this,arguments); }")(R),S.prototype){var N=function(){};N.prototype=S.prototype,A.prototype=new N,N.prototype=null}return A},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var r=requireImplementation();return functionBind=Function.prototype.bind||r,functionBind}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,a=requireFunctionBind();return hasown=a.call(r,e),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var r,e=requireEsErrors(),a=require_eval(),u=requireRange(),d=requireRef(),s=requireSyntax(),g=requireType(),x=requireUri(),_=Function,S=function(w){try{return _('"use strict"; return ('+w+").constructor;")()}catch{}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch{y=null}var A=function(){throw new g},R=y?function(){try{return arguments.callee,A}catch{try{return y(arguments,"callee").get}catch{return A}}}():A,B=requireHasSymbols()(),q=requireHasProto()(),C=Object.getPrototypeOf||(q?function(w){return w.__proto__}:null),N={},k=typeof Uint8Array>"u"||!C?r:C(Uint8Array),L={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":B&&C?C([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":N,"%AsyncGenerator%":N,"%AsyncGeneratorFunction%":N,"%AsyncIteratorPrototype%":N,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":a,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":_,"%GeneratorFunction%":N,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":B&&C?C(C([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!B||!C?r:C(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":u,"%ReferenceError%":d,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!B||!C?r:C(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":B&&C?C(""[Symbol.iterator]()):r,"%Symbol%":B?Symbol:r,"%SyntaxError%":s,"%ThrowTypeError%":R,"%TypedArray%":k,"%TypeError%":g,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":x,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(C)try{null.error}catch(w){var U=C(C(w));L["%Error.prototype%"]=U}var j=function w(M){var m;if(M==="%AsyncFunction%")m=S("async function () {}");else if(M==="%GeneratorFunction%")m=S("function* () {}");else if(M==="%AsyncGeneratorFunction%")m=S("async function* () {}");else if(M==="%AsyncGenerator%"){var n=w("%AsyncGeneratorFunction%");n&&(m=n.prototype)}else if(M==="%AsyncIteratorPrototype%"){var b=w("%AsyncGenerator%");b&&C&&(m=C(b.prototype))}return L[M]=m,m},ee={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},se=requireFunctionBind(),Ee=requireHasown(),ge=se.call(Function.call,Array.prototype.concat),oe=se.call(Function.apply,Array.prototype.splice),Le=se.call(Function.call,String.prototype.replace),E=se.call(Function.call,String.prototype.slice),t=se.call(Function.call,RegExp.prototype.exec),o=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,c=/\\(\\)?/g,l=function(M){var m=E(M,0,1),n=E(M,-1);if(m==="%"&&n!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&m!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var b=[];return Le(M,o,function(P,I,F,Y){b[b.length]=F?Le(Y,c,"$1"):I||P}),b},v=function(M,m){var n=M,b;if(Ee(ee,n)&&(b=ee[n],n="%"+b[0]+"%"),Ee(L,n)){var P=L[n];if(P===N&&(P=j(n)),typeof P>"u"&&!m)throw new g("intrinsic "+M+" exists, but is not available. Please file an issue!");return{alias:b,name:n,value:P}}throw new s("intrinsic "+M+" does not exist!")};return getIntrinsic=function(M,m){if(typeof M!="string"||M.length===0)throw new g("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof m!="boolean")throw new g('"allowMissing" argument must be a boolean');if(t(/^%?[^%]*%?$/,M)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=l(M),b=n.length>0?n[0]:"",P=v("%"+b+"%",m),I=P.name,F=P.value,Y=!1,X=P.alias;X&&(b=X[0],oe(n,ge([0,1],X)));for(var T=1,K=!0;T<n.length;T+=1){var W=n[T],ne=E(W,0,1),ie=E(W,-1);if((ne==='"'||ne==="'"||ne==="`"||ie==='"'||ie==="'"||ie==="`")&&ne!==ie)throw new s("property names with quotes must have matching quotes");if((W==="constructor"||!K)&&(Y=!0),b+="."+W,I="%"+b+"%",Ee(L,I))F=L[I];else if(F!=null){if(!(W in F)){if(!m)throw new g("base intrinsic for "+M+" exists, but the property is not available.");return}if(y&&T+1>=n.length){var G=y(F,W);K=!!G,K&&"get"in G&&!("originalValue"in G.get)?F=G.get:F=F[W]}else K=Ee(F,W),F=F[W];K&&!Y&&(L[I]=F)}}return F},getIntrinsic}var callBind={exports:{}},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var r=requireGetIntrinsic(),e=r("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return esDefineProperty=e,esDefineProperty}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var r=requireGetIntrinsic(),e=r("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return gopd=e,gopd}var defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var r=requireEsDefineProperty(),e=requireSyntax(),a=requireType(),u=requireGopd();return defineDataProperty=function(s,g,x){if(!s||typeof s!="object"&&typeof s!="function")throw new a("`obj` must be an object or a function`");if(typeof g!="string"&&typeof g!="symbol")throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new a("`loose`, if provided, must be a boolean");var _=arguments.length>3?arguments[3]:null,S=arguments.length>4?arguments[4]:null,y=arguments.length>5?arguments[5]:null,A=arguments.length>6?arguments[6]:!1,R=!!u&&u(s,g);if(r)r(s,g,{configurable:y===null&&R?R.configurable:!y,enumerable:_===null&&R?R.enumerable:!_,value:x,writable:S===null&&R?R.writable:!S});else if(A||!_&&!S&&!y)s[g]=x;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var r=requireEsDefineProperty(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=e,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var r=requireGetIntrinsic(),e=requireDefineDataProperty(),a=requireHasPropertyDescriptors()(),u=requireGopd(),d=requireType(),s=r("%Math.floor%");return setFunctionLength=function(x,_){if(typeof x!="function")throw new d("`fn` is not a function");if(typeof _!="number"||_<0||_>4294967295||s(_)!==_)throw new d("`length` must be a positive 32-bit integer");var S=arguments.length>2&&!!arguments[2],y=!0,A=!0;if("length"in x&&u){var R=u(x,"length");R&&!R.configurable&&(y=!1),R&&!R.writable&&(A=!1)}return(y||A||!S)&&(a?e(x,"length",_,!0,!0):e(x,"length",_)),x},setFunctionLength}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(r){var e=requireFunctionBind(),a=requireGetIntrinsic(),u=requireSetFunctionLength(),d=requireType(),s=a("%Function.prototype.apply%"),g=a("%Function.prototype.call%"),x=a("%Reflect.apply%",!0)||e.call(g,s),_=requireEsDefineProperty(),S=a("%Math.max%");r.exports=function(R){if(typeof R!="function")throw new d("a function is required");var B=x(e,g,arguments);return u(B,1+S(0,R.length-(arguments.length-1)),!0)};var y=function(){return x(e,s,arguments)};_?_(r.exports,"apply",{value:y}):r.exports.apply=y}(callBind)),callBind.exports}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var r=requireGetIntrinsic(),e=requireCallBind(),a=e(r("String.prototype.indexOf"));return callBound=function(d,s){var g=r(d,!!s);return typeof g=="function"&&a(d,".prototype.")>-1?e(g):g},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var r=requireShams()(),e=requireCallBound(),a=e("Object.prototype.toString"),u=function(x){return r&&x&&typeof x=="object"&&Symbol.toStringTag in x?!1:a(x)==="[object Arguments]"},d=function(x){return u(x)?!0:x!==null&&typeof x=="object"&&typeof x.length=="number"&&x.length>=0&&a(x)!=="[object Array]"&&a(x.callee)==="[object Function]"},s=function(){return u(arguments)}();return u.isLegacyArguments=d,isArguments=s?u:d,isArguments}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var r=Object.prototype.toString,e=Function.prototype.toString,a=/^\s*(?:function)?\*/,u=requireShams()(),d=Object.getPrototypeOf,s=function(){if(!u)return!1;try{return Function("return function*() {}")()}catch{}},g;return isGeneratorFunction=function(_){if(typeof _!="function")return!1;if(a.test(e.call(_)))return!0;if(!u){var S=r.call(_);return S==="[object GeneratorFunction]"}if(!d)return!1;if(typeof g>"u"){var y=s();g=y?d(y):!1}return d(_)===g},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,a,u;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{a=Object.defineProperty({},"length",{get:function(){throw u}}),u={},e(function(){throw 42},null,a)}catch(L){L!==u&&(e=null)}else e=null;var d=/^\s*class\b/,s=function(U){try{var j=r.call(U);return d.test(j)}catch{return!1}},g=function(U){try{return s(U)?!1:(r.call(U),!0)}catch{return!1}},x=Object.prototype.toString,_="[object Object]",S="[object Function]",y="[object GeneratorFunction]",A="[object HTMLAllCollection]",R="[object HTML document.all class]",B="[object HTMLCollection]",q=typeof Symbol=="function"&&!!Symbol.toStringTag,C=!(0 in[,]),N=function(){return!1};if(typeof document=="object"){var k=document.all;x.call(k)===x.call(document.all)&&(N=function(U){if((C||!U)&&(typeof U>"u"||typeof U=="object"))try{var j=x.call(U);return(j===A||j===R||j===B||j===_)&&U("")==null}catch{}return!1})}return isCallable=e?function(U){if(N(U))return!0;if(!U||typeof U!="function"&&typeof U!="object")return!1;try{e(U,null,a)}catch(j){if(j!==u)return!1}return!s(U)&&g(U)}:function(U){if(N(U))return!0;if(!U||typeof U!="function"&&typeof U!="object")return!1;if(q)return g(U);if(s(U))return!1;var j=x.call(U);return j!==S&&j!==y&&!/^\[object HTML/.test(j)?!1:g(U)},isCallable}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var r=requireIsCallable(),e=Object.prototype.toString,a=Object.prototype.hasOwnProperty,u=function(_,S,y){for(var A=0,R=_.length;A<R;A++)a.call(_,A)&&(y==null?S(_[A],A,_):S.call(y,_[A],A,_))},d=function(_,S,y){for(var A=0,R=_.length;A<R;A++)y==null?S(_.charAt(A),A,_):S.call(y,_.charAt(A),A,_)},s=function(_,S,y){for(var A in _)a.call(_,A)&&(y==null?S(_[A],A,_):S.call(y,_[A],A,_))},g=function(_,S,y){if(!r(S))throw new TypeError("iterator must be a function");var A;arguments.length>=3&&(A=y),e.call(_)==="[object Array]"?u(_,S,A):typeof _=="string"?d(_,S,A):s(_,S,A)};return forEach_1=g,forEach_1}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var r=requirePossibleTypedArrayNames(),e=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var u=[],d=0;d<r.length;d++)typeof e[r[d]]=="function"&&(u[u.length]=r[d]);return u},availableTypedArrays}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var r=requireForEach(),e=requireAvailableTypedArrays(),a=requireCallBind(),u=requireCallBound(),d=requireGopd(),s=u("Object.prototype.toString"),g=requireShams()(),x=typeof globalThis>"u"?commonjsGlobal:globalThis,_=e(),S=u("String.prototype.slice"),y=Object.getPrototypeOf,A=u("Array.prototype.indexOf",!0)||function(N,k){for(var L=0;L<N.length;L+=1)if(N[L]===k)return L;return-1},R={__proto__:null};g&&d&&y?r(_,function(C){var N=new x[C];if(Symbol.toStringTag in N){var k=y(N),L=d(k,Symbol.toStringTag);if(!L){var U=y(k);L=d(U,Symbol.toStringTag)}R["$"+C]=a(L.get)}}):r(_,function(C){var N=new x[C],k=N.slice||N.set;k&&(R["$"+C]=a(k))});var B=function(N){var k=!1;return r(R,function(L,U){if(!k)try{"$"+L(N)===U&&(k=S(U,1))}catch{}}),k},q=function(N){var k=!1;return r(R,function(L,U){if(!k)try{L(N),k=S(U,1)}catch{}}),k};return whichTypedArray=function(N){if(!N||typeof N!="object")return!1;if(!g){var k=S(s(N),8,-1);return A(_,k)>-1?k:k!=="Object"?!1:q(N)}return d?B(N):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var r=requireWhichTypedArray();return isTypedArray=function(a){return!!r(a)},isTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(r){var e=requireIsArguments(),a=requireIsGeneratorFunction(),u=requireWhichTypedArray(),d=requireIsTypedArray();function s(le){return le.call.bind(le)}var g=typeof BigInt<"u",x=typeof Symbol<"u",_=s(Object.prototype.toString),S=s(Number.prototype.valueOf),y=s(String.prototype.valueOf),A=s(Boolean.prototype.valueOf);if(g)var R=s(BigInt.prototype.valueOf);if(x)var B=s(Symbol.prototype.valueOf);function q(le,Ze){if(typeof le!="object")return!1;try{return Ze(le),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=a,r.isTypedArray=d;function C(le){return typeof Promise<"u"&&le instanceof Promise||le!==null&&typeof le=="object"&&typeof le.then=="function"&&typeof le.catch=="function"}r.isPromise=C;function N(le){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(le):d(le)||I(le)}r.isArrayBufferView=N;function k(le){return u(le)==="Uint8Array"}r.isUint8Array=k;function L(le){return u(le)==="Uint8ClampedArray"}r.isUint8ClampedArray=L;function U(le){return u(le)==="Uint16Array"}r.isUint16Array=U;function j(le){return u(le)==="Uint32Array"}r.isUint32Array=j;function ee(le){return u(le)==="Int8Array"}r.isInt8Array=ee;function se(le){return u(le)==="Int16Array"}r.isInt16Array=se;function Ee(le){return u(le)==="Int32Array"}r.isInt32Array=Ee;function ge(le){return u(le)==="Float32Array"}r.isFloat32Array=ge;function oe(le){return u(le)==="Float64Array"}r.isFloat64Array=oe;function Le(le){return u(le)==="BigInt64Array"}r.isBigInt64Array=Le;function E(le){return u(le)==="BigUint64Array"}r.isBigUint64Array=E;function t(le){return _(le)==="[object Map]"}t.working=typeof Map<"u"&&t(new Map);function o(le){return typeof Map>"u"?!1:t.working?t(le):le instanceof Map}r.isMap=o;function c(le){return _(le)==="[object Set]"}c.working=typeof Set<"u"&&c(new Set);function l(le){return typeof Set>"u"?!1:c.working?c(le):le instanceof Set}r.isSet=l;function v(le){return _(le)==="[object WeakMap]"}v.working=typeof WeakMap<"u"&&v(new WeakMap);function w(le){return typeof WeakMap>"u"?!1:v.working?v(le):le instanceof WeakMap}r.isWeakMap=w;function M(le){return _(le)==="[object WeakSet]"}M.working=typeof WeakSet<"u"&&M(new WeakSet);function m(le){return M(le)}r.isWeakSet=m;function n(le){return _(le)==="[object ArrayBuffer]"}n.working=typeof ArrayBuffer<"u"&&n(new ArrayBuffer);function b(le){return typeof ArrayBuffer>"u"?!1:n.working?n(le):le instanceof ArrayBuffer}r.isArrayBuffer=b;function P(le){return _(le)==="[object DataView]"}P.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&P(new DataView(new ArrayBuffer(1),0,1));function I(le){return typeof DataView>"u"?!1:P.working?P(le):le instanceof DataView}r.isDataView=I;var F=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Y(le){return _(le)==="[object SharedArrayBuffer]"}function X(le){return typeof F>"u"?!1:(typeof Y.working>"u"&&(Y.working=Y(new F)),Y.working?Y(le):le instanceof F)}r.isSharedArrayBuffer=X;function T(le){return _(le)==="[object AsyncFunction]"}r.isAsyncFunction=T;function K(le){return _(le)==="[object Map Iterator]"}r.isMapIterator=K;function W(le){return _(le)==="[object Set Iterator]"}r.isSetIterator=W;function ne(le){return _(le)==="[object Generator]"}r.isGeneratorObject=ne;function ie(le){return _(le)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=ie;function G(le){return q(le,S)}r.isNumberObject=G;function H(le){return q(le,y)}r.isStringObject=H;function fe(le){return q(le,A)}r.isBooleanObject=fe;function he(le){return g&&q(le,R)}r.isBigIntObject=he;function ve(le){return x&&q(le,B)}r.isSymbolObject=ve;function ke(le){return G(le)||H(le)||fe(le)||he(le)||ve(le)}r.isBoxedPrimitive=ke;function Me(le){return typeof Uint8Array<"u"&&(b(le)||X(le))}r.isAnyArrayBuffer=Me,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(le){Object.defineProperty(r,le,{enumerable:!1,value:function(){throw new Error(le+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(r){var e={},a=Object.getOwnPropertyDescriptors||function(F){for(var Y=Object.keys(F),X={},T=0;T<Y.length;T++)X[Y[T]]=Object.getOwnPropertyDescriptor(F,Y[T]);return X},u=/%[sdj%]/g;r.format=function(I){if(!se(I)){for(var F=[],Y=0;Y<arguments.length;Y++)F.push(x(arguments[Y]));return F.join(" ")}for(var Y=1,X=arguments,T=X.length,K=String(I).replace(u,function(ne){if(ne==="%%")return"%";if(Y>=T)return ne;switch(ne){case"%s":return String(X[Y++]);case"%d":return Number(X[Y++]);case"%j":try{return JSON.stringify(X[Y++])}catch{return"[Circular]"}default:return ne}}),W=X[Y];Y<T;W=X[++Y])U(W)||!Le(W)?K+=" "+W:K+=" "+x(W);return K},r.deprecate=function(I,F){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return I;if(typeof process$1>"u")return function(){return r.deprecate(I,F).apply(this,arguments)};var Y=!1;function X(){if(!Y){if(process$1.throwDeprecation)throw new Error(F);process$1.traceDeprecation?console.trace(F):console.error(F),Y=!0}return I.apply(this,arguments)}return X};var d={},s=/^$/;if(e.NODE_DEBUG){var g=e.NODE_DEBUG;g=g.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+g+"$","i")}r.debuglog=function(I){if(I=I.toUpperCase(),!d[I])if(s.test(I)){var F=process$1.pid;d[I]=function(){var Y=r.format.apply(r,arguments);console.error("%s %d: %s",I,F,Y)}}else d[I]=function(){};return d[I]};function x(I,F){var Y={seen:[],stylize:S};return arguments.length>=3&&(Y.depth=arguments[2]),arguments.length>=4&&(Y.colors=arguments[3]),L(F)?Y.showHidden=F:F&&r._extend(Y,F),ge(Y.showHidden)&&(Y.showHidden=!1),ge(Y.depth)&&(Y.depth=2),ge(Y.colors)&&(Y.colors=!1),ge(Y.customInspect)&&(Y.customInspect=!0),Y.colors&&(Y.stylize=_),A(Y,I,Y.depth)}r.inspect=x,x.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},x.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function _(I,F){var Y=x.styles[F];return Y?"\x1B["+x.colors[Y][0]+"m"+I+"\x1B["+x.colors[Y][1]+"m":I}function S(I,F){return I}function y(I){var F={};return I.forEach(function(Y,X){F[Y]=!0}),F}function A(I,F,Y){if(I.customInspect&&F&&o(F.inspect)&&F.inspect!==r.inspect&&!(F.constructor&&F.constructor.prototype===F)){var X=F.inspect(Y,I);return se(X)||(X=A(I,X,Y)),X}var T=R(I,F);if(T)return T;var K=Object.keys(F),W=y(K);if(I.showHidden&&(K=Object.getOwnPropertyNames(F)),t(F)&&(K.indexOf("message")>=0||K.indexOf("description")>=0))return B(F);if(K.length===0){if(o(F)){var ne=F.name?": "+F.name:"";return I.stylize("[Function"+ne+"]","special")}if(oe(F))return I.stylize(RegExp.prototype.toString.call(F),"regexp");if(E(F))return I.stylize(Date.prototype.toString.call(F),"date");if(t(F))return B(F)}var ie="",G=!1,H=["{","}"];if(k(F)&&(G=!0,H=["[","]"]),o(F)){var fe=F.name?": "+F.name:"";ie=" [Function"+fe+"]"}if(oe(F)&&(ie=" "+RegExp.prototype.toString.call(F)),E(F)&&(ie=" "+Date.prototype.toUTCString.call(F)),t(F)&&(ie=" "+B(F)),K.length===0&&(!G||F.length==0))return H[0]+ie+H[1];if(Y<0)return oe(F)?I.stylize(RegExp.prototype.toString.call(F),"regexp"):I.stylize("[Object]","special");I.seen.push(F);var he;return G?he=q(I,F,Y,W,K):he=K.map(function(ve){return C(I,F,Y,W,ve,G)}),I.seen.pop(),N(he,ie,H)}function R(I,F){if(ge(F))return I.stylize("undefined","undefined");if(se(F)){var Y="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return I.stylize(Y,"string")}if(ee(F))return I.stylize(""+F,"number");if(L(F))return I.stylize(""+F,"boolean");if(U(F))return I.stylize("null","null")}function B(I){return"["+Error.prototype.toString.call(I)+"]"}function q(I,F,Y,X,T){for(var K=[],W=0,ne=F.length;W<ne;++W)m(F,String(W))?K.push(C(I,F,Y,X,String(W),!0)):K.push("");return T.forEach(function(ie){ie.match(/^\d+$/)||K.push(C(I,F,Y,X,ie,!0))}),K}function C(I,F,Y,X,T,K){var W,ne,ie;if(ie=Object.getOwnPropertyDescriptor(F,T)||{value:F[T]},ie.get?ie.set?ne=I.stylize("[Getter/Setter]","special"):ne=I.stylize("[Getter]","special"):ie.set&&(ne=I.stylize("[Setter]","special")),m(X,T)||(W="["+T+"]"),ne||(I.seen.indexOf(ie.value)<0?(U(Y)?ne=A(I,ie.value,null):ne=A(I,ie.value,Y-1),ne.indexOf(`
`)>-1&&(K?ne=ne.split(`
`).map(function(G){return"  "+G}).join(`
`).slice(2):ne=`
`+ne.split(`
`).map(function(G){return"   "+G}).join(`
`))):ne=I.stylize("[Circular]","special")),ge(W)){if(K&&T.match(/^\d+$/))return ne;W=JSON.stringify(""+T),W.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(W=W.slice(1,-1),W=I.stylize(W,"name")):(W=W.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),W=I.stylize(W,"string"))}return W+": "+ne}function N(I,F,Y){var X=I.reduce(function(T,K){return K.indexOf(`
`)>=0,T+K.replace(/\u001b\[\d\d?m/g,"").length+1},0);return X>60?Y[0]+(F===""?"":F+`
 `)+" "+I.join(`,
  `)+" "+Y[1]:Y[0]+F+" "+I.join(", ")+" "+Y[1]}r.types=requireTypes();function k(I){return Array.isArray(I)}r.isArray=k;function L(I){return typeof I=="boolean"}r.isBoolean=L;function U(I){return I===null}r.isNull=U;function j(I){return I==null}r.isNullOrUndefined=j;function ee(I){return typeof I=="number"}r.isNumber=ee;function se(I){return typeof I=="string"}r.isString=se;function Ee(I){return typeof I=="symbol"}r.isSymbol=Ee;function ge(I){return I===void 0}r.isUndefined=ge;function oe(I){return Le(I)&&l(I)==="[object RegExp]"}r.isRegExp=oe,r.types.isRegExp=oe;function Le(I){return typeof I=="object"&&I!==null}r.isObject=Le;function E(I){return Le(I)&&l(I)==="[object Date]"}r.isDate=E,r.types.isDate=E;function t(I){return Le(I)&&(l(I)==="[object Error]"||I instanceof Error)}r.isError=t,r.types.isNativeError=t;function o(I){return typeof I=="function"}r.isFunction=o;function c(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||typeof I=="symbol"||typeof I>"u"}r.isPrimitive=c,r.isBuffer=requireIsBufferBrowser();function l(I){return Object.prototype.toString.call(I)}function v(I){return I<10?"0"+I.toString(10):I.toString(10)}var w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var I=new Date,F=[v(I.getHours()),v(I.getMinutes()),v(I.getSeconds())].join(":");return[I.getDate(),w[I.getMonth()],F].join(" ")}r.log=function(){console.log("%s - %s",M(),r.format.apply(r,arguments))},r.inherits=requireInherits_browser(),r._extend=function(I,F){if(!F||!Le(F))return I;for(var Y=Object.keys(F),X=Y.length;X--;)I[Y[X]]=F[Y[X]];return I};function m(I,F){return Object.prototype.hasOwnProperty.call(I,F)}var n=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');if(n&&F[n]){var Y=F[n];if(typeof Y!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Y,n,{value:Y,enumerable:!1,writable:!1,configurable:!0}),Y}function Y(){for(var X,T,K=new Promise(function(ie,G){X=ie,T=G}),W=[],ne=0;ne<arguments.length;ne++)W.push(arguments[ne]);W.push(function(ie,G){ie?T(ie):X(G)});try{F.apply(this,W)}catch(ie){T(ie)}return K}return Object.setPrototypeOf(Y,Object.getPrototypeOf(F)),n&&Object.defineProperty(Y,n,{value:Y,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Y,a(F))},r.promisify.custom=n;function b(I,F){if(!I){var Y=new Error("Promise was rejected with a falsy value");Y.reason=I,I=Y}return F(I)}function P(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');function F(){for(var Y=[],X=0;X<arguments.length;X++)Y.push(arguments[X]);var T=Y.pop();if(typeof T!="function")throw new TypeError("The last argument must be of type Function");var K=this,W=function(){return T.apply(K,arguments)};I.apply(this,Y).then(function(ne){process$1.nextTick(W.bind(null,null,ne))},function(ne){process$1.nextTick(b.bind(null,ne,W))})}return Object.setPrototypeOf(F,Object.getPrototypeOf(I)),Object.defineProperties(F,a(I)),F}r.callbackify=P}(util$2)),util$2}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function r(q,C){var N=Object.keys(q);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(q);C&&(k=k.filter(function(L){return Object.getOwnPropertyDescriptor(q,L).enumerable})),N.push.apply(N,k)}return N}function e(q){for(var C=1;C<arguments.length;C++){var N=arguments[C]!=null?arguments[C]:{};C%2?r(Object(N),!0).forEach(function(k){a(q,k,N[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(N)):r(Object(N)).forEach(function(k){Object.defineProperty(q,k,Object.getOwnPropertyDescriptor(N,k))})}return q}function a(q,C,N){return C=g(C),C in q?Object.defineProperty(q,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):q[C]=N,q}function u(q,C){if(!(q instanceof C))throw new TypeError("Cannot call a class as a function")}function d(q,C){for(var N=0;N<C.length;N++){var k=C[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(q,g(k.key),k)}}function s(q,C,N){return C&&d(q.prototype,C),Object.defineProperty(q,"prototype",{writable:!1}),q}function g(q){var C=x(q,"string");return typeof C=="symbol"?C:String(C)}function x(q,C){if(typeof q!="object"||q===null)return q;var N=q[Symbol.toPrimitive];if(N!==void 0){var k=N.call(q,C||"default");if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(q)}var _=require$$0$1,S=_.Buffer,y=requireUtil$1(),A=y.inspect,R=A&&A.custom||"inspect";function B(q,C,N){S.prototype.copy.call(q,C,N)}return buffer_list=function(){function q(){u(this,q),this.head=null,this.tail=null,this.length=0}return s(q,[{key:"push",value:function(N){var k={data:N,next:null};this.length>0?this.tail.next=k:this.head=k,this.tail=k,++this.length}},{key:"unshift",value:function(N){var k={data:N,next:this.head};this.length===0&&(this.tail=k),this.head=k,++this.length}},{key:"shift",value:function(){if(this.length!==0){var N=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,N}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(N){if(this.length===0)return"";for(var k=this.head,L=""+k.data;k=k.next;)L+=N+k.data;return L}},{key:"concat",value:function(N){if(this.length===0)return S.alloc(0);for(var k=S.allocUnsafe(N>>>0),L=this.head,U=0;L;)B(L.data,k,U),U+=L.data.length,L=L.next;return k}},{key:"consume",value:function(N,k){var L;return N<this.head.data.length?(L=this.head.data.slice(0,N),this.head.data=this.head.data.slice(N)):N===this.head.data.length?L=this.shift():L=k?this._getString(N):this._getBuffer(N),L}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(N){var k=this.head,L=1,U=k.data;for(N-=U.length;k=k.next;){var j=k.data,ee=N>j.length?j.length:N;if(ee===j.length?U+=j:U+=j.slice(0,N),N-=ee,N===0){ee===j.length?(++L,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=j.slice(ee));break}++L}return this.length-=L,U}},{key:"_getBuffer",value:function(N){var k=S.allocUnsafe(N),L=this.head,U=1;for(L.data.copy(k),N-=L.data.length;L=L.next;){var j=L.data,ee=N>j.length?j.length:N;if(j.copy(k,k.length-N,0,ee),N-=ee,N===0){ee===j.length?(++U,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=j.slice(ee));break}++U}return this.length-=U,k}},{key:R,value:function(N,k){return A(this,e(e({},k),{},{depth:0,customInspect:!1}))}}]),q}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function r(g,x){var _=this,S=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return S||y?(x?x(g):g&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(d,this,g)):process$1.nextTick(d,this,g)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(g||null,function(A){!x&&A?_._writableState?_._writableState.errorEmitted?process$1.nextTick(a,_):(_._writableState.errorEmitted=!0,process$1.nextTick(e,_,A)):process$1.nextTick(e,_,A):x?(process$1.nextTick(a,_),x(A)):process$1.nextTick(a,_)}),this)}function e(g,x){d(g,x),a(g)}function a(g){g._writableState&&!g._writableState.emitClose||g._readableState&&!g._readableState.emitClose||g.emit("close")}function u(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(g,x){g.emit("error",x)}function s(g,x){var _=g._readableState,S=g._writableState;_&&_.autoDestroy||S&&S.autoDestroy?g.destroy(x):g.emit("error",x)}return destroy_1$1={destroy:r,undestroy:u,errorOrDestroy:s},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function r(x,_){x.prototype=Object.create(_.prototype),x.prototype.constructor=x,x.__proto__=_}var e={};function a(x,_,S){S||(S=Error);function y(R,B,q){return typeof _=="string"?_:_(R,B,q)}var A=function(R){r(B,R);function B(q,C,N){return R.call(this,y(q,C,N))||this}return B}(S);A.prototype.name=S.name,A.prototype.code=x,e[x]=A}function u(x,_){if(Array.isArray(x)){var S=x.length;return x=x.map(function(y){return String(y)}),S>2?"one of ".concat(_," ").concat(x.slice(0,S-1).join(", "),", or ")+x[S-1]:S===2?"one of ".concat(_," ").concat(x[0]," or ").concat(x[1]):"of ".concat(_," ").concat(x[0])}else return"of ".concat(_," ").concat(String(x))}function d(x,_,S){return x.substr(0,_.length)===_}function s(x,_,S){return(S===void 0||S>x.length)&&(S=x.length),x.substring(S-_.length,S)===_}function g(x,_,S){return typeof S!="number"&&(S=0),S+_.length>x.length?!1:x.indexOf(_,S)!==-1}return a("ERR_INVALID_OPT_VALUE",function(x,_){return'The value "'+_+'" is invalid for option "'+x+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(x,_,S){var y;typeof _=="string"&&d(_,"not ")?(y="must not be",_=_.replace(/^not /,"")):y="must be";var A;if(s(x," argument"))A="The ".concat(x," ").concat(y," ").concat(u(_,"type"));else{var R=g(x,".")?"property":"argument";A='The "'.concat(x,'" ').concat(R," ").concat(y," ").concat(u(_,"type"))}return A+=". Received type ".concat(typeof S),A},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(x){return"The "+x+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(x){return"Cannot call "+x+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(x){return"Unknown encoding: "+x},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=e,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var r=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function e(u,d,s){return u.highWaterMark!=null?u.highWaterMark:d?u[s]:null}function a(u,d,s,g){var x=e(d,g,s);if(x!=null){if(!(isFinite(x)&&Math.floor(x)===x)||x<0){var _=g?s:"highWaterMark";throw new r(_,x)}return Math.floor(x)}return u.objectMode?16:16*1024}return state={getHighWaterMark:a},state}var browser$a,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$a;hasRequiredBrowser$a=1,browser$a=r;function r(a,u){if(e("noDeprecation"))return a;var d=!1;function s(){if(!d){if(e("throwDeprecation"))throw new Error(u);e("traceDeprecation")?console.trace(u):console.warn(u),d=!0}return a.apply(this,arguments)}return s}function e(a){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var u=commonjsGlobal.localStorage[a];return u==null?!1:String(u).toLowerCase()==="true"}return browser$a}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=ge;function r(X){var T=this;this.next=null,this.entry=null,this.finish=function(){Y(T,X)}}var e;ge.WritableState=se;var a={deprecate:requireBrowser$a()},u=requireStreamBrowser$1(),d=require$$0$1.Buffer,s=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function g(X){return d.from(X)}function x(X){return d.isBuffer(X)||X instanceof s}var _=requireDestroy$1(),S=requireState(),y=S.getHighWaterMark,A=requireErrorsBrowser().codes,R=A.ERR_INVALID_ARG_TYPE,B=A.ERR_METHOD_NOT_IMPLEMENTED,q=A.ERR_MULTIPLE_CALLBACK,C=A.ERR_STREAM_CANNOT_PIPE,N=A.ERR_STREAM_DESTROYED,k=A.ERR_STREAM_NULL_VALUES,L=A.ERR_STREAM_WRITE_AFTER_END,U=A.ERR_UNKNOWN_ENCODING,j=_.errorOrDestroy;requireInherits_browser()(ge,u);function ee(){}function se(X,T,K){e=e||require_stream_duplex$1(),X=X||{},typeof K!="boolean"&&(K=T instanceof e),this.objectMode=!!X.objectMode,K&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=y(this,X,"writableHighWaterMark",K),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var W=X.decodeStrings===!1;this.decodeStrings=!W,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ne){v(T,ne)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}se.prototype.getBuffer=function(){for(var T=this.bufferedRequest,K=[];T;)K.push(T),T=T.next;return K},function(){try{Object.defineProperty(se.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Ee;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ee=Function.prototype[Symbol.hasInstance],Object.defineProperty(ge,Symbol.hasInstance,{value:function(T){return Ee.call(this,T)?!0:this!==ge?!1:T&&T._writableState instanceof se}})):Ee=function(T){return T instanceof this};function ge(X){e=e||require_stream_duplex$1();var T=this instanceof e;if(!T&&!Ee.call(ge,this))return new ge(X);this._writableState=new se(X,this,T),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),u.call(this)}ge.prototype.pipe=function(){j(this,new C)};function oe(X,T){var K=new L;j(X,K),process$1.nextTick(T,K)}function Le(X,T,K,W){var ne;return K===null?ne=new k:typeof K!="string"&&!T.objectMode&&(ne=new R("chunk",["string","Buffer"],K)),ne?(j(X,ne),process$1.nextTick(W,ne),!1):!0}ge.prototype.write=function(X,T,K){var W=this._writableState,ne=!1,ie=!W.objectMode&&x(X);return ie&&!d.isBuffer(X)&&(X=g(X)),typeof T=="function"&&(K=T,T=null),ie?T="buffer":T||(T=W.defaultEncoding),typeof K!="function"&&(K=ee),W.ending?oe(this,K):(ie||Le(this,W,X,K))&&(W.pendingcb++,ne=t(this,W,ie,X,T,K)),ne},ge.prototype.cork=function(){this._writableState.corked++},ge.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&m(this,X))},ge.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=T.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((T+"").toLowerCase())>-1))throw new U(T);return this._writableState.defaultEncoding=T,this},Object.defineProperty(ge.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function E(X,T,K){return!X.objectMode&&X.decodeStrings!==!1&&typeof T=="string"&&(T=d.from(T,K)),T}Object.defineProperty(ge.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function t(X,T,K,W,ne,ie){if(!K){var G=E(T,W,ne);W!==G&&(K=!0,ne="buffer",W=G)}var H=T.objectMode?1:W.length;T.length+=H;var fe=T.length<T.highWaterMark;if(fe||(T.needDrain=!0),T.writing||T.corked){var he=T.lastBufferedRequest;T.lastBufferedRequest={chunk:W,encoding:ne,isBuf:K,callback:ie,next:null},he?he.next=T.lastBufferedRequest:T.bufferedRequest=T.lastBufferedRequest,T.bufferedRequestCount+=1}else o(X,T,!1,H,W,ne,ie);return fe}function o(X,T,K,W,ne,ie,G){T.writelen=W,T.writecb=G,T.writing=!0,T.sync=!0,T.destroyed?T.onwrite(new N("write")):K?X._writev(ne,T.onwrite):X._write(ne,ie,T.onwrite),T.sync=!1}function c(X,T,K,W,ne){--T.pendingcb,K?(process$1.nextTick(ne,W),process$1.nextTick(I,X,T),X._writableState.errorEmitted=!0,j(X,W)):(ne(W),X._writableState.errorEmitted=!0,j(X,W),I(X,T))}function l(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function v(X,T){var K=X._writableState,W=K.sync,ne=K.writecb;if(typeof ne!="function")throw new q;if(l(K),T)c(X,K,W,T,ne);else{var ie=n(K)||X.destroyed;!ie&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&m(X,K),W?process$1.nextTick(w,X,K,ie,ne):w(X,K,ie,ne)}}function w(X,T,K,W){K||M(X,T),T.pendingcb--,W(),I(X,T)}function M(X,T){T.length===0&&T.needDrain&&(T.needDrain=!1,X.emit("drain"))}function m(X,T){T.bufferProcessing=!0;var K=T.bufferedRequest;if(X._writev&&K&&K.next){var W=T.bufferedRequestCount,ne=new Array(W),ie=T.corkedRequestsFree;ie.entry=K;for(var G=0,H=!0;K;)ne[G]=K,K.isBuf||(H=!1),K=K.next,G+=1;ne.allBuffers=H,o(X,T,!0,T.length,ne,"",ie.finish),T.pendingcb++,T.lastBufferedRequest=null,ie.next?(T.corkedRequestsFree=ie.next,ie.next=null):T.corkedRequestsFree=new r(T),T.bufferedRequestCount=0}else{for(;K;){var fe=K.chunk,he=K.encoding,ve=K.callback,ke=T.objectMode?1:fe.length;if(o(X,T,!1,ke,fe,he,ve),K=K.next,T.bufferedRequestCount--,T.writing)break}K===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=K,T.bufferProcessing=!1}ge.prototype._write=function(X,T,K){K(new B("_write()"))},ge.prototype._writev=null,ge.prototype.end=function(X,T,K){var W=this._writableState;return typeof X=="function"?(K=X,X=null,T=null):typeof T=="function"&&(K=T,T=null),X!=null&&this.write(X,T),W.corked&&(W.corked=1,this.uncork()),W.ending||F(this,W,K),this},Object.defineProperty(ge.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function n(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function b(X,T){X._final(function(K){T.pendingcb--,K&&j(X,K),T.prefinished=!0,X.emit("prefinish"),I(X,T)})}function P(X,T){!T.prefinished&&!T.finalCalled&&(typeof X._final=="function"&&!T.destroyed?(T.pendingcb++,T.finalCalled=!0,process$1.nextTick(b,X,T)):(T.prefinished=!0,X.emit("prefinish")))}function I(X,T){var K=n(T);if(K&&(P(X,T),T.pendingcb===0&&(T.finished=!0,X.emit("finish"),T.autoDestroy))){var W=X._readableState;(!W||W.autoDestroy&&W.endEmitted)&&X.destroy()}return K}function F(X,T,K){T.ending=!0,I(X,T),K&&(T.finished?process$1.nextTick(K):X.once("finish",K)),T.ended=!0,X.writable=!1}function Y(X,T,K){var W=X.entry;for(X.entry=null;W;){var ne=W.callback;T.pendingcb--,ne(K),W=W.next}T.corkedRequestsFree.next=X}return Object.defineProperty(ge.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(T){this._writableState&&(this._writableState.destroyed=T)}}),ge.prototype.destroy=_.destroy,ge.prototype._undestroy=_.undestroy,ge.prototype._destroy=function(X,T){T(X)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var r=Object.keys||function(S){var y=[];for(var A in S)y.push(A);return y};_stream_duplex$1=g;var e=require_stream_readable$1(),a=require_stream_writable$1();requireInherits_browser()(g,e);for(var u=r(a.prototype),d=0;d<u.length;d++){var s=u[d];g.prototype[s]||(g.prototype[s]=a.prototype[s])}function g(S){if(!(this instanceof g))return new g(S);e.call(this,S),a.call(this,S),this.allowHalfOpen=!0,S&&(S.readable===!1&&(this.readable=!1),S.writable===!1&&(this.writable=!1),S.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",x)))}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function x(){this._writableState.ended||process$1.nextTick(_,this)}function _(S){S.end()}return Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var r=requireSafeBuffer$1().Buffer,e=r.isEncoding||function(k){switch(k=""+k,k&&k.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(k){if(!k)return"utf8";for(var L;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(L)return;k=(""+k).toLowerCase(),L=!0}}function u(k){var L=a(k);if(typeof L!="string"&&(r.isEncoding===e||!e(k)))throw new Error("Unknown encoding: "+k);return L||k}string_decoder.StringDecoder=d;function d(k){this.encoding=u(k);var L;switch(this.encoding){case"utf16le":this.text=A,this.end=R,L=4;break;case"utf8":this.fillLast=_,L=4;break;case"base64":this.text=B,this.end=q,L=3;break;default:this.write=C,this.end=N;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(L)}d.prototype.write=function(k){if(k.length===0)return"";var L,U;if(this.lastNeed){if(L=this.fillLast(k),L===void 0)return"";U=this.lastNeed,this.lastNeed=0}else U=0;return U<k.length?L?L+this.text(k,U):this.text(k,U):L||""},d.prototype.end=y,d.prototype.text=S,d.prototype.fillLast=function(k){if(this.lastNeed<=k.length)return k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,k.length),this.lastNeed-=k.length};function s(k){return k<=127?0:k>>5===6?2:k>>4===14?3:k>>3===30?4:k>>6===2?-1:-2}function g(k,L,U){var j=L.length-1;if(j<U)return 0;var ee=s(L[j]);return ee>=0?(ee>0&&(k.lastNeed=ee-1),ee):--j<U||ee===-2?0:(ee=s(L[j]),ee>=0?(ee>0&&(k.lastNeed=ee-2),ee):--j<U||ee===-2?0:(ee=s(L[j]),ee>=0?(ee>0&&(ee===2?ee=0:k.lastNeed=ee-3),ee):0))}function x(k,L,U){if((L[0]&192)!==128)return k.lastNeed=0,"�";if(k.lastNeed>1&&L.length>1){if((L[1]&192)!==128)return k.lastNeed=1,"�";if(k.lastNeed>2&&L.length>2&&(L[2]&192)!==128)return k.lastNeed=2,"�"}}function _(k){var L=this.lastTotal-this.lastNeed,U=x(this,k);if(U!==void 0)return U;if(this.lastNeed<=k.length)return k.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);k.copy(this.lastChar,L,0,k.length),this.lastNeed-=k.length}function S(k,L){var U=g(this,k,L);if(!this.lastNeed)return k.toString("utf8",L);this.lastTotal=U;var j=k.length-(U-this.lastNeed);return k.copy(this.lastChar,0,j),k.toString("utf8",L,j)}function y(k){var L=k&&k.length?this.write(k):"";return this.lastNeed?L+"�":L}function A(k,L){if((k.length-L)%2===0){var U=k.toString("utf16le",L);if(U){var j=U.charCodeAt(U.length-1);if(j>=55296&&j<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1],U.slice(0,-1)}return U}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=k[k.length-1],k.toString("utf16le",L,k.length-1)}function R(k){var L=k&&k.length?this.write(k):"";if(this.lastNeed){var U=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,U)}return L}function B(k,L){var U=(k.length-L)%3;return U===0?k.toString("base64",L):(this.lastNeed=3-U,this.lastTotal=3,U===1?this.lastChar[0]=k[k.length-1]:(this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1]),k.toString("base64",L,k.length-U))}function q(k){var L=k&&k.length?this.write(k):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function C(k){return k.toString(this.encoding)}function N(k){return k&&k.length?this.write(k):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var r=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var g=!1;return function(){if(!g){g=!0;for(var x=arguments.length,_=new Array(x),S=0;S<x;S++)_[S]=arguments[S];s.apply(this,_)}}}function a(){}function u(s){return s.setHeader&&typeof s.abort=="function"}function d(s,g,x){if(typeof g=="function")return d(s,null,g);g||(g={}),x=e(x||a);var _=g.readable||g.readable!==!1&&s.readable,S=g.writable||g.writable!==!1&&s.writable,y=function(){s.writable||R()},A=s._writableState&&s._writableState.finished,R=function(){S=!1,A=!0,_||x.call(s)},B=s._readableState&&s._readableState.endEmitted,q=function(){_=!1,B=!0,S||x.call(s)},C=function(U){x.call(s,U)},N=function(){var U;if(_&&!B)return(!s._readableState||!s._readableState.ended)&&(U=new r),x.call(s,U);if(S&&!A)return(!s._writableState||!s._writableState.ended)&&(U=new r),x.call(s,U)},k=function(){s.req.on("finish",R)};return u(s)?(s.on("complete",R),s.on("abort",N),s.req?k():s.on("request",k)):S&&!s._writableState&&(s.on("end",y),s.on("close",y)),s.on("end",q),s.on("finish",R),g.error!==!1&&s.on("error",C),s.on("close",N),function(){s.removeListener("complete",R),s.removeListener("abort",N),s.removeListener("request",k),s.req&&s.req.removeListener("finish",R),s.removeListener("end",y),s.removeListener("close",y),s.removeListener("finish",R),s.removeListener("end",q),s.removeListener("error",C),s.removeListener("close",N)}}return endOfStream=d,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var r;function e(U,j,ee){return j=a(j),j in U?Object.defineProperty(U,j,{value:ee,enumerable:!0,configurable:!0,writable:!0}):U[j]=ee,U}function a(U){var j=u(U,"string");return typeof j=="symbol"?j:String(j)}function u(U,j){if(typeof U!="object"||U===null)return U;var ee=U[Symbol.toPrimitive];if(ee!==void 0){var se=ee.call(U,j||"default");if(typeof se!="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(U)}var d=requireEndOfStream(),s=Symbol("lastResolve"),g=Symbol("lastReject"),x=Symbol("error"),_=Symbol("ended"),S=Symbol("lastPromise"),y=Symbol("handlePromise"),A=Symbol("stream");function R(U,j){return{value:U,done:j}}function B(U){var j=U[s];if(j!==null){var ee=U[A].read();ee!==null&&(U[S]=null,U[s]=null,U[g]=null,j(R(ee,!1)))}}function q(U){process$1.nextTick(B,U)}function C(U,j){return function(ee,se){U.then(function(){if(j[_]){ee(R(void 0,!0));return}j[y](ee,se)},se)}}var N=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((r={get stream(){return this[A]},next:function(){var j=this,ee=this[x];if(ee!==null)return Promise.reject(ee);if(this[_])return Promise.resolve(R(void 0,!0));if(this[A].destroyed)return new Promise(function(oe,Le){process$1.nextTick(function(){j[x]?Le(j[x]):oe(R(void 0,!0))})});var se=this[S],Ee;if(se)Ee=new Promise(C(se,this));else{var ge=this[A].read();if(ge!==null)return Promise.resolve(R(ge,!1));Ee=new Promise(this[y])}return this[S]=Ee,Ee}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var j=this;return new Promise(function(ee,se){j[A].destroy(null,function(Ee){if(Ee){se(Ee);return}ee(R(void 0,!0))})})}),r),N),L=function(j){var ee,se=Object.create(k,(ee={},e(ee,A,{value:j,writable:!0}),e(ee,s,{value:null,writable:!0}),e(ee,g,{value:null,writable:!0}),e(ee,x,{value:null,writable:!0}),e(ee,_,{value:j._readableState.endEmitted,writable:!0}),e(ee,y,{value:function(ge,oe){var Le=se[A].read();Le?(se[S]=null,se[s]=null,se[g]=null,ge(R(Le,!1))):(se[s]=ge,se[g]=oe)},writable:!0}),ee));return se[S]=null,d(j,function(Ee){if(Ee&&Ee.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ge=se[g];ge!==null&&(se[S]=null,se[s]=null,se[g]=null,ge(Ee)),se[x]=Ee;return}var oe=se[s];oe!==null&&(se[S]=null,se[s]=null,se[g]=null,oe(R(void 0,!0))),se[_]=!0}),j.on("readable",q.bind(null,se)),se};return async_iterator=L,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=oe;var r;oe.ReadableState=ge,requireEvents().EventEmitter;var e=function(G,H){return G.listeners(H).length},a=requireStreamBrowser$1(),u=require$$0$1.Buffer,d=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(ie){return u.from(ie)}function g(ie){return u.isBuffer(ie)||ie instanceof d}var x=requireUtil$1(),_;x&&x.debuglog?_=x.debuglog("stream"):_=function(){};var S=requireBuffer_list(),y=requireDestroy$1(),A=requireState(),R=A.getHighWaterMark,B=requireErrorsBrowser().codes,q=B.ERR_INVALID_ARG_TYPE,C=B.ERR_STREAM_PUSH_AFTER_EOF,N=B.ERR_METHOD_NOT_IMPLEMENTED,k=B.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,L,U,j;requireInherits_browser()(oe,a);var ee=y.errorOrDestroy,se=["error","close","destroy","pause","resume"];function Ee(ie,G,H){if(typeof ie.prependListener=="function")return ie.prependListener(G,H);!ie._events||!ie._events[G]?ie.on(G,H):Array.isArray(ie._events[G])?ie._events[G].unshift(H):ie._events[G]=[H,ie._events[G]]}function ge(ie,G,H){r=r||require_stream_duplex$1(),ie=ie||{},typeof H!="boolean"&&(H=G instanceof r),this.objectMode=!!ie.objectMode,H&&(this.objectMode=this.objectMode||!!ie.readableObjectMode),this.highWaterMark=R(this,ie,"readableHighWaterMark",H),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ie.emitClose!==!1,this.autoDestroy=!!ie.autoDestroy,this.destroyed=!1,this.defaultEncoding=ie.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ie.encoding&&(L||(L=requireString_decoder().StringDecoder),this.decoder=new L(ie.encoding),this.encoding=ie.encoding)}function oe(ie){if(r=r||require_stream_duplex$1(),!(this instanceof oe))return new oe(ie);var G=this instanceof r;this._readableState=new ge(ie,this,G),this.readable=!0,ie&&(typeof ie.read=="function"&&(this._read=ie.read),typeof ie.destroy=="function"&&(this._destroy=ie.destroy)),a.call(this)}Object.defineProperty(oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){this._readableState&&(this._readableState.destroyed=G)}}),oe.prototype.destroy=y.destroy,oe.prototype._undestroy=y.undestroy,oe.prototype._destroy=function(ie,G){G(ie)},oe.prototype.push=function(ie,G){var H=this._readableState,fe;return H.objectMode?fe=!0:typeof ie=="string"&&(G=G||H.defaultEncoding,G!==H.encoding&&(ie=u.from(ie,G),G=""),fe=!0),Le(this,ie,G,!1,fe)},oe.prototype.unshift=function(ie){return Le(this,ie,null,!0,!1)};function Le(ie,G,H,fe,he){_("readableAddChunk",G);var ve=ie._readableState;if(G===null)ve.reading=!1,v(ie,ve);else{var ke;if(he||(ke=t(ve,G)),ke)ee(ie,ke);else if(ve.objectMode||G&&G.length>0)if(typeof G!="string"&&!ve.objectMode&&Object.getPrototypeOf(G)!==u.prototype&&(G=s(G)),fe)ve.endEmitted?ee(ie,new k):E(ie,ve,G,!0);else if(ve.ended)ee(ie,new C);else{if(ve.destroyed)return!1;ve.reading=!1,ve.decoder&&!H?(G=ve.decoder.write(G),ve.objectMode||G.length!==0?E(ie,ve,G,!1):m(ie,ve)):E(ie,ve,G,!1)}else fe||(ve.reading=!1,m(ie,ve))}return!ve.ended&&(ve.length<ve.highWaterMark||ve.length===0)}function E(ie,G,H,fe){G.flowing&&G.length===0&&!G.sync?(G.awaitDrain=0,ie.emit("data",H)):(G.length+=G.objectMode?1:H.length,fe?G.buffer.unshift(H):G.buffer.push(H),G.needReadable&&w(ie)),m(ie,G)}function t(ie,G){var H;return!g(G)&&typeof G!="string"&&G!==void 0&&!ie.objectMode&&(H=new q("chunk",["string","Buffer","Uint8Array"],G)),H}oe.prototype.isPaused=function(){return this._readableState.flowing===!1},oe.prototype.setEncoding=function(ie){L||(L=requireString_decoder().StringDecoder);var G=new L(ie);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;for(var H=this._readableState.buffer.head,fe="";H!==null;)fe+=G.write(H.data),H=H.next;return this._readableState.buffer.clear(),fe!==""&&this._readableState.buffer.push(fe),this._readableState.length=fe.length,this};var o=1073741824;function c(ie){return ie>=o?ie=o:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}function l(ie,G){return ie<=0||G.length===0&&G.ended?0:G.objectMode?1:ie!==ie?G.flowing&&G.length?G.buffer.head.data.length:G.length:(ie>G.highWaterMark&&(G.highWaterMark=c(ie)),ie<=G.length?ie:G.ended?G.length:(G.needReadable=!0,0))}oe.prototype.read=function(ie){_("read",ie),ie=parseInt(ie,10);var G=this._readableState,H=ie;if(ie!==0&&(G.emittedReadable=!1),ie===0&&G.needReadable&&((G.highWaterMark!==0?G.length>=G.highWaterMark:G.length>0)||G.ended))return _("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?K(this):w(this),null;if(ie=l(ie,G),ie===0&&G.ended)return G.length===0&&K(this),null;var fe=G.needReadable;_("need readable",fe),(G.length===0||G.length-ie<G.highWaterMark)&&(fe=!0,_("length less than watermark",fe)),G.ended||G.reading?(fe=!1,_("reading or ended",fe)):fe&&(_("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,G.reading||(ie=l(H,G)));var he;return ie>0?he=T(ie,G):he=null,he===null?(G.needReadable=G.length<=G.highWaterMark,ie=0):(G.length-=ie,G.awaitDrain=0),G.length===0&&(G.ended||(G.needReadable=!0),H!==ie&&G.ended&&K(this)),he!==null&&this.emit("data",he),he};function v(ie,G){if(_("onEofChunk"),!G.ended){if(G.decoder){var H=G.decoder.end();H&&H.length&&(G.buffer.push(H),G.length+=G.objectMode?1:H.length)}G.ended=!0,G.sync?w(ie):(G.needReadable=!1,G.emittedReadable||(G.emittedReadable=!0,M(ie)))}}function w(ie){var G=ie._readableState;_("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(_("emitReadable",G.flowing),G.emittedReadable=!0,process$1.nextTick(M,ie))}function M(ie){var G=ie._readableState;_("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&(G.length||G.ended)&&(ie.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,X(ie)}function m(ie,G){G.readingMore||(G.readingMore=!0,process$1.nextTick(n,ie,G))}function n(ie,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){var H=G.length;if(_("maybeReadMore read 0"),ie.read(0),H===G.length)break}G.readingMore=!1}oe.prototype._read=function(ie){ee(this,new N("_read()"))},oe.prototype.pipe=function(ie,G){var H=this,fe=this._readableState;switch(fe.pipesCount){case 0:fe.pipes=ie;break;case 1:fe.pipes=[fe.pipes,ie];break;default:fe.pipes.push(ie);break}fe.pipesCount+=1,_("pipe count=%d opts=%j",fe.pipesCount,G);var he=(!G||G.end!==!1)&&ie!==process$1.stdout&&ie!==process$1.stderr,ve=he?Me:ot;fe.endEmitted?process$1.nextTick(ve):H.once("end",ve),ie.on("unpipe",ke);function ke(Oe,He){_("onunpipe"),Oe===H&&He&&He.hasUnpiped===!1&&(He.hasUnpiped=!0,_e())}function Me(){_("onend"),ie.end()}var le=b(H);ie.on("drain",le);var Ze=!1;function _e(){_("cleanup"),ie.removeListener("close",Ae),ie.removeListener("finish",Pe),ie.removeListener("drain",le),ie.removeListener("error",tt),ie.removeListener("unpipe",ke),H.removeListener("end",Me),H.removeListener("end",ot),H.removeListener("data",Se),Ze=!0,fe.awaitDrain&&(!ie._writableState||ie._writableState.needDrain)&&le()}H.on("data",Se);function Se(Oe){_("ondata");var He=ie.write(Oe);_("dest.write",He),He===!1&&((fe.pipesCount===1&&fe.pipes===ie||fe.pipesCount>1&&ne(fe.pipes,ie)!==-1)&&!Ze&&(_("false write response, pause",fe.awaitDrain),fe.awaitDrain++),H.pause())}function tt(Oe){_("onerror",Oe),ot(),ie.removeListener("error",tt),e(ie,"error")===0&&ee(ie,Oe)}Ee(ie,"error",tt);function Ae(){ie.removeListener("finish",Pe),ot()}ie.once("close",Ae);function Pe(){_("onfinish"),ie.removeListener("close",Ae),ot()}ie.once("finish",Pe);function ot(){_("unpipe"),H.unpipe(ie)}return ie.emit("pipe",H),fe.flowing||(_("pipe resume"),H.resume()),ie};function b(ie){return function(){var H=ie._readableState;_("pipeOnDrain",H.awaitDrain),H.awaitDrain&&H.awaitDrain--,H.awaitDrain===0&&e(ie,"data")&&(H.flowing=!0,X(ie))}}oe.prototype.unpipe=function(ie){var G=this._readableState,H={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return ie&&ie!==G.pipes?this:(ie||(ie=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,ie&&ie.emit("unpipe",this,H),this);if(!ie){var fe=G.pipes,he=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var ve=0;ve<he;ve++)fe[ve].emit("unpipe",this,{hasUnpiped:!1});return this}var ke=ne(G.pipes,ie);return ke===-1?this:(G.pipes.splice(ke,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),ie.emit("unpipe",this,H),this)},oe.prototype.on=function(ie,G){var H=a.prototype.on.call(this,ie,G),fe=this._readableState;return ie==="data"?(fe.readableListening=this.listenerCount("readable")>0,fe.flowing!==!1&&this.resume()):ie==="readable"&&!fe.endEmitted&&!fe.readableListening&&(fe.readableListening=fe.needReadable=!0,fe.flowing=!1,fe.emittedReadable=!1,_("on readable",fe.length,fe.reading),fe.length?w(this):fe.reading||process$1.nextTick(I,this)),H},oe.prototype.addListener=oe.prototype.on,oe.prototype.removeListener=function(ie,G){var H=a.prototype.removeListener.call(this,ie,G);return ie==="readable"&&process$1.nextTick(P,this),H},oe.prototype.removeAllListeners=function(ie){var G=a.prototype.removeAllListeners.apply(this,arguments);return(ie==="readable"||ie===void 0)&&process$1.nextTick(P,this),G};function P(ie){var G=ie._readableState;G.readableListening=ie.listenerCount("readable")>0,G.resumeScheduled&&!G.paused?G.flowing=!0:ie.listenerCount("data")>0&&ie.resume()}function I(ie){_("readable nexttick read 0"),ie.read(0)}oe.prototype.resume=function(){var ie=this._readableState;return ie.flowing||(_("resume"),ie.flowing=!ie.readableListening,F(this,ie)),ie.paused=!1,this};function F(ie,G){G.resumeScheduled||(G.resumeScheduled=!0,process$1.nextTick(Y,ie,G))}function Y(ie,G){_("resume",G.reading),G.reading||ie.read(0),G.resumeScheduled=!1,ie.emit("resume"),X(ie),G.flowing&&!G.reading&&ie.read(0)}oe.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(ie){var G=ie._readableState;for(_("flow",G.flowing);G.flowing&&ie.read()!==null;);}oe.prototype.wrap=function(ie){var G=this,H=this._readableState,fe=!1;ie.on("end",function(){if(_("wrapped end"),H.decoder&&!H.ended){var ke=H.decoder.end();ke&&ke.length&&G.push(ke)}G.push(null)}),ie.on("data",function(ke){if(_("wrapped data"),H.decoder&&(ke=H.decoder.write(ke)),!(H.objectMode&&ke==null)&&!(!H.objectMode&&(!ke||!ke.length))){var Me=G.push(ke);Me||(fe=!0,ie.pause())}});for(var he in ie)this[he]===void 0&&typeof ie[he]=="function"&&(this[he]=function(Me){return function(){return ie[Me].apply(ie,arguments)}}(he));for(var ve=0;ve<se.length;ve++)ie.on(se[ve],this.emit.bind(this,se[ve]));return this._read=function(ke){_("wrapped _read",ke),fe&&(fe=!1,ie.resume())},this},typeof Symbol=="function"&&(oe.prototype[Symbol.asyncIterator]=function(){return U===void 0&&(U=requireAsync_iterator()),U(this)}),Object.defineProperty(oe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(oe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(oe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),oe._fromList=T,Object.defineProperty(oe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function T(ie,G){if(G.length===0)return null;var H;return G.objectMode?H=G.buffer.shift():!ie||ie>=G.length?(G.decoder?H=G.buffer.join(""):G.buffer.length===1?H=G.buffer.first():H=G.buffer.concat(G.length),G.buffer.clear()):H=G.buffer.consume(ie,G.decoder),H}function K(ie){var G=ie._readableState;_("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,process$1.nextTick(W,G,ie))}function W(ie,G){if(_("endReadableNT",ie.endEmitted,ie.length),!ie.endEmitted&&ie.length===0&&(ie.endEmitted=!0,G.readable=!1,G.emit("end"),ie.autoDestroy)){var H=G._writableState;(!H||H.autoDestroy&&H.finished)&&G.destroy()}}typeof Symbol=="function"&&(oe.from=function(ie,G){return j===void 0&&(j=requireFromBrowser()),j(oe,ie,G)});function ne(ie,G){for(var H=0,fe=ie.length;H<fe;H++)if(ie[H]===G)return H;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=x;var r=requireErrorsBrowser().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,a=r.ERR_MULTIPLE_CALLBACK,u=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=r.ERR_TRANSFORM_WITH_LENGTH_0,s=require_stream_duplex$1();requireInherits_browser()(x,s);function g(y,A){var R=this._transformState;R.transforming=!1;var B=R.writecb;if(B===null)return this.emit("error",new a);R.writechunk=null,R.writecb=null,A!=null&&this.push(A),B(y);var q=this._readableState;q.reading=!1,(q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}function x(y){if(!(this instanceof x))return new x(y);s.call(this,y),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",_)}function _(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(A,R){S(y,A,R)}):S(this,null,null)}x.prototype.push=function(y,A){return this._transformState.needTransform=!1,s.prototype.push.call(this,y,A)},x.prototype._transform=function(y,A,R){R(new e("_transform()"))},x.prototype._write=function(y,A,R){var B=this._transformState;if(B.writecb=R,B.writechunk=y,B.writeencoding=A,!B.transforming){var q=this._readableState;(B.needTransform||q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}},x.prototype._read=function(y){var A=this._transformState;A.writechunk!==null&&!A.transforming?(A.transforming=!0,this._transform(A.writechunk,A.writeencoding,A.afterTransform)):A.needTransform=!0},x.prototype._destroy=function(y,A){s.prototype._destroy.call(this,y,function(R){A(R)})};function S(y,A,R){if(A)return y.emit("error",A);if(R!=null&&y.push(R),y._writableState.length)throw new d;if(y._transformState.transforming)throw new u;return y.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=e;var r=require_stream_transform$1();requireInherits_browser()(e,r);function e(a){if(!(this instanceof e))return new e(a);r.call(this,a)}return e.prototype._transform=function(a,u,d){d(null,a)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var r;function e(R){var B=!1;return function(){B||(B=!0,R.apply(void 0,arguments))}}var a=requireErrorsBrowser().codes,u=a.ERR_MISSING_ARGS,d=a.ERR_STREAM_DESTROYED;function s(R){if(R)throw R}function g(R){return R.setHeader&&typeof R.abort=="function"}function x(R,B,q,C){C=e(C);var N=!1;R.on("close",function(){N=!0}),r===void 0&&(r=requireEndOfStream()),r(R,{readable:B,writable:q},function(L){if(L)return C(L);N=!0,C()});var k=!1;return function(L){if(!N&&!k){if(k=!0,g(R))return R.abort();if(typeof R.destroy=="function")return R.destroy();C(L||new d("pipe"))}}}function _(R){R()}function S(R,B){return R.pipe(B)}function y(R){return!R.length||typeof R[R.length-1]!="function"?s:R.pop()}function A(){for(var R=arguments.length,B=new Array(R),q=0;q<R;q++)B[q]=arguments[q];var C=y(B);if(Array.isArray(B[0])&&(B=B[0]),B.length<2)throw new u("streams");var N,k=B.map(function(L,U){var j=U<B.length-1,ee=U>0;return x(L,j,ee,function(se){N||(N=se),se&&k.forEach(_),!j&&(k.forEach(_),C(N))})});return B.reduce(S)}return pipeline_1=A,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=a;var r=requireEvents().EventEmitter,e=requireInherits_browser();e(a,r),a.Readable=require_stream_readable$1(),a.Writable=require_stream_writable$1(),a.Duplex=require_stream_duplex$1(),a.Transform=require_stream_transform$1(),a.PassThrough=require_stream_passthrough$1(),a.finished=requireEndOfStream(),a.pipeline=requirePipeline(),a.Stream=a;function a(){r.call(this)}return a.prototype.pipe=function(u,d){var s=this;function g(B){u.writable&&u.write(B)===!1&&s.pause&&s.pause()}s.on("data",g);function x(){s.readable&&s.resume&&s.resume()}u.on("drain",x),!u._isStdio&&(!d||d.end!==!1)&&(s.on("end",S),s.on("close",y));var _=!1;function S(){_||(_=!0,u.end())}function y(){_||(_=!0,typeof u.destroy=="function"&&u.destroy())}function A(B){if(R(),r.listenerCount(this,"error")===0)throw B}s.on("error",A),u.on("error",A);function R(){s.removeListener("data",g),u.removeListener("drain",x),s.removeListener("end",S),s.removeListener("close",y),s.removeListener("error",A),u.removeListener("error",A),s.removeListener("end",R),s.removeListener("close",R),u.removeListener("close",R)}return s.on("end",R),s.on("close",R),u.on("close",R),u.emit("pipe",s),u},streamBrowserify}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var r=requireSafeBuffer$1().Buffer,e=requireStreamBrowserify().Transform,a=requireInherits_browser();function u(s,g){if(!r.isBuffer(s)&&typeof s!="string")throw new TypeError(g+" must be a string or a buffer")}function d(s){e.call(this),this._block=r.allocUnsafe(s),this._blockSize=s,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return a(d,e),d.prototype._transform=function(s,g,x){var _=null;try{this.update(s,g)}catch(S){_=S}x(_)},d.prototype._flush=function(s){var g=null;try{this.push(this.digest())}catch(x){g=x}s(g)},d.prototype.update=function(s,g){if(u(s,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(s)||(s=r.from(s,g));for(var x=this._block,_=0;this._blockOffset+s.length-_>=this._blockSize;){for(var S=this._blockOffset;S<this._blockSize;)x[S++]=s[_++];this._update(),this._blockOffset=0}for(;_<s.length;)x[this._blockOffset++]=s[_++];for(var y=0,A=s.length*8;A>0;++y)this._length[y]+=A,A=this._length[y]/4294967296|0,A>0&&(this._length[y]-=4294967296*A);return this},d.prototype._update=function(){throw new Error("_update is not implemented")},d.prototype.digest=function(s){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var g=this._digest();s!==void 0&&(g=g.toString(s)),this._block.fill(0),this._blockOffset=0;for(var x=0;x<4;++x)this._length[x]=0;return g},d.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=d,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var r=requireInherits_browser(),e=requireHashBase(),a=requireSafeBuffer$1().Buffer,u=new Array(16);function d(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}r(d,e),d.prototype._update=function(){for(var y=u,A=0;A<16;++A)y[A]=this._block.readInt32LE(A*4);var R=this._a,B=this._b,q=this._c,C=this._d;R=g(R,B,q,C,y[0],3614090360,7),C=g(C,R,B,q,y[1],3905402710,12),q=g(q,C,R,B,y[2],606105819,17),B=g(B,q,C,R,y[3],3250441966,22),R=g(R,B,q,C,y[4],4118548399,7),C=g(C,R,B,q,y[5],1200080426,12),q=g(q,C,R,B,y[6],2821735955,17),B=g(B,q,C,R,y[7],4249261313,22),R=g(R,B,q,C,y[8],1770035416,7),C=g(C,R,B,q,y[9],2336552879,12),q=g(q,C,R,B,y[10],4294925233,17),B=g(B,q,C,R,y[11],2304563134,22),R=g(R,B,q,C,y[12],1804603682,7),C=g(C,R,B,q,y[13],4254626195,12),q=g(q,C,R,B,y[14],2792965006,17),B=g(B,q,C,R,y[15],1236535329,22),R=x(R,B,q,C,y[1],4129170786,5),C=x(C,R,B,q,y[6],3225465664,9),q=x(q,C,R,B,y[11],643717713,14),B=x(B,q,C,R,y[0],3921069994,20),R=x(R,B,q,C,y[5],3593408605,5),C=x(C,R,B,q,y[10],38016083,9),q=x(q,C,R,B,y[15],3634488961,14),B=x(B,q,C,R,y[4],3889429448,20),R=x(R,B,q,C,y[9],568446438,5),C=x(C,R,B,q,y[14],3275163606,9),q=x(q,C,R,B,y[3],4107603335,14),B=x(B,q,C,R,y[8],1163531501,20),R=x(R,B,q,C,y[13],2850285829,5),C=x(C,R,B,q,y[2],4243563512,9),q=x(q,C,R,B,y[7],1735328473,14),B=x(B,q,C,R,y[12],2368359562,20),R=_(R,B,q,C,y[5],4294588738,4),C=_(C,R,B,q,y[8],2272392833,11),q=_(q,C,R,B,y[11],1839030562,16),B=_(B,q,C,R,y[14],4259657740,23),R=_(R,B,q,C,y[1],2763975236,4),C=_(C,R,B,q,y[4],1272893353,11),q=_(q,C,R,B,y[7],4139469664,16),B=_(B,q,C,R,y[10],3200236656,23),R=_(R,B,q,C,y[13],681279174,4),C=_(C,R,B,q,y[0],3936430074,11),q=_(q,C,R,B,y[3],3572445317,16),B=_(B,q,C,R,y[6],76029189,23),R=_(R,B,q,C,y[9],3654602809,4),C=_(C,R,B,q,y[12],3873151461,11),q=_(q,C,R,B,y[15],530742520,16),B=_(B,q,C,R,y[2],3299628645,23),R=S(R,B,q,C,y[0],4096336452,6),C=S(C,R,B,q,y[7],1126891415,10),q=S(q,C,R,B,y[14],2878612391,15),B=S(B,q,C,R,y[5],4237533241,21),R=S(R,B,q,C,y[12],1700485571,6),C=S(C,R,B,q,y[3],2399980690,10),q=S(q,C,R,B,y[10],4293915773,15),B=S(B,q,C,R,y[1],2240044497,21),R=S(R,B,q,C,y[8],1873313359,6),C=S(C,R,B,q,y[15],4264355552,10),q=S(q,C,R,B,y[6],2734768916,15),B=S(B,q,C,R,y[13],1309151649,21),R=S(R,B,q,C,y[4],4149444226,6),C=S(C,R,B,q,y[11],3174756917,10),q=S(q,C,R,B,y[2],718787259,15),B=S(B,q,C,R,y[9],3951481745,21),this._a=this._a+R|0,this._b=this._b+B|0,this._c=this._c+q|0,this._d=this._d+C|0},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=a.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y};function s(y,A){return y<<A|y>>>32-A}function g(y,A,R,B,q,C,N){return s(y+(A&R|~A&B)+q+C|0,N)+A|0}function x(y,A,R,B,q,C,N){return s(y+(A&B|R&~B)+q+C|0,N)+A|0}function _(y,A,R,B,q,C,N){return s(y+(A^R^B)+q+C|0,N)+A|0}function S(y,A,R,B,q,C,N){return s(y+(R^(A|~B))+q+C|0,N)+A|0}return md5_js=d,md5_js}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var r=require$$0$1.Buffer,e=requireInherits_browser(),a=requireHashBase(),u=new Array(16),d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],_=[0,1518500249,1859775393,2400959708,2840853838],S=[1352829926,1548603684,1836072691,2053994217,0];function y(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}e(y,a),y.prototype._update=function(){for(var k=u,L=0;L<16;++L)k[L]=this._block.readInt32LE(L*4);for(var U=this._a|0,j=this._b|0,ee=this._c|0,se=this._d|0,Ee=this._e|0,ge=this._a|0,oe=this._b|0,Le=this._c|0,E=this._d|0,t=this._e|0,o=0;o<80;o+=1){var c,l;o<16?(c=R(U,j,ee,se,Ee,k[d[o]],_[0],g[o]),l=N(ge,oe,Le,E,t,k[s[o]],S[0],x[o])):o<32?(c=B(U,j,ee,se,Ee,k[d[o]],_[1],g[o]),l=C(ge,oe,Le,E,t,k[s[o]],S[1],x[o])):o<48?(c=q(U,j,ee,se,Ee,k[d[o]],_[2],g[o]),l=q(ge,oe,Le,E,t,k[s[o]],S[2],x[o])):o<64?(c=C(U,j,ee,se,Ee,k[d[o]],_[3],g[o]),l=B(ge,oe,Le,E,t,k[s[o]],S[3],x[o])):(c=N(U,j,ee,se,Ee,k[d[o]],_[4],g[o]),l=R(ge,oe,Le,E,t,k[s[o]],S[4],x[o])),U=Ee,Ee=se,se=A(ee,10),ee=j,j=c,ge=t,t=E,E=A(Le,10),Le=oe,oe=l}var v=this._b+ee+E|0;this._b=this._c+se+t|0,this._c=this._d+Ee+ge|0,this._d=this._e+U+oe|0,this._e=this._a+j+Le|0,this._a=v},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var k=r.alloc?r.alloc(20):new r(20);return k.writeInt32LE(this._a,0),k.writeInt32LE(this._b,4),k.writeInt32LE(this._c,8),k.writeInt32LE(this._d,12),k.writeInt32LE(this._e,16),k};function A(k,L){return k<<L|k>>>32-L}function R(k,L,U,j,ee,se,Ee,ge){return A(k+(L^U^j)+se+Ee|0,ge)+ee|0}function B(k,L,U,j,ee,se,Ee,ge){return A(k+(L&U|~L&j)+se+Ee|0,ge)+ee|0}function q(k,L,U,j,ee,se,Ee,ge){return A(k+((L|~U)^j)+se+Ee|0,ge)+ee|0}function C(k,L,U,j,ee,se,Ee,ge){return A(k+(L&j|U&~j)+se+Ee|0,ge)+ee|0}function N(k,L,U,j,ee,se,Ee,ge){return A(k+(L^(U|~j))+se+Ee|0,ge)+ee|0}return ripemd160=y,ripemd160}var sha_js={exports:{}},hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var r=requireSafeBuffer$1().Buffer;function e(a,u){this._block=r.alloc(a),this._finalSize=u,this._blockSize=a,this._len=0}return e.prototype.update=function(a,u){typeof a=="string"&&(u=u||"utf8",a=r.from(a,u));for(var d=this._block,s=this._blockSize,g=a.length,x=this._len,_=0;_<g;){for(var S=x%s,y=Math.min(g-_,s-S),A=0;A<y;A++)d[S+A]=a[_+A];x+=y,_+=y,x%s===0&&this._update(d)}return this._len+=g,this},e.prototype.digest=function(a){var u=this._len%this._blockSize;this._block[u]=128,this._block.fill(0,u+1),u>=this._finalSize&&(this._update(this._block),this._block.fill(0));var d=this._len*8;if(d<=4294967295)this._block.writeUInt32BE(d,this._blockSize-4);else{var s=(d&4294967295)>>>0,g=(d-s)/4294967296;this._block.writeUInt32BE(g,this._blockSize-8),this._block.writeUInt32BE(s,this._blockSize-4)}this._update(this._block);var x=this._hash();return a?x.toString(a):x},e.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=e,hash$1}var sha$1,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var r=requireInherits_browser(),e=requireHash$1(),a=requireSafeBuffer$1().Buffer,u=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);function s(){this.init(),this._w=d,e.call(this,64,56)}r(s,e),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function g(S){return S<<5|S>>>27}function x(S){return S<<30|S>>>2}function _(S,y,A,R){return S===0?y&A|~y&R:S===2?y&A|y&R|A&R:y^A^R}return s.prototype._update=function(S){for(var y=this._w,A=this._a|0,R=this._b|0,B=this._c|0,q=this._d|0,C=this._e|0,N=0;N<16;++N)y[N]=S.readInt32BE(N*4);for(;N<80;++N)y[N]=y[N-3]^y[N-8]^y[N-14]^y[N-16];for(var k=0;k<80;++k){var L=~~(k/20),U=g(A)+_(L,R,B,q)+C+y[k]+u[L]|0;C=q,q=B,B=x(R),R=A,A=U}this._a=A+this._a|0,this._b=R+this._b|0,this._c=B+this._c|0,this._d=q+this._d|0,this._e=C+this._e|0},s.prototype._hash=function(){var S=a.allocUnsafe(20);return S.writeInt32BE(this._a|0,0),S.writeInt32BE(this._b|0,4),S.writeInt32BE(this._c|0,8),S.writeInt32BE(this._d|0,12),S.writeInt32BE(this._e|0,16),S},sha$1=s,sha$1}var sha1$1,hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1$1;hasRequiredSha1=1;var r=requireInherits_browser(),e=requireHash$1(),a=requireSafeBuffer$1().Buffer,u=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);function s(){this.init(),this._w=d,e.call(this,64,56)}r(s,e),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function g(y){return y<<1|y>>>31}function x(y){return y<<5|y>>>27}function _(y){return y<<30|y>>>2}function S(y,A,R,B){return y===0?A&R|~A&B:y===2?A&R|A&B|R&B:A^R^B}return s.prototype._update=function(y){for(var A=this._w,R=this._a|0,B=this._b|0,q=this._c|0,C=this._d|0,N=this._e|0,k=0;k<16;++k)A[k]=y.readInt32BE(k*4);for(;k<80;++k)A[k]=g(A[k-3]^A[k-8]^A[k-14]^A[k-16]);for(var L=0;L<80;++L){var U=~~(L/20),j=x(R)+S(U,B,q,C)+N+A[L]+u[U]|0;N=C,C=q,q=_(B),B=R,R=j}this._a=R+this._a|0,this._b=B+this._b|0,this._c=q+this._c|0,this._d=C+this._d|0,this._e=N+this._e|0},s.prototype._hash=function(){var y=a.allocUnsafe(20);return y.writeInt32BE(this._a|0,0),y.writeInt32BE(this._b|0,4),y.writeInt32BE(this._c|0,8),y.writeInt32BE(this._d|0,12),y.writeInt32BE(this._e|0,16),y},sha1$1=s,sha1$1}var sha256$1,hasRequiredSha256;function requireSha256(){if(hasRequiredSha256)return sha256$1;hasRequiredSha256=1;var r=requireInherits_browser(),e=requireHash$1(),a=requireSafeBuffer$1().Buffer,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=new Array(64);function s(){this.init(),this._w=d,e.call(this,64,56)}r(s,e),s.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function g(R,B,q){return q^R&(B^q)}function x(R,B,q){return R&B|q&(R|B)}function _(R){return(R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10)}function S(R){return(R>>>6|R<<26)^(R>>>11|R<<21)^(R>>>25|R<<7)}function y(R){return(R>>>7|R<<25)^(R>>>18|R<<14)^R>>>3}function A(R){return(R>>>17|R<<15)^(R>>>19|R<<13)^R>>>10}return s.prototype._update=function(R){for(var B=this._w,q=this._a|0,C=this._b|0,N=this._c|0,k=this._d|0,L=this._e|0,U=this._f|0,j=this._g|0,ee=this._h|0,se=0;se<16;++se)B[se]=R.readInt32BE(se*4);for(;se<64;++se)B[se]=A(B[se-2])+B[se-7]+y(B[se-15])+B[se-16]|0;for(var Ee=0;Ee<64;++Ee){var ge=ee+S(L)+g(L,U,j)+u[Ee]+B[Ee]|0,oe=_(q)+x(q,C,N)|0;ee=j,j=U,U=L,L=k+ge|0,k=N,N=C,C=q,q=ge+oe|0}this._a=q+this._a|0,this._b=C+this._b|0,this._c=N+this._c|0,this._d=k+this._d|0,this._e=L+this._e|0,this._f=U+this._f|0,this._g=j+this._g|0,this._h=ee+this._h|0},s.prototype._hash=function(){var R=a.allocUnsafe(32);return R.writeInt32BE(this._a,0),R.writeInt32BE(this._b,4),R.writeInt32BE(this._c,8),R.writeInt32BE(this._d,12),R.writeInt32BE(this._e,16),R.writeInt32BE(this._f,20),R.writeInt32BE(this._g,24),R.writeInt32BE(this._h,28),R},sha256$1=s,sha256$1}var sha224$1,hasRequiredSha224;function requireSha224(){if(hasRequiredSha224)return sha224$1;hasRequiredSha224=1;var r=requireInherits_browser(),e=requireSha256(),a=requireHash$1(),u=requireSafeBuffer$1().Buffer,d=new Array(64);function s(){this.init(),this._w=d,a.call(this,64,56)}return r(s,e),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var g=u.allocUnsafe(28);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g},sha224$1=s,sha224$1}var sha512$1,hasRequiredSha512;function requireSha512(){if(hasRequiredSha512)return sha512$1;hasRequiredSha512=1;var r=requireInherits_browser(),e=requireHash$1(),a=requireSafeBuffer$1().Buffer,u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],d=new Array(160);function s(){this.init(),this._w=d,e.call(this,128,112)}r(s,e),s.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function g(C,N,k){return k^C&(N^k)}function x(C,N,k){return C&N|k&(C|N)}function _(C,N){return(C>>>28|N<<4)^(N>>>2|C<<30)^(N>>>7|C<<25)}function S(C,N){return(C>>>14|N<<18)^(C>>>18|N<<14)^(N>>>9|C<<23)}function y(C,N){return(C>>>1|N<<31)^(C>>>8|N<<24)^C>>>7}function A(C,N){return(C>>>1|N<<31)^(C>>>8|N<<24)^(C>>>7|N<<25)}function R(C,N){return(C>>>19|N<<13)^(N>>>29|C<<3)^C>>>6}function B(C,N){return(C>>>19|N<<13)^(N>>>29|C<<3)^(C>>>6|N<<26)}function q(C,N){return C>>>0<N>>>0?1:0}return s.prototype._update=function(C){for(var N=this._w,k=this._ah|0,L=this._bh|0,U=this._ch|0,j=this._dh|0,ee=this._eh|0,se=this._fh|0,Ee=this._gh|0,ge=this._hh|0,oe=this._al|0,Le=this._bl|0,E=this._cl|0,t=this._dl|0,o=this._el|0,c=this._fl|0,l=this._gl|0,v=this._hl|0,w=0;w<32;w+=2)N[w]=C.readInt32BE(w*4),N[w+1]=C.readInt32BE(w*4+4);for(;w<160;w+=2){var M=N[w-30],m=N[w-15*2+1],n=y(M,m),b=A(m,M);M=N[w-2*2],m=N[w-2*2+1];var P=R(M,m),I=B(m,M),F=N[w-7*2],Y=N[w-7*2+1],X=N[w-16*2],T=N[w-16*2+1],K=b+Y|0,W=n+F+q(K,b)|0;K=K+I|0,W=W+P+q(K,I)|0,K=K+T|0,W=W+X+q(K,T)|0,N[w]=W,N[w+1]=K}for(var ne=0;ne<160;ne+=2){W=N[ne],K=N[ne+1];var ie=x(k,L,U),G=x(oe,Le,E),H=_(k,oe),fe=_(oe,k),he=S(ee,o),ve=S(o,ee),ke=u[ne],Me=u[ne+1],le=g(ee,se,Ee),Ze=g(o,c,l),_e=v+ve|0,Se=ge+he+q(_e,v)|0;_e=_e+Ze|0,Se=Se+le+q(_e,Ze)|0,_e=_e+Me|0,Se=Se+ke+q(_e,Me)|0,_e=_e+K|0,Se=Se+W+q(_e,K)|0;var tt=fe+G|0,Ae=H+ie+q(tt,fe)|0;ge=Ee,v=l,Ee=se,l=c,se=ee,c=o,o=t+_e|0,ee=j+Se+q(o,t)|0,j=U,t=E,U=L,E=Le,L=k,Le=oe,oe=_e+tt|0,k=Se+Ae+q(oe,_e)|0}this._al=this._al+oe|0,this._bl=this._bl+Le|0,this._cl=this._cl+E|0,this._dl=this._dl+t|0,this._el=this._el+o|0,this._fl=this._fl+c|0,this._gl=this._gl+l|0,this._hl=this._hl+v|0,this._ah=this._ah+k+q(this._al,oe)|0,this._bh=this._bh+L+q(this._bl,Le)|0,this._ch=this._ch+U+q(this._cl,E)|0,this._dh=this._dh+j+q(this._dl,t)|0,this._eh=this._eh+ee+q(this._el,o)|0,this._fh=this._fh+se+q(this._fl,c)|0,this._gh=this._gh+Ee+q(this._gl,l)|0,this._hh=this._hh+ge+q(this._hl,v)|0},s.prototype._hash=function(){var C=a.allocUnsafe(64);function N(k,L,U){C.writeInt32BE(k,U),C.writeInt32BE(L,U+4)}return N(this._ah,this._al,0),N(this._bh,this._bl,8),N(this._ch,this._cl,16),N(this._dh,this._dl,24),N(this._eh,this._el,32),N(this._fh,this._fl,40),N(this._gh,this._gl,48),N(this._hh,this._hl,56),C},sha512$1=s,sha512$1}var sha384$1,hasRequiredSha384;function requireSha384(){if(hasRequiredSha384)return sha384$1;hasRequiredSha384=1;var r=requireInherits_browser(),e=requireSha512(),a=requireHash$1(),u=requireSafeBuffer$1().Buffer,d=new Array(160);function s(){this.init(),this._w=d,a.call(this,128,112)}return r(s,e),s.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},s.prototype._hash=function(){var g=u.allocUnsafe(48);function x(_,S,y){g.writeInt32BE(_,y),g.writeInt32BE(S,y+4)}return x(this._ah,this._al,0),x(this._bh,this._bl,8),x(this._ch,this._cl,16),x(this._dh,this._dl,24),x(this._eh,this._el,32),x(this._fh,this._fl,40),g},sha384$1=s,sha384$1}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var r=sha_js.exports=function(a){a=a.toLowerCase();var u=r[a];if(!u)throw new Error(a+" is not supported (we accept pull requests)");return new u};return r.sha=requireSha$1(),r.sha1=requireSha1(),r.sha224=requireSha224(),r.sha256=requireSha256(),r.sha384=requireSha384(),r.sha512=requireSha512(),sha_js.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var r=requireSafeBuffer$1().Buffer,e=requireStreamBrowserify().Transform,a=requireString_decoder().StringDecoder,u=requireInherits_browser();function d(s){e.call(this),this.hashMode=typeof s=="string",this.hashMode?this[s]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return u(d,e),d.prototype.update=function(s,g,x){typeof s=="string"&&(s=r.from(s,g));var _=this._update(s);return this.hashMode?this:(x&&(_=this._toString(_,x)),_)},d.prototype.setAutoPadding=function(){},d.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},d.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},d.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},d.prototype._transform=function(s,g,x){var _;try{this.hashMode?this._update(s):this.push(this._update(s))}catch(S){_=S}finally{x(_)}},d.prototype._flush=function(s){var g;try{this.push(this.__final())}catch(x){g=x}s(g)},d.prototype._finalOrDigest=function(s){var g=this.__final()||r.alloc(0);return s&&(g=this._toString(g,s,!0)),g},d.prototype._toString=function(s,g,x){if(this._decoder||(this._decoder=new a(g),this._encoding=g),this._encoding!==g)throw new Error("can't switch encodings");var _=this._decoder.write(s);return x&&(_+=this._decoder.end()),_},cipherBase=d,cipherBase}var browser$9,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$9;hasRequiredBrowser$9=1;var r=requireInherits_browser(),e=requireMd5_js(),a=requireRipemd160(),u=requireSha_js(),d=requireCipherBase();function s(g){d.call(this,"digest"),this._hash=g}return r(s,d),s.prototype._update=function(g){this._hash.update(g)},s.prototype._final=function(){return this._hash.digest()},browser$9=function(x){return x=x.toLowerCase(),x==="md5"?new e:x==="rmd160"||x==="ripemd160"?new a:new s(u(x))},browser$9}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var r=requireInherits_browser(),e=requireSafeBuffer$1().Buffer,a=requireCipherBase(),u=e.alloc(128),d=64;function s(g,x){a.call(this,"digest"),typeof x=="string"&&(x=e.from(x)),this._alg=g,this._key=x,x.length>d?x=g(x):x.length<d&&(x=e.concat([x,u],d));for(var _=this._ipad=e.allocUnsafe(d),S=this._opad=e.allocUnsafe(d),y=0;y<d;y++)_[y]=x[y]^54,S[y]=x[y]^92;this._hash=[_]}return r(s,a),s.prototype._update=function(g){this._hash.push(g)},s.prototype._final=function(){var g=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,g]))},legacy=s,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var r=requireMd5_js();return md5=function(e){return new r().update(e).digest()},md5}var browser$8,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$8;hasRequiredBrowser$8=1;var r=requireInherits_browser(),e=requireLegacy(),a=requireCipherBase(),u=requireSafeBuffer$1().Buffer,d=requireMd5(),s=requireRipemd160(),g=requireSha_js(),x=u.alloc(128);function _(S,y){a.call(this,"digest"),typeof y=="string"&&(y=u.from(y));var A=S==="sha512"||S==="sha384"?128:64;if(this._alg=S,this._key=y,y.length>A){var R=S==="rmd160"?new s:g(S);y=R.update(y).digest()}else y.length<A&&(y=u.concat([y,x],A));for(var B=this._ipad=u.allocUnsafe(A),q=this._opad=u.allocUnsafe(A),C=0;C<A;C++)B[C]=y[C]^54,q[C]=y[C]^92;this._hash=S==="rmd160"?new s:g(S),this._hash.update(B)}return r(_,a),_.prototype._update=function(S){this._hash.update(S)},_.prototype._final=function(){var S=this._hash.digest(),y=this._alg==="rmd160"?new s:g(this._alg);return y.update(this._opad).update(S).digest()},browser$8=function(y,A){return y=y.toLowerCase(),y==="rmd160"||y==="ripemd160"?new _("rmd160",A):y==="md5"?new e(d,A):new _(y,A)},browser$8}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$7={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var r=Math.pow(2,30)-1;return precondition=function(e,a){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof a!="number")throw new TypeError("Key length not a number");if(a<0||a>r||a!==a)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var r;if(commonjsGlobal.process&&commonjsGlobal.process.browser)r="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var e=parseInt(process$1.version.split(".")[0].slice(1),10);r=e>=6?"utf-8":"binary"}else r="utf-8";return defaultEncoding_1=r,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var r=requireSafeBuffer$1().Buffer;return toBuffer=function(e,a,u){if(r.isBuffer(e))return e;if(typeof e=="string")return r.from(e,a);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(u+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var r=requireMd5(),e=requireRipemd160(),a=requireSha_js(),u=requireSafeBuffer$1().Buffer,d=requirePrecondition(),s=requireDefaultEncoding(),g=requireToBuffer(),x=u.alloc(128),_={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function S(R,B,q){var C=y(R),N=R==="sha512"||R==="sha384"?128:64;B.length>N?B=C(B):B.length<N&&(B=u.concat([B,x],N));for(var k=u.allocUnsafe(N+_[R]),L=u.allocUnsafe(N+_[R]),U=0;U<N;U++)k[U]=B[U]^54,L[U]=B[U]^92;var j=u.allocUnsafe(N+q+4);k.copy(j,0,0,N),this.ipad1=j,this.ipad2=k,this.opad=L,this.alg=R,this.blocksize=N,this.hash=C,this.size=_[R]}S.prototype.run=function(R,B){R.copy(B,this.blocksize);var q=this.hash(B);return q.copy(this.opad,this.blocksize),this.hash(this.opad)};function y(R){function B(C){return a(R).update(C).digest()}function q(C){return new e().update(C).digest()}return R==="rmd160"||R==="ripemd160"?q:R==="md5"?r:B}function A(R,B,q,C,N){d(q,C),R=g(R,s,"Password"),B=g(B,s,"Salt"),N=N||"sha1";var k=new S(N,R,B.length),L=u.allocUnsafe(C),U=u.allocUnsafe(B.length+4);B.copy(U,0,0,B.length);for(var j=0,ee=_[N],se=Math.ceil(C/ee),Ee=1;Ee<=se;Ee++){U.writeUInt32BE(Ee,B.length);for(var ge=k.run(U,k.ipad1),oe=ge,Le=1;Le<q;Le++){oe=k.run(oe,k.ipad2);for(var E=0;E<ee;E++)ge[E]^=oe[E]}ge.copy(L,j),j+=ee}return L}return syncBrowser=A,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var r=requireSafeBuffer$1().Buffer,e=requirePrecondition(),a=requireDefaultEncoding(),u=requireSyncBrowser(),d=requireToBuffer(),s,g=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,x={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},_=[];function S(q){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!g||!g.importKey||!g.deriveBits)return Promise.resolve(!1);if(_[q]!==void 0)return _[q];s=s||r.alloc(8);var C=R(s,s,10,128,q).then(function(){return!0}).catch(function(){return!1});return _[q]=C,C}var y;function A(){return y||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?y=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?y=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?y=commonjsGlobal.setImmediate:y=commonjsGlobal.setTimeout,y)}function R(q,C,N,k,L){return g.importKey("raw",q,{name:"PBKDF2"},!1,["deriveBits"]).then(function(U){return g.deriveBits({name:"PBKDF2",salt:C,iterations:N,hash:{name:L}},U,k<<3)}).then(function(U){return r.from(U)})}function B(q,C){q.then(function(N){A()(function(){C(null,N)})},function(N){A()(function(){C(N)})})}return async=function(q,C,N,k,L,U){typeof L=="function"&&(U=L,L=void 0),L=L||"sha1";var j=x[L.toLowerCase()];if(!j||typeof commonjsGlobal.Promise!="function"){A()(function(){var ee;try{ee=u(q,C,N,k,L)}catch(se){return U(se)}U(null,ee)});return}if(e(N,k),q=d(q,a,"Password"),C=d(C,a,"Salt"),typeof U!="function")throw new Error("No callback provided to pbkdf2");B(S(j).then(function(ee){return ee?R(q,C,N,k,j):u(q,C,N,k,L)}),U)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$7.pbkdf2=requireAsync(),browser$7.pbkdf2Sync=requireSyncBrowser()),browser$7}var browser$6={},des$1={},utils$3={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$3;hasRequiredUtils$3=1,utils$3.readUInt32BE=function(d,s){var g=d[0+s]<<24|d[1+s]<<16|d[2+s]<<8|d[3+s];return g>>>0},utils$3.writeUInt32BE=function(d,s,g){d[0+g]=s>>>24,d[1+g]=s>>>16&255,d[2+g]=s>>>8&255,d[3+g]=s&255},utils$3.ip=function(d,s,g,x){for(var _=0,S=0,y=6;y>=0;y-=2){for(var A=0;A<=24;A+=8)_<<=1,_|=s>>>A+y&1;for(var A=0;A<=24;A+=8)_<<=1,_|=d>>>A+y&1}for(var y=6;y>=0;y-=2){for(var A=1;A<=25;A+=8)S<<=1,S|=s>>>A+y&1;for(var A=1;A<=25;A+=8)S<<=1,S|=d>>>A+y&1}g[x+0]=_>>>0,g[x+1]=S>>>0},utils$3.rip=function(d,s,g,x){for(var _=0,S=0,y=0;y<4;y++)for(var A=24;A>=0;A-=8)_<<=1,_|=s>>>A+y&1,_<<=1,_|=d>>>A+y&1;for(var y=4;y<8;y++)for(var A=24;A>=0;A-=8)S<<=1,S|=s>>>A+y&1,S<<=1,S|=d>>>A+y&1;g[x+0]=_>>>0,g[x+1]=S>>>0},utils$3.pc1=function(d,s,g,x){for(var _=0,S=0,y=7;y>=5;y--){for(var A=0;A<=24;A+=8)_<<=1,_|=s>>A+y&1;for(var A=0;A<=24;A+=8)_<<=1,_|=d>>A+y&1}for(var A=0;A<=24;A+=8)_<<=1,_|=s>>A+y&1;for(var y=1;y<=3;y++){for(var A=0;A<=24;A+=8)S<<=1,S|=s>>A+y&1;for(var A=0;A<=24;A+=8)S<<=1,S|=d>>A+y&1}for(var A=0;A<=24;A+=8)S<<=1,S|=d>>A+y&1;g[x+0]=_>>>0,g[x+1]=S>>>0},utils$3.r28shl=function(d,s){return d<<s&268435455|d>>>28-s};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$3.pc2=function(d,s,g,x){for(var _=0,S=0,y=r.length>>>1,A=0;A<y;A++)_<<=1,_|=d>>>r[A]&1;for(var A=y;A<r.length;A++)S<<=1,S|=s>>>r[A]&1;g[x+0]=_>>>0,g[x+1]=S>>>0},utils$3.expand=function(d,s,g){var x=0,_=0;x=(d&1)<<5|d>>>27;for(var S=23;S>=15;S-=4)x<<=6,x|=d>>>S&63;for(var S=11;S>=3;S-=4)_|=d>>>S&63,_<<=6;_|=(d&31)<<1|d>>>31,s[g+0]=x>>>0,s[g+1]=_>>>0};var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$3.substitute=function(d,s){for(var g=0,x=0;x<4;x++){var _=d>>>18-x*6&63,S=e[x*64+_];g<<=4,g|=S}for(var x=0;x<4;x++){var _=s>>>18-x*6&63,S=e[4*64+x*64+_];g<<=4,g|=S}return g>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$3.permute=function(d){for(var s=0,g=0;g<a.length;g++)s<<=1,s|=d>>>a[g]&1;return s>>>0},utils$3.padSplit=function(d,s,g){for(var x=d.toString(2);x.length<s;)x="0"+x;for(var _=[],S=0;S<s;S+=g)_.push(x.slice(S,S+g));return _.join(" ")},utils$3}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=r;function r(e,a){if(!e)throw new Error(a||"Assertion failed")}return r.equal=function(a,u,d){if(a!=u)throw new Error(d||"Assertion failed: "+a+" != "+u)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var r=requireMinimalisticAssert();function e(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}return cipher=e,e.prototype._init=function(){},e.prototype.update=function(u){return u.length===0?[]:this.type==="decrypt"?this._updateDecrypt(u):this._updateEncrypt(u)},e.prototype._buffer=function(u,d){for(var s=Math.min(this.buffer.length-this.bufferOff,u.length-d),g=0;g<s;g++)this.buffer[this.bufferOff+g]=u[d+g];return this.bufferOff+=s,s},e.prototype._flushBuffer=function(u,d){return this._update(this.buffer,0,u,d),this.bufferOff=0,this.blockSize},e.prototype._updateEncrypt=function(u){var d=0,s=0,g=(this.bufferOff+u.length)/this.blockSize|0,x=new Array(g*this.blockSize);this.bufferOff!==0&&(d+=this._buffer(u,d),this.bufferOff===this.buffer.length&&(s+=this._flushBuffer(x,s)));for(var _=u.length-(u.length-d)%this.blockSize;d<_;d+=this.blockSize)this._update(u,d,x,s),s+=this.blockSize;for(;d<u.length;d++,this.bufferOff++)this.buffer[this.bufferOff]=u[d];return x},e.prototype._updateDecrypt=function(u){for(var d=0,s=0,g=Math.ceil((this.bufferOff+u.length)/this.blockSize)-1,x=new Array(g*this.blockSize);g>0;g--)d+=this._buffer(u,d),s+=this._flushBuffer(x,s);return d+=this._buffer(u,d),x},e.prototype.final=function(u){var d;u&&(d=this.update(u));var s;return this.type==="encrypt"?s=this._finalEncrypt():s=this._finalDecrypt(),d?d.concat(s):s},e.prototype._pad=function(u,d){if(d===0)return!1;for(;d<u.length;)u[d++]=0;return!0},e.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var u=new Array(this.blockSize);return this._update(this.buffer,0,u,0),u},e.prototype._unpad=function(u){return u},e.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var u=new Array(this.blockSize);return this._flushBuffer(u,0),this._unpad(u)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var r=requireMinimalisticAssert(),e=requireInherits_browser(),a=requireUtils$3(),u=requireCipher();function d(){this.tmp=new Array(2),this.keys=null}function s(x){u.call(this,x);var _=new d;this._desState=_,this.deriveKeys(_,x.key)}e(s,u),des=s,s.create=function(_){return new s(_)};var g=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return s.prototype.deriveKeys=function(_,S){_.keys=new Array(16*2),r.equal(S.length,this.blockSize,"Invalid key length");var y=a.readUInt32BE(S,0),A=a.readUInt32BE(S,4);a.pc1(y,A,_.tmp,0),y=_.tmp[0],A=_.tmp[1];for(var R=0;R<_.keys.length;R+=2){var B=g[R>>>1];y=a.r28shl(y,B),A=a.r28shl(A,B),a.pc2(y,A,_.keys,R)}},s.prototype._update=function(_,S,y,A){var R=this._desState,B=a.readUInt32BE(_,S),q=a.readUInt32BE(_,S+4);a.ip(B,q,R.tmp,0),B=R.tmp[0],q=R.tmp[1],this.type==="encrypt"?this._encrypt(R,B,q,R.tmp,0):this._decrypt(R,B,q,R.tmp,0),B=R.tmp[0],q=R.tmp[1],a.writeUInt32BE(y,B,A),a.writeUInt32BE(y,q,A+4)},s.prototype._pad=function(_,S){if(this.padding===!1)return!1;for(var y=_.length-S,A=S;A<_.length;A++)_[A]=y;return!0},s.prototype._unpad=function(_){if(this.padding===!1)return _;for(var S=_[_.length-1],y=_.length-S;y<_.length;y++)r.equal(_[y],S);return _.slice(0,_.length-S)},s.prototype._encrypt=function(_,S,y,A,R){for(var B=S,q=y,C=0;C<_.keys.length;C+=2){var N=_.keys[C],k=_.keys[C+1];a.expand(q,_.tmp,0),N^=_.tmp[0],k^=_.tmp[1];var L=a.substitute(N,k),U=a.permute(L),j=q;q=(B^U)>>>0,B=j}a.rip(q,B,A,R)},s.prototype._decrypt=function(_,S,y,A,R){for(var B=y,q=S,C=_.keys.length-2;C>=0;C-=2){var N=_.keys[C],k=_.keys[C+1];a.expand(B,_.tmp,0),N^=_.tmp[0],k^=_.tmp[1];var L=a.substitute(N,k),U=a.permute(L),j=B;B=(q^U)>>>0,q=j}a.rip(B,q,A,R)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var r=requireMinimalisticAssert(),e=requireInherits_browser(),a={};function u(s){r.equal(s.length,8,"Invalid IV length"),this.iv=new Array(8);for(var g=0;g<this.iv.length;g++)this.iv[g]=s[g]}function d(s){function g(y){s.call(this,y),this._cbcInit()}e(g,s);for(var x=Object.keys(a),_=0;_<x.length;_++){var S=x[_];g.prototype[S]=a[S]}return g.create=function(A){return new g(A)},g}return cbc$1.instantiate=d,a._cbcInit=function(){var g=new u(this.options.iv);this._cbcState=g},a._update=function(g,x,_,S){var y=this._cbcState,A=this.constructor.super_.prototype,R=y.iv;if(this.type==="encrypt"){for(var B=0;B<this.blockSize;B++)R[B]^=g[x+B];A._update.call(this,R,0,_,S);for(var B=0;B<this.blockSize;B++)R[B]=_[S+B]}else{A._update.call(this,g,x,_,S);for(var B=0;B<this.blockSize;B++)_[S+B]^=R[B];for(var B=0;B<this.blockSize;B++)R[B]=g[x+B]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var r=requireMinimalisticAssert(),e=requireInherits_browser(),a=requireCipher(),u=requireDes$1();function d(g,x){r.equal(x.length,24,"Invalid key length");var _=x.slice(0,8),S=x.slice(8,16),y=x.slice(16,24);g==="encrypt"?this.ciphers=[u.create({type:"encrypt",key:_}),u.create({type:"decrypt",key:S}),u.create({type:"encrypt",key:y})]:this.ciphers=[u.create({type:"decrypt",key:y}),u.create({type:"encrypt",key:S}),u.create({type:"decrypt",key:_})]}function s(g){a.call(this,g);var x=new d(this.type,this.options.key);this._edeState=x}return e(s,a),ede=s,s.create=function(x){return new s(x)},s.prototype._update=function(x,_,S,y){var A=this._edeState;A.ciphers[0]._update(x,_,S,y),A.ciphers[1]._update(S,y,S,y),A.ciphers[2]._update(S,y,S,y)},s.prototype._pad=u.prototype._pad,s.prototype._unpad=u.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var r=requireCipherBase(),e=requireDes(),a=requireInherits_browser(),u=requireSafeBuffer$1().Buffer,d={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};d.des=d["des-cbc"],d.des3=d["des-ede3-cbc"],browserifyDes=s,a(s,r);function s(g){r.call(this);var x=g.mode.toLowerCase(),_=d[x],S;g.decrypt?S="decrypt":S="encrypt";var y=g.key;u.isBuffer(y)||(y=u.from(y)),(x==="des-ede"||x==="des-ede-cbc")&&(y=u.concat([y,y.slice(0,8)]));var A=g.iv;u.isBuffer(A)||(A=u.from(A)),this._des=_.create({key:y,iv:A,type:S})}return s.prototype._update=function(g){return u.from(this._des.update(g))},s.prototype._final=function(){return u.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(r,e){return r._cipher.encryptBlock(e)},ecb.decrypt=function(r,e){return r._cipher.decryptBlock(e)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(e,a){for(var u=Math.min(e.length,a.length),d=new Buffer(u),s=0;s<u;++s)d[s]=e[s]^a[s];return d}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var r=requireBufferXor();return cbc.encrypt=function(e,a){var u=r(a,e._prev);return e._prev=e._cipher.encryptBlock(u),e._prev},cbc.decrypt=function(e,a){var u=e._prev;e._prev=a;var d=e._cipher.decryptBlock(a);return r(d,u)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var r=requireSafeBuffer$1().Buffer,e=requireBufferXor();function a(u,d,s){var g=d.length,x=e(d,u._cache);return u._cache=u._cache.slice(g),u._prev=r.concat([u._prev,s?d:x]),x}return cfb.encrypt=function(u,d,s){for(var g=r.allocUnsafe(0),x;d.length;)if(u._cache.length===0&&(u._cache=u._cipher.encryptBlock(u._prev),u._prev=r.allocUnsafe(0)),u._cache.length<=d.length)x=u._cache.length,g=r.concat([g,a(u,d.slice(0,x),s)]),d=d.slice(x);else{g=r.concat([g,a(u,d,s)]);break}return g},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var r=requireSafeBuffer$1().Buffer;function e(a,u,d){var s=a._cipher.encryptBlock(a._prev),g=s[0]^u;return a._prev=r.concat([a._prev.slice(1),r.from([d?u:g])]),g}return cfb8.encrypt=function(a,u,d){for(var s=u.length,g=r.allocUnsafe(s),x=-1;++x<s;)g[x]=e(a,u[x],d);return g},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var r=requireSafeBuffer$1().Buffer;function e(u,d,s){for(var g,x=-1,_=8,S=0,y,A;++x<_;)g=u._cipher.encryptBlock(u._prev),y=d&1<<7-x?128:0,A=g[0]^y,S+=(A&128)>>x%8,u._prev=a(u._prev,s?y:A);return S}function a(u,d){var s=u.length,g=-1,x=r.allocUnsafe(u.length);for(u=r.concat([u,r.from([d])]);++g<s;)x[g]=u[g]<<1|u[g+1]>>7;return x}return cfb1.encrypt=function(u,d,s){for(var g=d.length,x=r.allocUnsafe(g),_=-1;++_<g;)x[_]=e(u,d[_],s);return x},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var r=requireBufferXor();function e(a){return a._prev=a._cipher.encryptBlock(a._prev),a._prev}return ofb.encrypt=function(a,u){for(;a._cache.length<u.length;)a._cache=Buffer.concat([a._cache,e(a)]);var d=a._cache.slice(0,u.length);return a._cache=a._cache.slice(u.length),r(u,d)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function r(e){for(var a=e.length,u;a--;)if(u=e.readUInt8(a),u===255)e.writeUInt8(0,a);else{u++,e.writeUInt8(u,a);break}}return incr32_1=r,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var r=requireBufferXor(),e=requireSafeBuffer$1().Buffer,a=requireIncr32();function u(s){var g=s._cipher.encryptBlockRaw(s._prev);return a(s._prev),g}var d=16;return ctr.encrypt=function(s,g){var x=Math.ceil(g.length/d),_=s._cache.length;s._cache=e.concat([s._cache,e.allocUnsafe(x*d)]);for(var S=0;S<x;S++){var y=u(s),A=_+S*d;s._cache.writeUInt32BE(y[0],A+0),s._cache.writeUInt32BE(y[1],A+4),s._cache.writeUInt32BE(y[2],A+8),s._cache.writeUInt32BE(y[3],A+12)}var R=s._cache.slice(0,g.length);return s._cache=s._cache.slice(g.length),r(g,R)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var r={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},e=require$$2;for(var a in e)e[a].module=r[e[a].mode];return modes_1=e,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var r=requireSafeBuffer$1().Buffer;function e(x){r.isBuffer(x)||(x=r.from(x));for(var _=x.length/4|0,S=new Array(_),y=0;y<_;y++)S[y]=x.readUInt32BE(y*4);return S}function a(x){for(var _=0;_<x.length;x++)x[_]=0}function u(x,_,S,y,A){for(var R=S[0],B=S[1],q=S[2],C=S[3],N=x[0]^_[0],k=x[1]^_[1],L=x[2]^_[2],U=x[3]^_[3],j,ee,se,Ee,ge=4,oe=1;oe<A;oe++)j=R[N>>>24]^B[k>>>16&255]^q[L>>>8&255]^C[U&255]^_[ge++],ee=R[k>>>24]^B[L>>>16&255]^q[U>>>8&255]^C[N&255]^_[ge++],se=R[L>>>24]^B[U>>>16&255]^q[N>>>8&255]^C[k&255]^_[ge++],Ee=R[U>>>24]^B[N>>>16&255]^q[k>>>8&255]^C[L&255]^_[ge++],N=j,k=ee,L=se,U=Ee;return j=(y[N>>>24]<<24|y[k>>>16&255]<<16|y[L>>>8&255]<<8|y[U&255])^_[ge++],ee=(y[k>>>24]<<24|y[L>>>16&255]<<16|y[U>>>8&255]<<8|y[N&255])^_[ge++],se=(y[L>>>24]<<24|y[U>>>16&255]<<16|y[N>>>8&255]<<8|y[k&255])^_[ge++],Ee=(y[U>>>24]<<24|y[N>>>16&255]<<16|y[k>>>8&255]<<8|y[L&255])^_[ge++],j=j>>>0,ee=ee>>>0,se=se>>>0,Ee=Ee>>>0,[j,ee,se,Ee]}var d=[0,1,2,4,8,16,32,64,128,27,54],s=function(){for(var x=new Array(256),_=0;_<256;_++)_<128?x[_]=_<<1:x[_]=_<<1^283;for(var S=[],y=[],A=[[],[],[],[]],R=[[],[],[],[]],B=0,q=0,C=0;C<256;++C){var N=q^q<<1^q<<2^q<<3^q<<4;N=N>>>8^N&255^99,S[B]=N,y[N]=B;var k=x[B],L=x[k],U=x[L],j=x[N]*257^N*16843008;A[0][B]=j<<24|j>>>8,A[1][B]=j<<16|j>>>16,A[2][B]=j<<8|j>>>24,A[3][B]=j,j=U*16843009^L*65537^k*257^B*16843008,R[0][N]=j<<24|j>>>8,R[1][N]=j<<16|j>>>16,R[2][N]=j<<8|j>>>24,R[3][N]=j,B===0?B=q=1:(B=k^x[x[x[U^k]]],q^=x[x[q]])}return{SBOX:S,INV_SBOX:y,SUB_MIX:A,INV_SUB_MIX:R}}();function g(x){this._key=e(x),this._reset()}return g.blockSize=4*4,g.keySize=256/8,g.prototype.blockSize=g.blockSize,g.prototype.keySize=g.keySize,g.prototype._reset=function(){for(var x=this._key,_=x.length,S=_+6,y=(S+1)*4,A=[],R=0;R<_;R++)A[R]=x[R];for(R=_;R<y;R++){var B=A[R-1];R%_===0?(B=B<<8|B>>>24,B=s.SBOX[B>>>24]<<24|s.SBOX[B>>>16&255]<<16|s.SBOX[B>>>8&255]<<8|s.SBOX[B&255],B^=d[R/_|0]<<24):_>6&&R%_===4&&(B=s.SBOX[B>>>24]<<24|s.SBOX[B>>>16&255]<<16|s.SBOX[B>>>8&255]<<8|s.SBOX[B&255]),A[R]=A[R-_]^B}for(var q=[],C=0;C<y;C++){var N=y-C,k=A[N-(C%4?0:4)];C<4||N<=4?q[C]=k:q[C]=s.INV_SUB_MIX[0][s.SBOX[k>>>24]]^s.INV_SUB_MIX[1][s.SBOX[k>>>16&255]]^s.INV_SUB_MIX[2][s.SBOX[k>>>8&255]]^s.INV_SUB_MIX[3][s.SBOX[k&255]]}this._nRounds=S,this._keySchedule=A,this._invKeySchedule=q},g.prototype.encryptBlockRaw=function(x){return x=e(x),u(x,this._keySchedule,s.SUB_MIX,s.SBOX,this._nRounds)},g.prototype.encryptBlock=function(x){var _=this.encryptBlockRaw(x),S=r.allocUnsafe(16);return S.writeUInt32BE(_[0],0),S.writeUInt32BE(_[1],4),S.writeUInt32BE(_[2],8),S.writeUInt32BE(_[3],12),S},g.prototype.decryptBlock=function(x){x=e(x);var _=x[1];x[1]=x[3],x[3]=_;var S=u(x,this._invKeySchedule,s.INV_SUB_MIX,s.INV_SBOX,this._nRounds),y=r.allocUnsafe(16);return y.writeUInt32BE(S[0],0),y.writeUInt32BE(S[3],4),y.writeUInt32BE(S[2],8),y.writeUInt32BE(S[1],12),y},g.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},aes.AES=g,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var r=requireSafeBuffer$1().Buffer,e=r.alloc(16,0);function a(s){return[s.readUInt32BE(0),s.readUInt32BE(4),s.readUInt32BE(8),s.readUInt32BE(12)]}function u(s){var g=r.allocUnsafe(16);return g.writeUInt32BE(s[0]>>>0,0),g.writeUInt32BE(s[1]>>>0,4),g.writeUInt32BE(s[2]>>>0,8),g.writeUInt32BE(s[3]>>>0,12),g}function d(s){this.h=s,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}return d.prototype.ghash=function(s){for(var g=-1;++g<s.length;)this.state[g]^=s[g];this._multiply()},d.prototype._multiply=function(){for(var s=a(this.h),g=[0,0,0,0],x,_,S,y=-1;++y<128;){for(_=(this.state[~~(y/8)]&1<<7-y%8)!==0,_&&(g[0]^=s[0],g[1]^=s[1],g[2]^=s[2],g[3]^=s[3]),S=(s[3]&1)!==0,x=3;x>0;x--)s[x]=s[x]>>>1|(s[x-1]&1)<<31;s[0]=s[0]>>>1,S&&(s[0]=s[0]^225<<24)}this.state=u(g)},d.prototype.update=function(s){this.cache=r.concat([this.cache,s]);for(var g;this.cache.length>=16;)g=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(g)},d.prototype.final=function(s,g){return this.cache.length&&this.ghash(r.concat([this.cache,e],16)),this.ghash(u([0,s,0,g])),this.state},ghash=d,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var r=requireAes(),e=requireSafeBuffer$1().Buffer,a=requireCipherBase(),u=requireInherits_browser(),d=requireGhash(),s=requireBufferXor(),g=requireIncr32();function x(y,A){var R=0;y.length!==A.length&&R++;for(var B=Math.min(y.length,A.length),q=0;q<B;++q)R+=y[q]^A[q];return R}function _(y,A,R){if(A.length===12)return y._finID=e.concat([A,e.from([0,0,0,1])]),e.concat([A,e.from([0,0,0,2])]);var B=new d(R),q=A.length,C=q%16;B.update(A),C&&(C=16-C,B.update(e.alloc(C,0))),B.update(e.alloc(8,0));var N=q*8,k=e.alloc(8);k.writeUIntBE(N,0,8),B.update(k),y._finID=B.state;var L=e.from(y._finID);return g(L),L}function S(y,A,R,B){a.call(this);var q=e.alloc(4,0);this._cipher=new r.AES(A);var C=this._cipher.encryptBlock(q);this._ghash=new d(C),R=_(this,R,C),this._prev=e.from(R),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=B,this._alen=0,this._len=0,this._mode=y,this._authTag=null,this._called=!1}return u(S,a),S.prototype._update=function(y){if(!this._called&&this._alen){var A=16-this._alen%16;A<16&&(A=e.alloc(A,0),this._ghash.update(A))}this._called=!0;var R=this._mode.encrypt(this,y);return this._decrypt?this._ghash.update(y):this._ghash.update(R),this._len+=y.length,R},S.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var y=s(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&x(y,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=y,this._cipher.scrub()},S.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},S.prototype.setAuthTag=function(A){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=A},S.prototype.setAAD=function(A){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(A),this._alen+=A.length},authCipher=S,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var r=requireAes(),e=requireSafeBuffer$1().Buffer,a=requireCipherBase(),u=requireInherits_browser();function d(s,g,x,_){a.call(this),this._cipher=new r.AES(g),this._prev=e.from(x),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=_,this._mode=s}return u(d,a),d.prototype._update=function(s){return this._mode.encrypt(this,s,this._decrypt)},d.prototype._final=function(){this._cipher.scrub()},streamCipher=d,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var r=requireSafeBuffer$1().Buffer,e=requireMd5_js();function a(u,d,s,g){if(r.isBuffer(u)||(u=r.from(u,"binary")),d&&(r.isBuffer(d)||(d=r.from(d,"binary")),d.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var x=s/8,_=r.alloc(x),S=r.alloc(g||0),y=r.alloc(0);x>0||g>0;){var A=new e;A.update(y),A.update(u),d&&A.update(d),y=A.digest();var R=0;if(x>0){var B=_.length-x;R=Math.min(x,y.length),y.copy(_,B,0,R),x-=R}if(R<y.length&&g>0){var q=S.length-g,C=Math.min(g,y.length-R);y.copy(S,q,R,R+C),g-=C}}return y.fill(0),{key:_,iv:S}}return evp_bytestokey=a,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var r=requireModes$1(),e=requireAuthCipher(),a=requireSafeBuffer$1().Buffer,u=requireStreamCipher(),d=requireCipherBase(),s=requireAes(),g=requireEvp_bytestokey(),x=requireInherits_browser();function _(B,q,C){d.call(this),this._cache=new y,this._cipher=new s.AES(q),this._prev=a.from(C),this._mode=B,this._autopadding=!0}x(_,d),_.prototype._update=function(B){this._cache.add(B);for(var q,C,N=[];q=this._cache.get();)C=this._mode.encrypt(this,q),N.push(C);return a.concat(N)};var S=a.alloc(16,16);_.prototype._final=function(){var B=this._cache.flush();if(this._autopadding)return B=this._mode.encrypt(this,B),this._cipher.scrub(),B;if(!B.equals(S))throw this._cipher.scrub(),new Error("data not multiple of block length")},_.prototype.setAutoPadding=function(B){return this._autopadding=!!B,this};function y(){this.cache=a.allocUnsafe(0)}y.prototype.add=function(B){this.cache=a.concat([this.cache,B])},y.prototype.get=function(){if(this.cache.length>15){var B=this.cache.slice(0,16);return this.cache=this.cache.slice(16),B}return null},y.prototype.flush=function(){for(var B=16-this.cache.length,q=a.allocUnsafe(B),C=-1;++C<B;)q.writeUInt8(B,C);return a.concat([this.cache,q])};function A(B,q,C){var N=r[B.toLowerCase()];if(!N)throw new TypeError("invalid suite type");if(typeof q=="string"&&(q=a.from(q)),q.length!==N.key/8)throw new TypeError("invalid key length "+q.length);if(typeof C=="string"&&(C=a.from(C)),N.mode!=="GCM"&&C.length!==N.iv)throw new TypeError("invalid iv length "+C.length);return N.type==="stream"?new u(N.module,q,C):N.type==="auth"?new e(N.module,q,C):new _(N.module,q,C)}function R(B,q){var C=r[B.toLowerCase()];if(!C)throw new TypeError("invalid suite type");var N=g(q,!1,C.key,C.iv);return A(B,N.key,N.iv)}return encrypter.createCipheriv=A,encrypter.createCipher=R,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var r=requireAuthCipher(),e=requireSafeBuffer$1().Buffer,a=requireModes$1(),u=requireStreamCipher(),d=requireCipherBase(),s=requireAes(),g=requireEvp_bytestokey(),x=requireInherits_browser();function _(B,q,C){d.call(this),this._cache=new S,this._last=void 0,this._cipher=new s.AES(q),this._prev=e.from(C),this._mode=B,this._autopadding=!0}x(_,d),_.prototype._update=function(B){this._cache.add(B);for(var q,C,N=[];q=this._cache.get(this._autopadding);)C=this._mode.decrypt(this,q),N.push(C);return e.concat(N)},_.prototype._final=function(){var B=this._cache.flush();if(this._autopadding)return y(this._mode.decrypt(this,B));if(B)throw new Error("data not multiple of block length")},_.prototype.setAutoPadding=function(B){return this._autopadding=!!B,this};function S(){this.cache=e.allocUnsafe(0)}S.prototype.add=function(B){this.cache=e.concat([this.cache,B])},S.prototype.get=function(B){var q;if(B){if(this.cache.length>16)return q=this.cache.slice(0,16),this.cache=this.cache.slice(16),q}else if(this.cache.length>=16)return q=this.cache.slice(0,16),this.cache=this.cache.slice(16),q;return null},S.prototype.flush=function(){if(this.cache.length)return this.cache};function y(B){var q=B[15];if(q<1||q>16)throw new Error("unable to decrypt data");for(var C=-1;++C<q;)if(B[C+(16-q)]!==q)throw new Error("unable to decrypt data");if(q!==16)return B.slice(0,16-q)}function A(B,q,C){var N=a[B.toLowerCase()];if(!N)throw new TypeError("invalid suite type");if(typeof C=="string"&&(C=e.from(C)),N.mode!=="GCM"&&C.length!==N.iv)throw new TypeError("invalid iv length "+C.length);if(typeof q=="string"&&(q=e.from(q)),q.length!==N.key/8)throw new TypeError("invalid key length "+q.length);return N.type==="stream"?new u(N.module,q,C,!0):N.type==="auth"?new r(N.module,q,C,!0):new _(N.module,q,C)}function R(B,q){var C=a[B.toLowerCase()];if(!C)throw new TypeError("invalid suite type");var N=g(q,!1,C.key,C.iv);return A(B,N.key,N.iv)}return decrypter.createDecipher=R,decrypter.createDecipheriv=A,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var r=requireEncrypter(),e=requireDecrypter(),a=require$$2;function u(){return Object.keys(a)}return browser$5.createCipher=browser$5.Cipher=r.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=r.createCipheriv,browser$5.createDecipher=browser$5.Decipher=e.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=e.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=u,browser$5}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(r){r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var r=requireBrowserifyDes(),e=requireBrowser$6(),a=requireModes$1(),u=requireModes(),d=requireEvp_bytestokey();function s(y,A){y=y.toLowerCase();var R,B;if(a[y])R=a[y].key,B=a[y].iv;else if(u[y])R=u[y].key*8,B=u[y].iv;else throw new TypeError("invalid suite type");var q=d(A,!1,R,B);return x(y,q.key,q.iv)}function g(y,A){y=y.toLowerCase();var R,B;if(a[y])R=a[y].key,B=a[y].iv;else if(u[y])R=u[y].key*8,B=u[y].iv;else throw new TypeError("invalid suite type");var q=d(A,!1,R,B);return _(y,q.key,q.iv)}function x(y,A,R){if(y=y.toLowerCase(),a[y])return e.createCipheriv(y,A,R);if(u[y])return new r({key:A,iv:R,mode:y});throw new TypeError("invalid suite type")}function _(y,A,R){if(y=y.toLowerCase(),a[y])return e.createDecipheriv(y,A,R);if(u[y])return new r({key:A,iv:R,mode:y,decrypt:!0});throw new TypeError("invalid suite type")}function S(){return Object.keys(u).concat(e.getCiphers())}return browser$6.createCipher=browser$6.Cipher=s,browser$6.createCipheriv=browser$6.Cipheriv=x,browser$6.createDecipher=browser$6.Decipher=g,browser$6.createDecipheriv=browser$6.Decipheriv=_,browser$6.listCiphers=browser$6.getCiphers=S,browser$6}var browser$4={},bn$6={exports:{}};bn$6.exports;var hasRequiredBn$6;function requireBn$6(){return hasRequiredBn$6||(hasRequiredBn$6=1,function(r){(function(e,a){function u(E,t){if(!E)throw new Error(t||"Assertion failed")}function d(E,t){E.super_=t;var o=function(){};o.prototype=t.prototype,E.prototype=new o,E.prototype.constructor=E}function s(E,t,o){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((t==="le"||t==="be")&&(o=t,t=10),this._init(E||0,t||10,o||"be"))}typeof e=="object"?e.exports=s:a.BN=s,s.BN=s,s.wordSize=26;var g;try{typeof window<"u"&&typeof window.Buffer<"u"?g=window.Buffer:g=require$$0$1.Buffer}catch{}s.isBN=function(t){return t instanceof s?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,o){return t.cmp(o)>0?t:o},s.min=function(t,o){return t.cmp(o)<0?t:o},s.prototype._init=function(t,o,c){if(typeof t=="number")return this._initNumber(t,o,c);if(typeof t=="object")return this._initArray(t,o,c);o==="hex"&&(o=16),u(o===(o|0)&&o>=2&&o<=36),t=t.toString().replace(/\s+/g,"");var l=0;t[0]==="-"&&(l++,this.negative=1),l<t.length&&(o===16?this._parseHex(t,l,c):(this._parseBase(t,o,l),c==="le"&&this._initArray(this.toArray(),o,c)))},s.prototype._initNumber=function(t,o,c){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(u(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),o,c)},s.prototype._initArray=function(t,o,c){if(u(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var v,w,M=0;if(c==="be")for(l=t.length-1,v=0;l>=0;l-=3)w=t[l]|t[l-1]<<8|t[l-2]<<16,this.words[v]|=w<<M&67108863,this.words[v+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);else if(c==="le")for(l=0,v=0;l<t.length;l+=3)w=t[l]|t[l+1]<<8|t[l+2]<<16,this.words[v]|=w<<M&67108863,this.words[v+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);return this.strip()};function x(E,t){var o=E.charCodeAt(t);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function _(E,t,o){var c=x(E,o);return o-1>=t&&(c|=x(E,o-1)<<4),c}s.prototype._parseHex=function(t,o,c){this.length=Math.ceil((t.length-o)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var v=0,w=0,M;if(c==="be")for(l=t.length-1;l>=o;l-=2)M=_(t,o,l)<<v,this.words[w]|=M&67108863,v>=18?(v-=18,w+=1,this.words[w]|=M>>>26):v+=8;else{var m=t.length-o;for(l=m%2===0?o+1:o;l<t.length;l+=2)M=_(t,o,l)<<v,this.words[w]|=M&67108863,v>=18?(v-=18,w+=1,this.words[w]|=M>>>26):v+=8}this.strip()};function S(E,t,o,c){for(var l=0,v=Math.min(E.length,o),w=t;w<v;w++){var M=E.charCodeAt(w)-48;l*=c,M>=49?l+=M-49+10:M>=17?l+=M-17+10:l+=M}return l}s.prototype._parseBase=function(t,o,c){this.words=[0],this.length=1;for(var l=0,v=1;v<=67108863;v*=o)l++;l--,v=v/o|0;for(var w=t.length-c,M=w%l,m=Math.min(w,w-M)+c,n=0,b=c;b<m;b+=l)n=S(t,b,b+l,o),this.imuln(v),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n);if(M!==0){var P=1;for(n=S(t,b,t.length,o),b=0;b<M;b++)P*=o;this.imuln(P),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var o=0;o<this.length;o++)t.words[o]=this.words[o];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,o){t=t||10,o=o|0||1;var c;if(t===16||t==="hex"){c="";for(var l=0,v=0,w=0;w<this.length;w++){var M=this.words[w],m=((M<<l|v)&16777215).toString(16);v=M>>>24-l&16777215,v!==0||w!==this.length-1?c=y[6-m.length]+m+c:c=m+c,l+=2,l>=26&&(l-=26,w--)}for(v!==0&&(c=v.toString(16)+c);c.length%o!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(t===(t|0)&&t>=2&&t<=36){var n=A[t],b=R[t];c="";var P=this.clone();for(P.negative=0;!P.isZero();){var I=P.modn(b).toString(t);P=P.idivn(b),P.isZero()?c=I+c:c=y[n-I.length]+I+c}for(this.isZero()&&(c="0"+c);c.length%o!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}u(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,o){return u(typeof g<"u"),this.toArrayLike(g,t,o)},s.prototype.toArray=function(t,o){return this.toArrayLike(Array,t,o)},s.prototype.toArrayLike=function(t,o,c){var l=this.byteLength(),v=c||Math.max(1,l);u(l<=v,"byte array longer than desired length"),u(v>0,"Requested array length <= 0"),this.strip();var w=o==="le",M=new t(v),m,n,b=this.clone();if(w){for(n=0;!b.isZero();n++)m=b.andln(255),b.iushrn(8),M[n]=m;for(;n<v;n++)M[n]=0}else{for(n=0;n<v-l;n++)M[n]=0;for(n=0;!b.isZero();n++)m=b.andln(255),b.iushrn(8),M[v-n-1]=m}return M},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var o=t,c=0;return o>=4096&&(c+=13,o>>>=13),o>=64&&(c+=7,o>>>=7),o>=8&&(c+=4,o>>>=4),o>=2&&(c+=2,o>>>=2),c+o},s.prototype._zeroBits=function(t){if(t===0)return 26;var o=t,c=0;return o&8191||(c+=13,o>>>=13),o&127||(c+=7,o>>>=7),o&15||(c+=4,o>>>=4),o&3||(c+=2,o>>>=2),o&1||c++,c},s.prototype.bitLength=function(){var t=this.words[this.length-1],o=this._countBits(t);return(this.length-1)*26+o};function B(E){for(var t=new Array(E.bitLength()),o=0;o<t.length;o++){var c=o/26|0,l=o%26;t[o]=(E.words[c]&1<<l)>>>l}return t}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,o=0;o<this.length;o++){var c=this._zeroBits(this.words[o]);if(t+=c,c!==26)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]|t.words[o];return this.strip()},s.prototype.ior=function(t){return u((this.negative|t.negative)===0),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var o;this.length>t.length?o=t:o=this;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]&t.words[c];return this.length=o.length,this.strip()},s.prototype.iand=function(t){return u((this.negative|t.negative)===0),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var o,c;this.length>t.length?(o=this,c=t):(o=t,c=this);for(var l=0;l<c.length;l++)this.words[l]=o.words[l]^c.words[l];if(this!==o)for(;l<o.length;l++)this.words[l]=o.words[l];return this.length=o.length,this.strip()},s.prototype.ixor=function(t){return u((this.negative|t.negative)===0),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){u(typeof t=="number"&&t>=0);var o=Math.ceil(t/26)|0,c=t%26;this._expand(o),c>0&&o--;for(var l=0;l<o;l++)this.words[l]=~this.words[l]&67108863;return c>0&&(this.words[l]=~this.words[l]&67108863>>26-c),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,o){u(typeof t=="number"&&t>=0);var c=t/26|0,l=t%26;return this._expand(c+1),o?this.words[c]=this.words[c]|1<<l:this.words[c]=this.words[c]&~(1<<l),this.strip()},s.prototype.iadd=function(t){var o;if(this.negative!==0&&t.negative===0)return this.negative=0,o=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,o=this.isub(t),t.negative=1,o._normSign();var c,l;this.length>t.length?(c=this,l=t):(c=t,l=this);for(var v=0,w=0;w<l.length;w++)o=(c.words[w]|0)+(l.words[w]|0)+v,this.words[w]=o&67108863,v=o>>>26;for(;v!==0&&w<c.length;w++)o=(c.words[w]|0)+v,this.words[w]=o&67108863,v=o>>>26;if(this.length=c.length,v!==0)this.words[this.length]=v,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},s.prototype.add=function(t){var o;return t.negative!==0&&this.negative===0?(t.negative=0,o=this.sub(t),t.negative^=1,o):t.negative===0&&this.negative!==0?(this.negative=0,o=t.sub(this),this.negative=1,o):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var o=this.iadd(t);return t.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var c=this.cmp(t);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,v;c>0?(l=this,v=t):(l=t,v=this);for(var w=0,M=0;M<v.length;M++)o=(l.words[M]|0)-(v.words[M]|0)+w,w=o>>26,this.words[M]=o&67108863;for(;w!==0&&M<l.length;M++)o=(l.words[M]|0)+w,w=o>>26,this.words[M]=o&67108863;if(w===0&&M<l.length&&l!==this)for(;M<l.length;M++)this.words[M]=l.words[M];return this.length=Math.max(this.length,M),l!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};function q(E,t,o){o.negative=t.negative^E.negative;var c=E.length+t.length|0;o.length=c,c=c-1|0;var l=E.words[0]|0,v=t.words[0]|0,w=l*v,M=w&67108863,m=w/67108864|0;o.words[0]=M;for(var n=1;n<c;n++){for(var b=m>>>26,P=m&67108863,I=Math.min(n,t.length-1),F=Math.max(0,n-E.length+1);F<=I;F++){var Y=n-F|0;l=E.words[Y]|0,v=t.words[F]|0,w=l*v+P,b+=w/67108864|0,P=w&67108863}o.words[n]=P|0,m=b|0}return m!==0?o.words[n]=m|0:o.length--,o.strip()}var C=function(t,o,c){var l=t.words,v=o.words,w=c.words,M=0,m,n,b,P=l[0]|0,I=P&8191,F=P>>>13,Y=l[1]|0,X=Y&8191,T=Y>>>13,K=l[2]|0,W=K&8191,ne=K>>>13,ie=l[3]|0,G=ie&8191,H=ie>>>13,fe=l[4]|0,he=fe&8191,ve=fe>>>13,ke=l[5]|0,Me=ke&8191,le=ke>>>13,Ze=l[6]|0,_e=Ze&8191,Se=Ze>>>13,tt=l[7]|0,Ae=tt&8191,Pe=tt>>>13,ot=l[8]|0,Oe=ot&8191,He=ot>>>13,pt=l[9]|0,z=pt&8191,O=pt>>>13,D=v[0]|0,te=D&8191,ce=D>>>13,Fe=v[1]|0,be=Fe&8191,je=Fe>>>13,lt=v[2]|0,Ue=lt&8191,Ve=lt>>>13,dt=v[3]|0,Je=dt&8191,et=dt>>>13,bt=v[4]|0,Ge=bt&8191,Ye=bt>>>13,yt=v[5]|0,We=yt&8191,Xe=yt>>>13,gt=v[6]|0,Ke=gt&8191,Qe=gt>>>13,V=v[7]|0,J=V&8191,Z=V>>>13,$=v[8]|0,Q=$&8191,me=$>>>13,Ce=v[9]|0,we=Ce&8191,qe=Ce>>>13;c.negative=t.negative^o.negative,c.length=19,m=Math.imul(I,te),n=Math.imul(I,ce),n=n+Math.imul(F,te)|0,b=Math.imul(F,ce);var at=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(at>>>26)|0,at&=67108863,m=Math.imul(X,te),n=Math.imul(X,ce),n=n+Math.imul(T,te)|0,b=Math.imul(T,ce),m=m+Math.imul(I,be)|0,n=n+Math.imul(I,je)|0,n=n+Math.imul(F,be)|0,b=b+Math.imul(F,je)|0;var it=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(it>>>26)|0,it&=67108863,m=Math.imul(W,te),n=Math.imul(W,ce),n=n+Math.imul(ne,te)|0,b=Math.imul(ne,ce),m=m+Math.imul(X,be)|0,n=n+Math.imul(X,je)|0,n=n+Math.imul(T,be)|0,b=b+Math.imul(T,je)|0,m=m+Math.imul(I,Ue)|0,n=n+Math.imul(I,Ve)|0,n=n+Math.imul(F,Ue)|0,b=b+Math.imul(F,Ve)|0;var vt=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(G,te),n=Math.imul(G,ce),n=n+Math.imul(H,te)|0,b=Math.imul(H,ce),m=m+Math.imul(W,be)|0,n=n+Math.imul(W,je)|0,n=n+Math.imul(ne,be)|0,b=b+Math.imul(ne,je)|0,m=m+Math.imul(X,Ue)|0,n=n+Math.imul(X,Ve)|0,n=n+Math.imul(T,Ue)|0,b=b+Math.imul(T,Ve)|0,m=m+Math.imul(I,Je)|0,n=n+Math.imul(I,et)|0,n=n+Math.imul(F,Je)|0,b=b+Math.imul(F,et)|0;var ft=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(he,te),n=Math.imul(he,ce),n=n+Math.imul(ve,te)|0,b=Math.imul(ve,ce),m=m+Math.imul(G,be)|0,n=n+Math.imul(G,je)|0,n=n+Math.imul(H,be)|0,b=b+Math.imul(H,je)|0,m=m+Math.imul(W,Ue)|0,n=n+Math.imul(W,Ve)|0,n=n+Math.imul(ne,Ue)|0,b=b+Math.imul(ne,Ve)|0,m=m+Math.imul(X,Je)|0,n=n+Math.imul(X,et)|0,n=n+Math.imul(T,Je)|0,b=b+Math.imul(T,et)|0,m=m+Math.imul(I,Ge)|0,n=n+Math.imul(I,Ye)|0,n=n+Math.imul(F,Ge)|0,b=b+Math.imul(F,Ye)|0;var ht=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(Me,te),n=Math.imul(Me,ce),n=n+Math.imul(le,te)|0,b=Math.imul(le,ce),m=m+Math.imul(he,be)|0,n=n+Math.imul(he,je)|0,n=n+Math.imul(ve,be)|0,b=b+Math.imul(ve,je)|0,m=m+Math.imul(G,Ue)|0,n=n+Math.imul(G,Ve)|0,n=n+Math.imul(H,Ue)|0,b=b+Math.imul(H,Ve)|0,m=m+Math.imul(W,Je)|0,n=n+Math.imul(W,et)|0,n=n+Math.imul(ne,Je)|0,b=b+Math.imul(ne,et)|0,m=m+Math.imul(X,Ge)|0,n=n+Math.imul(X,Ye)|0,n=n+Math.imul(T,Ge)|0,b=b+Math.imul(T,Ye)|0,m=m+Math.imul(I,We)|0,n=n+Math.imul(I,Xe)|0,n=n+Math.imul(F,We)|0,b=b+Math.imul(F,Xe)|0;var ct=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ct>>>26)|0,ct&=67108863,m=Math.imul(_e,te),n=Math.imul(_e,ce),n=n+Math.imul(Se,te)|0,b=Math.imul(Se,ce),m=m+Math.imul(Me,be)|0,n=n+Math.imul(Me,je)|0,n=n+Math.imul(le,be)|0,b=b+Math.imul(le,je)|0,m=m+Math.imul(he,Ue)|0,n=n+Math.imul(he,Ve)|0,n=n+Math.imul(ve,Ue)|0,b=b+Math.imul(ve,Ve)|0,m=m+Math.imul(G,Je)|0,n=n+Math.imul(G,et)|0,n=n+Math.imul(H,Je)|0,b=b+Math.imul(H,et)|0,m=m+Math.imul(W,Ge)|0,n=n+Math.imul(W,Ye)|0,n=n+Math.imul(ne,Ge)|0,b=b+Math.imul(ne,Ye)|0,m=m+Math.imul(X,We)|0,n=n+Math.imul(X,Xe)|0,n=n+Math.imul(T,We)|0,b=b+Math.imul(T,Xe)|0,m=m+Math.imul(I,Ke)|0,n=n+Math.imul(I,Qe)|0,n=n+Math.imul(F,Ke)|0,b=b+Math.imul(F,Qe)|0;var re=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(re>>>26)|0,re&=67108863,m=Math.imul(Ae,te),n=Math.imul(Ae,ce),n=n+Math.imul(Pe,te)|0,b=Math.imul(Pe,ce),m=m+Math.imul(_e,be)|0,n=n+Math.imul(_e,je)|0,n=n+Math.imul(Se,be)|0,b=b+Math.imul(Se,je)|0,m=m+Math.imul(Me,Ue)|0,n=n+Math.imul(Me,Ve)|0,n=n+Math.imul(le,Ue)|0,b=b+Math.imul(le,Ve)|0,m=m+Math.imul(he,Je)|0,n=n+Math.imul(he,et)|0,n=n+Math.imul(ve,Je)|0,b=b+Math.imul(ve,et)|0,m=m+Math.imul(G,Ge)|0,n=n+Math.imul(G,Ye)|0,n=n+Math.imul(H,Ge)|0,b=b+Math.imul(H,Ye)|0,m=m+Math.imul(W,We)|0,n=n+Math.imul(W,Xe)|0,n=n+Math.imul(ne,We)|0,b=b+Math.imul(ne,Xe)|0,m=m+Math.imul(X,Ke)|0,n=n+Math.imul(X,Qe)|0,n=n+Math.imul(T,Ke)|0,b=b+Math.imul(T,Qe)|0,m=m+Math.imul(I,J)|0,n=n+Math.imul(I,Z)|0,n=n+Math.imul(F,J)|0,b=b+Math.imul(F,Z)|0;var ue=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ue>>>26)|0,ue&=67108863,m=Math.imul(Oe,te),n=Math.imul(Oe,ce),n=n+Math.imul(He,te)|0,b=Math.imul(He,ce),m=m+Math.imul(Ae,be)|0,n=n+Math.imul(Ae,je)|0,n=n+Math.imul(Pe,be)|0,b=b+Math.imul(Pe,je)|0,m=m+Math.imul(_e,Ue)|0,n=n+Math.imul(_e,Ve)|0,n=n+Math.imul(Se,Ue)|0,b=b+Math.imul(Se,Ve)|0,m=m+Math.imul(Me,Je)|0,n=n+Math.imul(Me,et)|0,n=n+Math.imul(le,Je)|0,b=b+Math.imul(le,et)|0,m=m+Math.imul(he,Ge)|0,n=n+Math.imul(he,Ye)|0,n=n+Math.imul(ve,Ge)|0,b=b+Math.imul(ve,Ye)|0,m=m+Math.imul(G,We)|0,n=n+Math.imul(G,Xe)|0,n=n+Math.imul(H,We)|0,b=b+Math.imul(H,Xe)|0,m=m+Math.imul(W,Ke)|0,n=n+Math.imul(W,Qe)|0,n=n+Math.imul(ne,Ke)|0,b=b+Math.imul(ne,Qe)|0,m=m+Math.imul(X,J)|0,n=n+Math.imul(X,Z)|0,n=n+Math.imul(T,J)|0,b=b+Math.imul(T,Z)|0,m=m+Math.imul(I,Q)|0,n=n+Math.imul(I,me)|0,n=n+Math.imul(F,Q)|0,b=b+Math.imul(F,me)|0;var ae=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ae>>>26)|0,ae&=67108863,m=Math.imul(z,te),n=Math.imul(z,ce),n=n+Math.imul(O,te)|0,b=Math.imul(O,ce),m=m+Math.imul(Oe,be)|0,n=n+Math.imul(Oe,je)|0,n=n+Math.imul(He,be)|0,b=b+Math.imul(He,je)|0,m=m+Math.imul(Ae,Ue)|0,n=n+Math.imul(Ae,Ve)|0,n=n+Math.imul(Pe,Ue)|0,b=b+Math.imul(Pe,Ve)|0,m=m+Math.imul(_e,Je)|0,n=n+Math.imul(_e,et)|0,n=n+Math.imul(Se,Je)|0,b=b+Math.imul(Se,et)|0,m=m+Math.imul(Me,Ge)|0,n=n+Math.imul(Me,Ye)|0,n=n+Math.imul(le,Ge)|0,b=b+Math.imul(le,Ye)|0,m=m+Math.imul(he,We)|0,n=n+Math.imul(he,Xe)|0,n=n+Math.imul(ve,We)|0,b=b+Math.imul(ve,Xe)|0,m=m+Math.imul(G,Ke)|0,n=n+Math.imul(G,Qe)|0,n=n+Math.imul(H,Ke)|0,b=b+Math.imul(H,Qe)|0,m=m+Math.imul(W,J)|0,n=n+Math.imul(W,Z)|0,n=n+Math.imul(ne,J)|0,b=b+Math.imul(ne,Z)|0,m=m+Math.imul(X,Q)|0,n=n+Math.imul(X,me)|0,n=n+Math.imul(T,Q)|0,b=b+Math.imul(T,me)|0,m=m+Math.imul(I,we)|0,n=n+Math.imul(I,qe)|0,n=n+Math.imul(F,we)|0,b=b+Math.imul(F,qe)|0;var pe=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(pe>>>26)|0,pe&=67108863,m=Math.imul(z,be),n=Math.imul(z,je),n=n+Math.imul(O,be)|0,b=Math.imul(O,je),m=m+Math.imul(Oe,Ue)|0,n=n+Math.imul(Oe,Ve)|0,n=n+Math.imul(He,Ue)|0,b=b+Math.imul(He,Ve)|0,m=m+Math.imul(Ae,Je)|0,n=n+Math.imul(Ae,et)|0,n=n+Math.imul(Pe,Je)|0,b=b+Math.imul(Pe,et)|0,m=m+Math.imul(_e,Ge)|0,n=n+Math.imul(_e,Ye)|0,n=n+Math.imul(Se,Ge)|0,b=b+Math.imul(Se,Ye)|0,m=m+Math.imul(Me,We)|0,n=n+Math.imul(Me,Xe)|0,n=n+Math.imul(le,We)|0,b=b+Math.imul(le,Xe)|0,m=m+Math.imul(he,Ke)|0,n=n+Math.imul(he,Qe)|0,n=n+Math.imul(ve,Ke)|0,b=b+Math.imul(ve,Qe)|0,m=m+Math.imul(G,J)|0,n=n+Math.imul(G,Z)|0,n=n+Math.imul(H,J)|0,b=b+Math.imul(H,Z)|0,m=m+Math.imul(W,Q)|0,n=n+Math.imul(W,me)|0,n=n+Math.imul(ne,Q)|0,b=b+Math.imul(ne,me)|0,m=m+Math.imul(X,we)|0,n=n+Math.imul(X,qe)|0,n=n+Math.imul(T,we)|0,b=b+Math.imul(T,qe)|0;var ye=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,m=Math.imul(z,Ue),n=Math.imul(z,Ve),n=n+Math.imul(O,Ue)|0,b=Math.imul(O,Ve),m=m+Math.imul(Oe,Je)|0,n=n+Math.imul(Oe,et)|0,n=n+Math.imul(He,Je)|0,b=b+Math.imul(He,et)|0,m=m+Math.imul(Ae,Ge)|0,n=n+Math.imul(Ae,Ye)|0,n=n+Math.imul(Pe,Ge)|0,b=b+Math.imul(Pe,Ye)|0,m=m+Math.imul(_e,We)|0,n=n+Math.imul(_e,Xe)|0,n=n+Math.imul(Se,We)|0,b=b+Math.imul(Se,Xe)|0,m=m+Math.imul(Me,Ke)|0,n=n+Math.imul(Me,Qe)|0,n=n+Math.imul(le,Ke)|0,b=b+Math.imul(le,Qe)|0,m=m+Math.imul(he,J)|0,n=n+Math.imul(he,Z)|0,n=n+Math.imul(ve,J)|0,b=b+Math.imul(ve,Z)|0,m=m+Math.imul(G,Q)|0,n=n+Math.imul(G,me)|0,n=n+Math.imul(H,Q)|0,b=b+Math.imul(H,me)|0,m=m+Math.imul(W,we)|0,n=n+Math.imul(W,qe)|0,n=n+Math.imul(ne,we)|0,b=b+Math.imul(ne,qe)|0;var xe=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,m=Math.imul(z,Je),n=Math.imul(z,et),n=n+Math.imul(O,Je)|0,b=Math.imul(O,et),m=m+Math.imul(Oe,Ge)|0,n=n+Math.imul(Oe,Ye)|0,n=n+Math.imul(He,Ge)|0,b=b+Math.imul(He,Ye)|0,m=m+Math.imul(Ae,We)|0,n=n+Math.imul(Ae,Xe)|0,n=n+Math.imul(Pe,We)|0,b=b+Math.imul(Pe,Xe)|0,m=m+Math.imul(_e,Ke)|0,n=n+Math.imul(_e,Qe)|0,n=n+Math.imul(Se,Ke)|0,b=b+Math.imul(Se,Qe)|0,m=m+Math.imul(Me,J)|0,n=n+Math.imul(Me,Z)|0,n=n+Math.imul(le,J)|0,b=b+Math.imul(le,Z)|0,m=m+Math.imul(he,Q)|0,n=n+Math.imul(he,me)|0,n=n+Math.imul(ve,Q)|0,b=b+Math.imul(ve,me)|0,m=m+Math.imul(G,we)|0,n=n+Math.imul(G,qe)|0,n=n+Math.imul(H,we)|0,b=b+Math.imul(H,qe)|0;var Ne=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,m=Math.imul(z,Ge),n=Math.imul(z,Ye),n=n+Math.imul(O,Ge)|0,b=Math.imul(O,Ye),m=m+Math.imul(Oe,We)|0,n=n+Math.imul(Oe,Xe)|0,n=n+Math.imul(He,We)|0,b=b+Math.imul(He,Xe)|0,m=m+Math.imul(Ae,Ke)|0,n=n+Math.imul(Ae,Qe)|0,n=n+Math.imul(Pe,Ke)|0,b=b+Math.imul(Pe,Qe)|0,m=m+Math.imul(_e,J)|0,n=n+Math.imul(_e,Z)|0,n=n+Math.imul(Se,J)|0,b=b+Math.imul(Se,Z)|0,m=m+Math.imul(Me,Q)|0,n=n+Math.imul(Me,me)|0,n=n+Math.imul(le,Q)|0,b=b+Math.imul(le,me)|0,m=m+Math.imul(he,we)|0,n=n+Math.imul(he,qe)|0,n=n+Math.imul(ve,we)|0,b=b+Math.imul(ve,qe)|0;var $e=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+($e>>>26)|0,$e&=67108863,m=Math.imul(z,We),n=Math.imul(z,Xe),n=n+Math.imul(O,We)|0,b=Math.imul(O,Xe),m=m+Math.imul(Oe,Ke)|0,n=n+Math.imul(Oe,Qe)|0,n=n+Math.imul(He,Ke)|0,b=b+Math.imul(He,Qe)|0,m=m+Math.imul(Ae,J)|0,n=n+Math.imul(Ae,Z)|0,n=n+Math.imul(Pe,J)|0,b=b+Math.imul(Pe,Z)|0,m=m+Math.imul(_e,Q)|0,n=n+Math.imul(_e,me)|0,n=n+Math.imul(Se,Q)|0,b=b+Math.imul(Se,me)|0,m=m+Math.imul(Me,we)|0,n=n+Math.imul(Me,qe)|0,n=n+Math.imul(le,we)|0,b=b+Math.imul(le,qe)|0;var Re=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,m=Math.imul(z,Ke),n=Math.imul(z,Qe),n=n+Math.imul(O,Ke)|0,b=Math.imul(O,Qe),m=m+Math.imul(Oe,J)|0,n=n+Math.imul(Oe,Z)|0,n=n+Math.imul(He,J)|0,b=b+Math.imul(He,Z)|0,m=m+Math.imul(Ae,Q)|0,n=n+Math.imul(Ae,me)|0,n=n+Math.imul(Pe,Q)|0,b=b+Math.imul(Pe,me)|0,m=m+Math.imul(_e,we)|0,n=n+Math.imul(_e,qe)|0,n=n+Math.imul(Se,we)|0,b=b+Math.imul(Se,qe)|0;var Ie=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,m=Math.imul(z,J),n=Math.imul(z,Z),n=n+Math.imul(O,J)|0,b=Math.imul(O,Z),m=m+Math.imul(Oe,Q)|0,n=n+Math.imul(Oe,me)|0,n=n+Math.imul(He,Q)|0,b=b+Math.imul(He,me)|0,m=m+Math.imul(Ae,we)|0,n=n+Math.imul(Ae,qe)|0,n=n+Math.imul(Pe,we)|0,b=b+Math.imul(Pe,qe)|0;var ze=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ze>>>26)|0,ze&=67108863,m=Math.imul(z,Q),n=Math.imul(z,me),n=n+Math.imul(O,Q)|0,b=Math.imul(O,me),m=m+Math.imul(Oe,we)|0,n=n+Math.imul(Oe,qe)|0,n=n+Math.imul(He,we)|0,b=b+Math.imul(He,qe)|0;var Te=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,m=Math.imul(z,we),n=Math.imul(z,qe),n=n+Math.imul(O,we)|0,b=Math.imul(O,qe);var De=(M+m|0)+((n&8191)<<13)|0;return M=(b+(n>>>13)|0)+(De>>>26)|0,De&=67108863,w[0]=at,w[1]=it,w[2]=vt,w[3]=ft,w[4]=ht,w[5]=ct,w[6]=re,w[7]=ue,w[8]=ae,w[9]=pe,w[10]=ye,w[11]=xe,w[12]=Ne,w[13]=$e,w[14]=Re,w[15]=Ie,w[16]=ze,w[17]=Te,w[18]=De,M!==0&&(w[19]=M,c.length++),c};Math.imul||(C=q);function N(E,t,o){o.negative=t.negative^E.negative,o.length=E.length+t.length;for(var c=0,l=0,v=0;v<o.length-1;v++){var w=l;l=0;for(var M=c&67108863,m=Math.min(v,t.length-1),n=Math.max(0,v-E.length+1);n<=m;n++){var b=v-n,P=E.words[b]|0,I=t.words[n]|0,F=P*I,Y=F&67108863;w=w+(F/67108864|0)|0,Y=Y+M|0,M=Y&67108863,w=w+(Y>>>26)|0,l+=w>>>26,w&=67108863}o.words[v]=M,c=w,w=l}return c!==0?o.words[v]=c:o.length--,o.strip()}function k(E,t,o){var c=new L;return c.mulp(E,t,o)}s.prototype.mulTo=function(t,o){var c,l=this.length+t.length;return this.length===10&&t.length===10?c=C(this,t,o):l<63?c=q(this,t,o):l<1024?c=N(this,t,o):c=k(this,t,o),c};function L(E,t){this.x=E,this.y=t}L.prototype.makeRBT=function(t){for(var o=new Array(t),c=s.prototype._countBits(t)-1,l=0;l<t;l++)o[l]=this.revBin(l,c,t);return o},L.prototype.revBin=function(t,o,c){if(t===0||t===c-1)return t;for(var l=0,v=0;v<o;v++)l|=(t&1)<<o-v-1,t>>=1;return l},L.prototype.permute=function(t,o,c,l,v,w){for(var M=0;M<w;M++)l[M]=o[t[M]],v[M]=c[t[M]]},L.prototype.transform=function(t,o,c,l,v,w){this.permute(w,t,o,c,l,v);for(var M=1;M<v;M<<=1)for(var m=M<<1,n=Math.cos(2*Math.PI/m),b=Math.sin(2*Math.PI/m),P=0;P<v;P+=m)for(var I=n,F=b,Y=0;Y<M;Y++){var X=c[P+Y],T=l[P+Y],K=c[P+Y+M],W=l[P+Y+M],ne=I*K-F*W;W=I*W+F*K,K=ne,c[P+Y]=X+K,l[P+Y]=T+W,c[P+Y+M]=X-K,l[P+Y+M]=T-W,Y!==m&&(ne=n*I-b*F,F=n*F+b*I,I=ne)}},L.prototype.guessLen13b=function(t,o){var c=Math.max(o,t)|1,l=c&1,v=0;for(c=c/2|0;c;c=c>>>1)v++;return 1<<v+1+l},L.prototype.conjugate=function(t,o,c){if(!(c<=1))for(var l=0;l<c/2;l++){var v=t[l];t[l]=t[c-l-1],t[c-l-1]=v,v=o[l],o[l]=-o[c-l-1],o[c-l-1]=-v}},L.prototype.normalize13b=function(t,o){for(var c=0,l=0;l<o/2;l++){var v=Math.round(t[2*l+1]/o)*8192+Math.round(t[2*l]/o)+c;t[l]=v&67108863,v<67108864?c=0:c=v/67108864|0}return t},L.prototype.convert13b=function(t,o,c,l){for(var v=0,w=0;w<o;w++)v=v+(t[w]|0),c[2*w]=v&8191,v=v>>>13,c[2*w+1]=v&8191,v=v>>>13;for(w=2*o;w<l;++w)c[w]=0;u(v===0),u((v&-8192)===0)},L.prototype.stub=function(t){for(var o=new Array(t),c=0;c<t;c++)o[c]=0;return o},L.prototype.mulp=function(t,o,c){var l=2*this.guessLen13b(t.length,o.length),v=this.makeRBT(l),w=this.stub(l),M=new Array(l),m=new Array(l),n=new Array(l),b=new Array(l),P=new Array(l),I=new Array(l),F=c.words;F.length=l,this.convert13b(t.words,t.length,M,l),this.convert13b(o.words,o.length,b,l),this.transform(M,w,m,n,l,v),this.transform(b,w,P,I,l,v);for(var Y=0;Y<l;Y++){var X=m[Y]*P[Y]-n[Y]*I[Y];n[Y]=m[Y]*I[Y]+n[Y]*P[Y],m[Y]=X}return this.conjugate(m,n,l),this.transform(m,n,F,w,l,v),this.conjugate(F,w,l),this.normalize13b(F,l),c.negative=t.negative^o.negative,c.length=t.length+o.length,c.strip()},s.prototype.mul=function(t){var o=new s(null);return o.words=new Array(this.length+t.length),this.mulTo(t,o)},s.prototype.mulf=function(t){var o=new s(null);return o.words=new Array(this.length+t.length),k(this,t,o)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){u(typeof t=="number"),u(t<67108864);for(var o=0,c=0;c<this.length;c++){var l=(this.words[c]|0)*t,v=(l&67108863)+(o&67108863);o>>=26,o+=l/67108864|0,o+=v>>>26,this.words[c]=v&67108863}return o!==0&&(this.words[c]=o,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var o=B(t);if(o.length===0)return new s(1);for(var c=this,l=0;l<o.length&&o[l]===0;l++,c=c.sqr());if(++l<o.length)for(var v=c.sqr();l<o.length;l++,v=v.sqr())o[l]!==0&&(c=c.mul(v));return c},s.prototype.iushln=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26,l=67108863>>>26-o<<26-o,v;if(o!==0){var w=0;for(v=0;v<this.length;v++){var M=this.words[v]&l,m=(this.words[v]|0)-M<<o;this.words[v]=m|w,w=M>>>26-o}w&&(this.words[v]=w,this.length++)}if(c!==0){for(v=this.length-1;v>=0;v--)this.words[v+c]=this.words[v];for(v=0;v<c;v++)this.words[v]=0;this.length+=c}return this.strip()},s.prototype.ishln=function(t){return u(this.negative===0),this.iushln(t)},s.prototype.iushrn=function(t,o,c){u(typeof t=="number"&&t>=0);var l;o?l=(o-o%26)/26:l=0;var v=t%26,w=Math.min((t-v)/26,this.length),M=67108863^67108863>>>v<<v,m=c;if(l-=w,l=Math.max(0,l),m){for(var n=0;n<w;n++)m.words[n]=this.words[n];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,n=0;n<this.length;n++)this.words[n]=this.words[n+w];else this.words[0]=0,this.length=1;var b=0;for(n=this.length-1;n>=0&&(b!==0||n>=l);n--){var P=this.words[n]|0;this.words[n]=b<<26-v|P>>>v,b=P&M}return m&&b!==0&&(m.words[m.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,o,c){return u(this.negative===0),this.iushrn(t,o,c)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26,l=1<<o;if(this.length<=c)return!1;var v=this.words[c];return!!(v&l)},s.prototype.imaskn=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(o!==0&&c++,this.length=Math.min(c,this.length),o!==0){var l=67108863^67108863>>>o<<o;this.words[this.length-1]&=l}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return u(typeof t=="number"),u(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},s.prototype.isubn=function(t){if(u(typeof t=="number"),u(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,o,c){var l=t.length+c,v;this._expand(l);var w,M=0;for(v=0;v<t.length;v++){w=(this.words[v+c]|0)+M;var m=(t.words[v]|0)*o;w-=m&67108863,M=(w>>26)-(m/67108864|0),this.words[v+c]=w&67108863}for(;v<this.length-c;v++)w=(this.words[v+c]|0)+M,M=w>>26,this.words[v+c]=w&67108863;if(M===0)return this.strip();for(u(M===-1),M=0,v=0;v<this.length;v++)w=-(this.words[v]|0)+M,M=w>>26,this.words[v]=w&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,o){var c=this.length-t.length,l=this.clone(),v=t,w=v.words[v.length-1]|0,M=this._countBits(w);c=26-M,c!==0&&(v=v.ushln(c),l.iushln(c),w=v.words[v.length-1]|0);var m=l.length-v.length,n;if(o!=="mod"){n=new s(null),n.length=m+1,n.words=new Array(n.length);for(var b=0;b<n.length;b++)n.words[b]=0}var P=l.clone()._ishlnsubmul(v,1,m);P.negative===0&&(l=P,n&&(n.words[m]=1));for(var I=m-1;I>=0;I--){var F=(l.words[v.length+I]|0)*67108864+(l.words[v.length+I-1]|0);for(F=Math.min(F/w|0,67108863),l._ishlnsubmul(v,F,I);l.negative!==0;)F--,l.negative=0,l._ishlnsubmul(v,1,I),l.isZero()||(l.negative^=1);n&&(n.words[I]=F)}return n&&n.strip(),l.strip(),o!=="div"&&c!==0&&l.iushrn(c),{div:n||null,mod:l}},s.prototype.divmod=function(t,o,c){if(u(!t.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var l,v,w;return this.negative!==0&&t.negative===0?(w=this.neg().divmod(t,o),o!=="mod"&&(l=w.div.neg()),o!=="div"&&(v=w.mod.neg(),c&&v.negative!==0&&v.iadd(t)),{div:l,mod:v}):this.negative===0&&t.negative!==0?(w=this.divmod(t.neg(),o),o!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&t.negative?(w=this.neg().divmod(t.neg(),o),o!=="div"&&(v=w.mod.neg(),c&&v.negative!==0&&v.isub(t)),{div:w.div,mod:v}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:t.length===1?o==="div"?{div:this.divn(t.words[0]),mod:null}:o==="mod"?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,o)},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var o=this.divmod(t);if(o.mod.isZero())return o.div;var c=o.div.negative!==0?o.mod.isub(t):o.mod,l=t.ushrn(1),v=t.andln(1),w=c.cmp(l);return w<0||v===1&&w===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},s.prototype.modn=function(t){u(t<=67108863);for(var o=(1<<26)%t,c=0,l=this.length-1;l>=0;l--)c=(o*c+(this.words[l]|0))%t;return c},s.prototype.idivn=function(t){u(t<=67108863);for(var o=0,c=this.length-1;c>=0;c--){var l=(this.words[c]|0)+o*67108864;this.words[c]=l/t|0,o=l%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){u(t.negative===0),u(!t.isZero());var o=this,c=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var l=new s(1),v=new s(0),w=new s(0),M=new s(1),m=0;o.isEven()&&c.isEven();)o.iushrn(1),c.iushrn(1),++m;for(var n=c.clone(),b=o.clone();!o.isZero();){for(var P=0,I=1;!(o.words[0]&I)&&P<26;++P,I<<=1);if(P>0)for(o.iushrn(P);P-- >0;)(l.isOdd()||v.isOdd())&&(l.iadd(n),v.isub(b)),l.iushrn(1),v.iushrn(1);for(var F=0,Y=1;!(c.words[0]&Y)&&F<26;++F,Y<<=1);if(F>0)for(c.iushrn(F);F-- >0;)(w.isOdd()||M.isOdd())&&(w.iadd(n),M.isub(b)),w.iushrn(1),M.iushrn(1);o.cmp(c)>=0?(o.isub(c),l.isub(w),v.isub(M)):(c.isub(o),w.isub(l),M.isub(v))}return{a:w,b:M,gcd:c.iushln(m)}},s.prototype._invmp=function(t){u(t.negative===0),u(!t.isZero());var o=this,c=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var l=new s(1),v=new s(0),w=c.clone();o.cmpn(1)>0&&c.cmpn(1)>0;){for(var M=0,m=1;!(o.words[0]&m)&&M<26;++M,m<<=1);if(M>0)for(o.iushrn(M);M-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var n=0,b=1;!(c.words[0]&b)&&n<26;++n,b<<=1);if(n>0)for(c.iushrn(n);n-- >0;)v.isOdd()&&v.iadd(w),v.iushrn(1);o.cmp(c)>=0?(o.isub(c),l.isub(v)):(c.isub(o),v.isub(l))}var P;return o.cmpn(1)===0?P=l:P=v,P.cmpn(0)<0&&P.iadd(t),P},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var o=this.clone(),c=t.clone();o.negative=0,c.negative=0;for(var l=0;o.isEven()&&c.isEven();l++)o.iushrn(1),c.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;c.isEven();)c.iushrn(1);var v=o.cmp(c);if(v<0){var w=o;o=c,c=w}else if(v===0||c.cmpn(1)===0)break;o.isub(c)}while(!0);return c.iushln(l)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){u(typeof t=="number");var o=t%26,c=(t-o)/26,l=1<<o;if(this.length<=c)return this._expand(c+1),this.words[c]|=l,this;for(var v=l,w=c;v!==0&&w<this.length;w++){var M=this.words[w]|0;M+=v,v=M>>>26,M&=67108863,this.words[w]=M}return v!==0&&(this.words[w]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(t){var o=t<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var c;if(this.length>1)c=1;else{o&&(t=-t),u(t<=67108863,"Number is too big");var l=this.words[0]|0;c=l===t?0:l<t?-1:1}return this.negative!==0?-c|0:c},s.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var o=this.ucmp(t);return this.negative!==0?-o|0:o},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var o=0,c=this.length-1;c>=0;c--){var l=this.words[c]|0,v=t.words[c]|0;if(l!==v){l<v?o=-1:l>v&&(o=1);break}}return o},s.prototype.gtn=function(t){return this.cmpn(t)===1},s.prototype.gt=function(t){return this.cmp(t)===1},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return this.cmpn(t)===-1},s.prototype.lt=function(t){return this.cmp(t)===-1},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return this.cmpn(t)===0},s.prototype.eq=function(t){return this.cmp(t)===0},s.red=function(t){return new oe(t)},s.prototype.toRed=function(t){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return u(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return u(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var U={k256:null,p224:null,p192:null,p25519:null};function j(E,t){this.name=E,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},j.prototype.ireduce=function(t){var o=t,c;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),c=o.bitLength();while(c>this.n);var l=c<this.n?-1:o.ucmp(this.p);return l===0?(o.words[0]=0,o.length=1):l>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},j.prototype.split=function(t,o){t.iushrn(this.n,0,o)},j.prototype.imulK=function(t){return t.imul(this.k)};function ee(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}d(ee,j),ee.prototype.split=function(t,o){for(var c=4194303,l=Math.min(t.length,9),v=0;v<l;v++)o.words[v]=t.words[v];if(o.length=l,t.length<=9){t.words[0]=0,t.length=1;return}var w=t.words[9];for(o.words[o.length++]=w&c,v=10;v<t.length;v++){var M=t.words[v]|0;t.words[v-10]=(M&c)<<4|w>>>22,w=M}w>>>=22,t.words[v-10]=w,w===0&&t.length>10?t.length-=10:t.length-=9},ee.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var o=0,c=0;c<t.length;c++){var l=t.words[c]|0;o+=l*977,t.words[c]=o&67108863,o=l*64+(o/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function se(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}d(se,j);function Ee(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}d(Ee,j);function ge(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}d(ge,j),ge.prototype.imulK=function(t){for(var o=0,c=0;c<t.length;c++){var l=(t.words[c]|0)*19+o,v=l&67108863;l>>>=26,t.words[c]=v,o=l}return o!==0&&(t.words[t.length++]=o),t},s._prime=function(t){if(U[t])return U[t];var o;if(t==="k256")o=new ee;else if(t==="p224")o=new se;else if(t==="p192")o=new Ee;else if(t==="p25519")o=new ge;else throw new Error("Unknown prime "+t);return U[t]=o,o};function oe(E){if(typeof E=="string"){var t=s._prime(E);this.m=t.p,this.prime=t}else u(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}oe.prototype._verify1=function(t){u(t.negative===0,"red works only with positives"),u(t.red,"red works only with red numbers")},oe.prototype._verify2=function(t,o){u((t.negative|o.negative)===0,"red works only with positives"),u(t.red&&t.red===o.red,"red works only with red numbers")},oe.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},oe.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},oe.prototype.add=function(t,o){this._verify2(t,o);var c=t.add(o);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},oe.prototype.iadd=function(t,o){this._verify2(t,o);var c=t.iadd(o);return c.cmp(this.m)>=0&&c.isub(this.m),c},oe.prototype.sub=function(t,o){this._verify2(t,o);var c=t.sub(o);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},oe.prototype.isub=function(t,o){this._verify2(t,o);var c=t.isub(o);return c.cmpn(0)<0&&c.iadd(this.m),c},oe.prototype.shl=function(t,o){return this._verify1(t),this.imod(t.ushln(o))},oe.prototype.imul=function(t,o){return this._verify2(t,o),this.imod(t.imul(o))},oe.prototype.mul=function(t,o){return this._verify2(t,o),this.imod(t.mul(o))},oe.prototype.isqr=function(t){return this.imul(t,t.clone())},oe.prototype.sqr=function(t){return this.mul(t,t)},oe.prototype.sqrt=function(t){if(t.isZero())return t.clone();var o=this.m.andln(3);if(u(o%2===1),o===3){var c=this.m.add(new s(1)).iushrn(2);return this.pow(t,c)}for(var l=this.m.subn(1),v=0;!l.isZero()&&l.andln(1)===0;)v++,l.iushrn(1);u(!l.isZero());var w=new s(1).toRed(this),M=w.redNeg(),m=this.m.subn(1).iushrn(1),n=this.m.bitLength();for(n=new s(2*n*n).toRed(this);this.pow(n,m).cmp(M)!==0;)n.redIAdd(M);for(var b=this.pow(n,l),P=this.pow(t,l.addn(1).iushrn(1)),I=this.pow(t,l),F=v;I.cmp(w)!==0;){for(var Y=I,X=0;Y.cmp(w)!==0;X++)Y=Y.redSqr();u(X<F);var T=this.pow(b,new s(1).iushln(F-X-1));P=P.redMul(T),b=T.redSqr(),I=I.redMul(b),F=X}return P},oe.prototype.invm=function(t){var o=t._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},oe.prototype.pow=function(t,o){if(o.isZero())return new s(1).toRed(this);if(o.cmpn(1)===0)return t.clone();var c=4,l=new Array(1<<c);l[0]=new s(1).toRed(this),l[1]=t;for(var v=2;v<l.length;v++)l[v]=this.mul(l[v-1],t);var w=l[0],M=0,m=0,n=o.bitLength()%26;for(n===0&&(n=26),v=o.length-1;v>=0;v--){for(var b=o.words[v],P=n-1;P>=0;P--){var I=b>>P&1;if(w!==l[0]&&(w=this.sqr(w)),I===0&&M===0){m=0;continue}M<<=1,M|=I,m++,!(m!==c&&(v!==0||P!==0))&&(w=this.mul(w,l[M]),m=0,M=0)}n=26}return w},oe.prototype.convertTo=function(t){var o=t.umod(this.m);return o===t?o.clone():o},oe.prototype.convertFrom=function(t){var o=t.clone();return o.red=null,o},s.mont=function(t){return new Le(t)};function Le(E){oe.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}d(Le,oe),Le.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Le.prototype.convertFrom=function(t){var o=this.imod(t.mul(this.rinv));return o.red=null,o},Le.prototype.imul=function(t,o){if(t.isZero()||o.isZero())return t.words[0]=0,t.length=1,t;var c=t.imul(o),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(l).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},Le.prototype.mul=function(t,o){if(t.isZero()||o.isZero())return new s(0)._forceRed(this);var c=t.mul(o),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(l).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},Le.prototype.invm=function(t){var o=this.imod(t._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,commonjsGlobal)}(bn$6)),bn$6.exports}var bn$5={exports:{}};bn$5.exports;var hasRequiredBn$5;function requireBn$5(){return hasRequiredBn$5||(hasRequiredBn$5=1,function(r){(function(e,a){function u(E,t){if(!E)throw new Error(t||"Assertion failed")}function d(E,t){E.super_=t;var o=function(){};o.prototype=t.prototype,E.prototype=new o,E.prototype.constructor=E}function s(E,t,o){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((t==="le"||t==="be")&&(o=t,t=10),this._init(E||0,t||10,o||"be"))}typeof e=="object"?e.exports=s:a.BN=s,s.BN=s,s.wordSize=26;var g;try{typeof window<"u"&&typeof window.Buffer<"u"?g=window.Buffer:g=require$$0$1.Buffer}catch{}s.isBN=function(t){return t instanceof s?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,o){return t.cmp(o)>0?t:o},s.min=function(t,o){return t.cmp(o)<0?t:o},s.prototype._init=function(t,o,c){if(typeof t=="number")return this._initNumber(t,o,c);if(typeof t=="object")return this._initArray(t,o,c);o==="hex"&&(o=16),u(o===(o|0)&&o>=2&&o<=36),t=t.toString().replace(/\s+/g,"");var l=0;t[0]==="-"&&(l++,this.negative=1),l<t.length&&(o===16?this._parseHex(t,l,c):(this._parseBase(t,o,l),c==="le"&&this._initArray(this.toArray(),o,c)))},s.prototype._initNumber=function(t,o,c){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(u(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),o,c)},s.prototype._initArray=function(t,o,c){if(u(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var v,w,M=0;if(c==="be")for(l=t.length-1,v=0;l>=0;l-=3)w=t[l]|t[l-1]<<8|t[l-2]<<16,this.words[v]|=w<<M&67108863,this.words[v+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);else if(c==="le")for(l=0,v=0;l<t.length;l+=3)w=t[l]|t[l+1]<<8|t[l+2]<<16,this.words[v]|=w<<M&67108863,this.words[v+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);return this.strip()};function x(E,t){var o=E.charCodeAt(t);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function _(E,t,o){var c=x(E,o);return o-1>=t&&(c|=x(E,o-1)<<4),c}s.prototype._parseHex=function(t,o,c){this.length=Math.ceil((t.length-o)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var v=0,w=0,M;if(c==="be")for(l=t.length-1;l>=o;l-=2)M=_(t,o,l)<<v,this.words[w]|=M&67108863,v>=18?(v-=18,w+=1,this.words[w]|=M>>>26):v+=8;else{var m=t.length-o;for(l=m%2===0?o+1:o;l<t.length;l+=2)M=_(t,o,l)<<v,this.words[w]|=M&67108863,v>=18?(v-=18,w+=1,this.words[w]|=M>>>26):v+=8}this.strip()};function S(E,t,o,c){for(var l=0,v=Math.min(E.length,o),w=t;w<v;w++){var M=E.charCodeAt(w)-48;l*=c,M>=49?l+=M-49+10:M>=17?l+=M-17+10:l+=M}return l}s.prototype._parseBase=function(t,o,c){this.words=[0],this.length=1;for(var l=0,v=1;v<=67108863;v*=o)l++;l--,v=v/o|0;for(var w=t.length-c,M=w%l,m=Math.min(w,w-M)+c,n=0,b=c;b<m;b+=l)n=S(t,b,b+l,o),this.imuln(v),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n);if(M!==0){var P=1;for(n=S(t,b,t.length,o),b=0;b<M;b++)P*=o;this.imuln(P),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var o=0;o<this.length;o++)t.words[o]=this.words[o];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,o){t=t||10,o=o|0||1;var c;if(t===16||t==="hex"){c="";for(var l=0,v=0,w=0;w<this.length;w++){var M=this.words[w],m=((M<<l|v)&16777215).toString(16);v=M>>>24-l&16777215,v!==0||w!==this.length-1?c=y[6-m.length]+m+c:c=m+c,l+=2,l>=26&&(l-=26,w--)}for(v!==0&&(c=v.toString(16)+c);c.length%o!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(t===(t|0)&&t>=2&&t<=36){var n=A[t],b=R[t];c="";var P=this.clone();for(P.negative=0;!P.isZero();){var I=P.modn(b).toString(t);P=P.idivn(b),P.isZero()?c=I+c:c=y[n-I.length]+I+c}for(this.isZero()&&(c="0"+c);c.length%o!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}u(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,o){return u(typeof g<"u"),this.toArrayLike(g,t,o)},s.prototype.toArray=function(t,o){return this.toArrayLike(Array,t,o)},s.prototype.toArrayLike=function(t,o,c){var l=this.byteLength(),v=c||Math.max(1,l);u(l<=v,"byte array longer than desired length"),u(v>0,"Requested array length <= 0"),this.strip();var w=o==="le",M=new t(v),m,n,b=this.clone();if(w){for(n=0;!b.isZero();n++)m=b.andln(255),b.iushrn(8),M[n]=m;for(;n<v;n++)M[n]=0}else{for(n=0;n<v-l;n++)M[n]=0;for(n=0;!b.isZero();n++)m=b.andln(255),b.iushrn(8),M[v-n-1]=m}return M},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var o=t,c=0;return o>=4096&&(c+=13,o>>>=13),o>=64&&(c+=7,o>>>=7),o>=8&&(c+=4,o>>>=4),o>=2&&(c+=2,o>>>=2),c+o},s.prototype._zeroBits=function(t){if(t===0)return 26;var o=t,c=0;return o&8191||(c+=13,o>>>=13),o&127||(c+=7,o>>>=7),o&15||(c+=4,o>>>=4),o&3||(c+=2,o>>>=2),o&1||c++,c},s.prototype.bitLength=function(){var t=this.words[this.length-1],o=this._countBits(t);return(this.length-1)*26+o};function B(E){for(var t=new Array(E.bitLength()),o=0;o<t.length;o++){var c=o/26|0,l=o%26;t[o]=(E.words[c]&1<<l)>>>l}return t}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,o=0;o<this.length;o++){var c=this._zeroBits(this.words[o]);if(t+=c,c!==26)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]|t.words[o];return this.strip()},s.prototype.ior=function(t){return u((this.negative|t.negative)===0),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var o;this.length>t.length?o=t:o=this;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]&t.words[c];return this.length=o.length,this.strip()},s.prototype.iand=function(t){return u((this.negative|t.negative)===0),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var o,c;this.length>t.length?(o=this,c=t):(o=t,c=this);for(var l=0;l<c.length;l++)this.words[l]=o.words[l]^c.words[l];if(this!==o)for(;l<o.length;l++)this.words[l]=o.words[l];return this.length=o.length,this.strip()},s.prototype.ixor=function(t){return u((this.negative|t.negative)===0),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){u(typeof t=="number"&&t>=0);var o=Math.ceil(t/26)|0,c=t%26;this._expand(o),c>0&&o--;for(var l=0;l<o;l++)this.words[l]=~this.words[l]&67108863;return c>0&&(this.words[l]=~this.words[l]&67108863>>26-c),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,o){u(typeof t=="number"&&t>=0);var c=t/26|0,l=t%26;return this._expand(c+1),o?this.words[c]=this.words[c]|1<<l:this.words[c]=this.words[c]&~(1<<l),this.strip()},s.prototype.iadd=function(t){var o;if(this.negative!==0&&t.negative===0)return this.negative=0,o=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,o=this.isub(t),t.negative=1,o._normSign();var c,l;this.length>t.length?(c=this,l=t):(c=t,l=this);for(var v=0,w=0;w<l.length;w++)o=(c.words[w]|0)+(l.words[w]|0)+v,this.words[w]=o&67108863,v=o>>>26;for(;v!==0&&w<c.length;w++)o=(c.words[w]|0)+v,this.words[w]=o&67108863,v=o>>>26;if(this.length=c.length,v!==0)this.words[this.length]=v,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},s.prototype.add=function(t){var o;return t.negative!==0&&this.negative===0?(t.negative=0,o=this.sub(t),t.negative^=1,o):t.negative===0&&this.negative!==0?(this.negative=0,o=t.sub(this),this.negative=1,o):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var o=this.iadd(t);return t.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var c=this.cmp(t);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,v;c>0?(l=this,v=t):(l=t,v=this);for(var w=0,M=0;M<v.length;M++)o=(l.words[M]|0)-(v.words[M]|0)+w,w=o>>26,this.words[M]=o&67108863;for(;w!==0&&M<l.length;M++)o=(l.words[M]|0)+w,w=o>>26,this.words[M]=o&67108863;if(w===0&&M<l.length&&l!==this)for(;M<l.length;M++)this.words[M]=l.words[M];return this.length=Math.max(this.length,M),l!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};function q(E,t,o){o.negative=t.negative^E.negative;var c=E.length+t.length|0;o.length=c,c=c-1|0;var l=E.words[0]|0,v=t.words[0]|0,w=l*v,M=w&67108863,m=w/67108864|0;o.words[0]=M;for(var n=1;n<c;n++){for(var b=m>>>26,P=m&67108863,I=Math.min(n,t.length-1),F=Math.max(0,n-E.length+1);F<=I;F++){var Y=n-F|0;l=E.words[Y]|0,v=t.words[F]|0,w=l*v+P,b+=w/67108864|0,P=w&67108863}o.words[n]=P|0,m=b|0}return m!==0?o.words[n]=m|0:o.length--,o.strip()}var C=function(t,o,c){var l=t.words,v=o.words,w=c.words,M=0,m,n,b,P=l[0]|0,I=P&8191,F=P>>>13,Y=l[1]|0,X=Y&8191,T=Y>>>13,K=l[2]|0,W=K&8191,ne=K>>>13,ie=l[3]|0,G=ie&8191,H=ie>>>13,fe=l[4]|0,he=fe&8191,ve=fe>>>13,ke=l[5]|0,Me=ke&8191,le=ke>>>13,Ze=l[6]|0,_e=Ze&8191,Se=Ze>>>13,tt=l[7]|0,Ae=tt&8191,Pe=tt>>>13,ot=l[8]|0,Oe=ot&8191,He=ot>>>13,pt=l[9]|0,z=pt&8191,O=pt>>>13,D=v[0]|0,te=D&8191,ce=D>>>13,Fe=v[1]|0,be=Fe&8191,je=Fe>>>13,lt=v[2]|0,Ue=lt&8191,Ve=lt>>>13,dt=v[3]|0,Je=dt&8191,et=dt>>>13,bt=v[4]|0,Ge=bt&8191,Ye=bt>>>13,yt=v[5]|0,We=yt&8191,Xe=yt>>>13,gt=v[6]|0,Ke=gt&8191,Qe=gt>>>13,V=v[7]|0,J=V&8191,Z=V>>>13,$=v[8]|0,Q=$&8191,me=$>>>13,Ce=v[9]|0,we=Ce&8191,qe=Ce>>>13;c.negative=t.negative^o.negative,c.length=19,m=Math.imul(I,te),n=Math.imul(I,ce),n=n+Math.imul(F,te)|0,b=Math.imul(F,ce);var at=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(at>>>26)|0,at&=67108863,m=Math.imul(X,te),n=Math.imul(X,ce),n=n+Math.imul(T,te)|0,b=Math.imul(T,ce),m=m+Math.imul(I,be)|0,n=n+Math.imul(I,je)|0,n=n+Math.imul(F,be)|0,b=b+Math.imul(F,je)|0;var it=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(it>>>26)|0,it&=67108863,m=Math.imul(W,te),n=Math.imul(W,ce),n=n+Math.imul(ne,te)|0,b=Math.imul(ne,ce),m=m+Math.imul(X,be)|0,n=n+Math.imul(X,je)|0,n=n+Math.imul(T,be)|0,b=b+Math.imul(T,je)|0,m=m+Math.imul(I,Ue)|0,n=n+Math.imul(I,Ve)|0,n=n+Math.imul(F,Ue)|0,b=b+Math.imul(F,Ve)|0;var vt=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(G,te),n=Math.imul(G,ce),n=n+Math.imul(H,te)|0,b=Math.imul(H,ce),m=m+Math.imul(W,be)|0,n=n+Math.imul(W,je)|0,n=n+Math.imul(ne,be)|0,b=b+Math.imul(ne,je)|0,m=m+Math.imul(X,Ue)|0,n=n+Math.imul(X,Ve)|0,n=n+Math.imul(T,Ue)|0,b=b+Math.imul(T,Ve)|0,m=m+Math.imul(I,Je)|0,n=n+Math.imul(I,et)|0,n=n+Math.imul(F,Je)|0,b=b+Math.imul(F,et)|0;var ft=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(he,te),n=Math.imul(he,ce),n=n+Math.imul(ve,te)|0,b=Math.imul(ve,ce),m=m+Math.imul(G,be)|0,n=n+Math.imul(G,je)|0,n=n+Math.imul(H,be)|0,b=b+Math.imul(H,je)|0,m=m+Math.imul(W,Ue)|0,n=n+Math.imul(W,Ve)|0,n=n+Math.imul(ne,Ue)|0,b=b+Math.imul(ne,Ve)|0,m=m+Math.imul(X,Je)|0,n=n+Math.imul(X,et)|0,n=n+Math.imul(T,Je)|0,b=b+Math.imul(T,et)|0,m=m+Math.imul(I,Ge)|0,n=n+Math.imul(I,Ye)|0,n=n+Math.imul(F,Ge)|0,b=b+Math.imul(F,Ye)|0;var ht=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(Me,te),n=Math.imul(Me,ce),n=n+Math.imul(le,te)|0,b=Math.imul(le,ce),m=m+Math.imul(he,be)|0,n=n+Math.imul(he,je)|0,n=n+Math.imul(ve,be)|0,b=b+Math.imul(ve,je)|0,m=m+Math.imul(G,Ue)|0,n=n+Math.imul(G,Ve)|0,n=n+Math.imul(H,Ue)|0,b=b+Math.imul(H,Ve)|0,m=m+Math.imul(W,Je)|0,n=n+Math.imul(W,et)|0,n=n+Math.imul(ne,Je)|0,b=b+Math.imul(ne,et)|0,m=m+Math.imul(X,Ge)|0,n=n+Math.imul(X,Ye)|0,n=n+Math.imul(T,Ge)|0,b=b+Math.imul(T,Ye)|0,m=m+Math.imul(I,We)|0,n=n+Math.imul(I,Xe)|0,n=n+Math.imul(F,We)|0,b=b+Math.imul(F,Xe)|0;var ct=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ct>>>26)|0,ct&=67108863,m=Math.imul(_e,te),n=Math.imul(_e,ce),n=n+Math.imul(Se,te)|0,b=Math.imul(Se,ce),m=m+Math.imul(Me,be)|0,n=n+Math.imul(Me,je)|0,n=n+Math.imul(le,be)|0,b=b+Math.imul(le,je)|0,m=m+Math.imul(he,Ue)|0,n=n+Math.imul(he,Ve)|0,n=n+Math.imul(ve,Ue)|0,b=b+Math.imul(ve,Ve)|0,m=m+Math.imul(G,Je)|0,n=n+Math.imul(G,et)|0,n=n+Math.imul(H,Je)|0,b=b+Math.imul(H,et)|0,m=m+Math.imul(W,Ge)|0,n=n+Math.imul(W,Ye)|0,n=n+Math.imul(ne,Ge)|0,b=b+Math.imul(ne,Ye)|0,m=m+Math.imul(X,We)|0,n=n+Math.imul(X,Xe)|0,n=n+Math.imul(T,We)|0,b=b+Math.imul(T,Xe)|0,m=m+Math.imul(I,Ke)|0,n=n+Math.imul(I,Qe)|0,n=n+Math.imul(F,Ke)|0,b=b+Math.imul(F,Qe)|0;var re=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(re>>>26)|0,re&=67108863,m=Math.imul(Ae,te),n=Math.imul(Ae,ce),n=n+Math.imul(Pe,te)|0,b=Math.imul(Pe,ce),m=m+Math.imul(_e,be)|0,n=n+Math.imul(_e,je)|0,n=n+Math.imul(Se,be)|0,b=b+Math.imul(Se,je)|0,m=m+Math.imul(Me,Ue)|0,n=n+Math.imul(Me,Ve)|0,n=n+Math.imul(le,Ue)|0,b=b+Math.imul(le,Ve)|0,m=m+Math.imul(he,Je)|0,n=n+Math.imul(he,et)|0,n=n+Math.imul(ve,Je)|0,b=b+Math.imul(ve,et)|0,m=m+Math.imul(G,Ge)|0,n=n+Math.imul(G,Ye)|0,n=n+Math.imul(H,Ge)|0,b=b+Math.imul(H,Ye)|0,m=m+Math.imul(W,We)|0,n=n+Math.imul(W,Xe)|0,n=n+Math.imul(ne,We)|0,b=b+Math.imul(ne,Xe)|0,m=m+Math.imul(X,Ke)|0,n=n+Math.imul(X,Qe)|0,n=n+Math.imul(T,Ke)|0,b=b+Math.imul(T,Qe)|0,m=m+Math.imul(I,J)|0,n=n+Math.imul(I,Z)|0,n=n+Math.imul(F,J)|0,b=b+Math.imul(F,Z)|0;var ue=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ue>>>26)|0,ue&=67108863,m=Math.imul(Oe,te),n=Math.imul(Oe,ce),n=n+Math.imul(He,te)|0,b=Math.imul(He,ce),m=m+Math.imul(Ae,be)|0,n=n+Math.imul(Ae,je)|0,n=n+Math.imul(Pe,be)|0,b=b+Math.imul(Pe,je)|0,m=m+Math.imul(_e,Ue)|0,n=n+Math.imul(_e,Ve)|0,n=n+Math.imul(Se,Ue)|0,b=b+Math.imul(Se,Ve)|0,m=m+Math.imul(Me,Je)|0,n=n+Math.imul(Me,et)|0,n=n+Math.imul(le,Je)|0,b=b+Math.imul(le,et)|0,m=m+Math.imul(he,Ge)|0,n=n+Math.imul(he,Ye)|0,n=n+Math.imul(ve,Ge)|0,b=b+Math.imul(ve,Ye)|0,m=m+Math.imul(G,We)|0,n=n+Math.imul(G,Xe)|0,n=n+Math.imul(H,We)|0,b=b+Math.imul(H,Xe)|0,m=m+Math.imul(W,Ke)|0,n=n+Math.imul(W,Qe)|0,n=n+Math.imul(ne,Ke)|0,b=b+Math.imul(ne,Qe)|0,m=m+Math.imul(X,J)|0,n=n+Math.imul(X,Z)|0,n=n+Math.imul(T,J)|0,b=b+Math.imul(T,Z)|0,m=m+Math.imul(I,Q)|0,n=n+Math.imul(I,me)|0,n=n+Math.imul(F,Q)|0,b=b+Math.imul(F,me)|0;var ae=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ae>>>26)|0,ae&=67108863,m=Math.imul(z,te),n=Math.imul(z,ce),n=n+Math.imul(O,te)|0,b=Math.imul(O,ce),m=m+Math.imul(Oe,be)|0,n=n+Math.imul(Oe,je)|0,n=n+Math.imul(He,be)|0,b=b+Math.imul(He,je)|0,m=m+Math.imul(Ae,Ue)|0,n=n+Math.imul(Ae,Ve)|0,n=n+Math.imul(Pe,Ue)|0,b=b+Math.imul(Pe,Ve)|0,m=m+Math.imul(_e,Je)|0,n=n+Math.imul(_e,et)|0,n=n+Math.imul(Se,Je)|0,b=b+Math.imul(Se,et)|0,m=m+Math.imul(Me,Ge)|0,n=n+Math.imul(Me,Ye)|0,n=n+Math.imul(le,Ge)|0,b=b+Math.imul(le,Ye)|0,m=m+Math.imul(he,We)|0,n=n+Math.imul(he,Xe)|0,n=n+Math.imul(ve,We)|0,b=b+Math.imul(ve,Xe)|0,m=m+Math.imul(G,Ke)|0,n=n+Math.imul(G,Qe)|0,n=n+Math.imul(H,Ke)|0,b=b+Math.imul(H,Qe)|0,m=m+Math.imul(W,J)|0,n=n+Math.imul(W,Z)|0,n=n+Math.imul(ne,J)|0,b=b+Math.imul(ne,Z)|0,m=m+Math.imul(X,Q)|0,n=n+Math.imul(X,me)|0,n=n+Math.imul(T,Q)|0,b=b+Math.imul(T,me)|0,m=m+Math.imul(I,we)|0,n=n+Math.imul(I,qe)|0,n=n+Math.imul(F,we)|0,b=b+Math.imul(F,qe)|0;var pe=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(pe>>>26)|0,pe&=67108863,m=Math.imul(z,be),n=Math.imul(z,je),n=n+Math.imul(O,be)|0,b=Math.imul(O,je),m=m+Math.imul(Oe,Ue)|0,n=n+Math.imul(Oe,Ve)|0,n=n+Math.imul(He,Ue)|0,b=b+Math.imul(He,Ve)|0,m=m+Math.imul(Ae,Je)|0,n=n+Math.imul(Ae,et)|0,n=n+Math.imul(Pe,Je)|0,b=b+Math.imul(Pe,et)|0,m=m+Math.imul(_e,Ge)|0,n=n+Math.imul(_e,Ye)|0,n=n+Math.imul(Se,Ge)|0,b=b+Math.imul(Se,Ye)|0,m=m+Math.imul(Me,We)|0,n=n+Math.imul(Me,Xe)|0,n=n+Math.imul(le,We)|0,b=b+Math.imul(le,Xe)|0,m=m+Math.imul(he,Ke)|0,n=n+Math.imul(he,Qe)|0,n=n+Math.imul(ve,Ke)|0,b=b+Math.imul(ve,Qe)|0,m=m+Math.imul(G,J)|0,n=n+Math.imul(G,Z)|0,n=n+Math.imul(H,J)|0,b=b+Math.imul(H,Z)|0,m=m+Math.imul(W,Q)|0,n=n+Math.imul(W,me)|0,n=n+Math.imul(ne,Q)|0,b=b+Math.imul(ne,me)|0,m=m+Math.imul(X,we)|0,n=n+Math.imul(X,qe)|0,n=n+Math.imul(T,we)|0,b=b+Math.imul(T,qe)|0;var ye=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,m=Math.imul(z,Ue),n=Math.imul(z,Ve),n=n+Math.imul(O,Ue)|0,b=Math.imul(O,Ve),m=m+Math.imul(Oe,Je)|0,n=n+Math.imul(Oe,et)|0,n=n+Math.imul(He,Je)|0,b=b+Math.imul(He,et)|0,m=m+Math.imul(Ae,Ge)|0,n=n+Math.imul(Ae,Ye)|0,n=n+Math.imul(Pe,Ge)|0,b=b+Math.imul(Pe,Ye)|0,m=m+Math.imul(_e,We)|0,n=n+Math.imul(_e,Xe)|0,n=n+Math.imul(Se,We)|0,b=b+Math.imul(Se,Xe)|0,m=m+Math.imul(Me,Ke)|0,n=n+Math.imul(Me,Qe)|0,n=n+Math.imul(le,Ke)|0,b=b+Math.imul(le,Qe)|0,m=m+Math.imul(he,J)|0,n=n+Math.imul(he,Z)|0,n=n+Math.imul(ve,J)|0,b=b+Math.imul(ve,Z)|0,m=m+Math.imul(G,Q)|0,n=n+Math.imul(G,me)|0,n=n+Math.imul(H,Q)|0,b=b+Math.imul(H,me)|0,m=m+Math.imul(W,we)|0,n=n+Math.imul(W,qe)|0,n=n+Math.imul(ne,we)|0,b=b+Math.imul(ne,qe)|0;var xe=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,m=Math.imul(z,Je),n=Math.imul(z,et),n=n+Math.imul(O,Je)|0,b=Math.imul(O,et),m=m+Math.imul(Oe,Ge)|0,n=n+Math.imul(Oe,Ye)|0,n=n+Math.imul(He,Ge)|0,b=b+Math.imul(He,Ye)|0,m=m+Math.imul(Ae,We)|0,n=n+Math.imul(Ae,Xe)|0,n=n+Math.imul(Pe,We)|0,b=b+Math.imul(Pe,Xe)|0,m=m+Math.imul(_e,Ke)|0,n=n+Math.imul(_e,Qe)|0,n=n+Math.imul(Se,Ke)|0,b=b+Math.imul(Se,Qe)|0,m=m+Math.imul(Me,J)|0,n=n+Math.imul(Me,Z)|0,n=n+Math.imul(le,J)|0,b=b+Math.imul(le,Z)|0,m=m+Math.imul(he,Q)|0,n=n+Math.imul(he,me)|0,n=n+Math.imul(ve,Q)|0,b=b+Math.imul(ve,me)|0,m=m+Math.imul(G,we)|0,n=n+Math.imul(G,qe)|0,n=n+Math.imul(H,we)|0,b=b+Math.imul(H,qe)|0;var Ne=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,m=Math.imul(z,Ge),n=Math.imul(z,Ye),n=n+Math.imul(O,Ge)|0,b=Math.imul(O,Ye),m=m+Math.imul(Oe,We)|0,n=n+Math.imul(Oe,Xe)|0,n=n+Math.imul(He,We)|0,b=b+Math.imul(He,Xe)|0,m=m+Math.imul(Ae,Ke)|0,n=n+Math.imul(Ae,Qe)|0,n=n+Math.imul(Pe,Ke)|0,b=b+Math.imul(Pe,Qe)|0,m=m+Math.imul(_e,J)|0,n=n+Math.imul(_e,Z)|0,n=n+Math.imul(Se,J)|0,b=b+Math.imul(Se,Z)|0,m=m+Math.imul(Me,Q)|0,n=n+Math.imul(Me,me)|0,n=n+Math.imul(le,Q)|0,b=b+Math.imul(le,me)|0,m=m+Math.imul(he,we)|0,n=n+Math.imul(he,qe)|0,n=n+Math.imul(ve,we)|0,b=b+Math.imul(ve,qe)|0;var $e=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+($e>>>26)|0,$e&=67108863,m=Math.imul(z,We),n=Math.imul(z,Xe),n=n+Math.imul(O,We)|0,b=Math.imul(O,Xe),m=m+Math.imul(Oe,Ke)|0,n=n+Math.imul(Oe,Qe)|0,n=n+Math.imul(He,Ke)|0,b=b+Math.imul(He,Qe)|0,m=m+Math.imul(Ae,J)|0,n=n+Math.imul(Ae,Z)|0,n=n+Math.imul(Pe,J)|0,b=b+Math.imul(Pe,Z)|0,m=m+Math.imul(_e,Q)|0,n=n+Math.imul(_e,me)|0,n=n+Math.imul(Se,Q)|0,b=b+Math.imul(Se,me)|0,m=m+Math.imul(Me,we)|0,n=n+Math.imul(Me,qe)|0,n=n+Math.imul(le,we)|0,b=b+Math.imul(le,qe)|0;var Re=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,m=Math.imul(z,Ke),n=Math.imul(z,Qe),n=n+Math.imul(O,Ke)|0,b=Math.imul(O,Qe),m=m+Math.imul(Oe,J)|0,n=n+Math.imul(Oe,Z)|0,n=n+Math.imul(He,J)|0,b=b+Math.imul(He,Z)|0,m=m+Math.imul(Ae,Q)|0,n=n+Math.imul(Ae,me)|0,n=n+Math.imul(Pe,Q)|0,b=b+Math.imul(Pe,me)|0,m=m+Math.imul(_e,we)|0,n=n+Math.imul(_e,qe)|0,n=n+Math.imul(Se,we)|0,b=b+Math.imul(Se,qe)|0;var Ie=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,m=Math.imul(z,J),n=Math.imul(z,Z),n=n+Math.imul(O,J)|0,b=Math.imul(O,Z),m=m+Math.imul(Oe,Q)|0,n=n+Math.imul(Oe,me)|0,n=n+Math.imul(He,Q)|0,b=b+Math.imul(He,me)|0,m=m+Math.imul(Ae,we)|0,n=n+Math.imul(Ae,qe)|0,n=n+Math.imul(Pe,we)|0,b=b+Math.imul(Pe,qe)|0;var ze=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ze>>>26)|0,ze&=67108863,m=Math.imul(z,Q),n=Math.imul(z,me),n=n+Math.imul(O,Q)|0,b=Math.imul(O,me),m=m+Math.imul(Oe,we)|0,n=n+Math.imul(Oe,qe)|0,n=n+Math.imul(He,we)|0,b=b+Math.imul(He,qe)|0;var Te=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,m=Math.imul(z,we),n=Math.imul(z,qe),n=n+Math.imul(O,we)|0,b=Math.imul(O,qe);var De=(M+m|0)+((n&8191)<<13)|0;return M=(b+(n>>>13)|0)+(De>>>26)|0,De&=67108863,w[0]=at,w[1]=it,w[2]=vt,w[3]=ft,w[4]=ht,w[5]=ct,w[6]=re,w[7]=ue,w[8]=ae,w[9]=pe,w[10]=ye,w[11]=xe,w[12]=Ne,w[13]=$e,w[14]=Re,w[15]=Ie,w[16]=ze,w[17]=Te,w[18]=De,M!==0&&(w[19]=M,c.length++),c};Math.imul||(C=q);function N(E,t,o){o.negative=t.negative^E.negative,o.length=E.length+t.length;for(var c=0,l=0,v=0;v<o.length-1;v++){var w=l;l=0;for(var M=c&67108863,m=Math.min(v,t.length-1),n=Math.max(0,v-E.length+1);n<=m;n++){var b=v-n,P=E.words[b]|0,I=t.words[n]|0,F=P*I,Y=F&67108863;w=w+(F/67108864|0)|0,Y=Y+M|0,M=Y&67108863,w=w+(Y>>>26)|0,l+=w>>>26,w&=67108863}o.words[v]=M,c=w,w=l}return c!==0?o.words[v]=c:o.length--,o.strip()}function k(E,t,o){var c=new L;return c.mulp(E,t,o)}s.prototype.mulTo=function(t,o){var c,l=this.length+t.length;return this.length===10&&t.length===10?c=C(this,t,o):l<63?c=q(this,t,o):l<1024?c=N(this,t,o):c=k(this,t,o),c};function L(E,t){this.x=E,this.y=t}L.prototype.makeRBT=function(t){for(var o=new Array(t),c=s.prototype._countBits(t)-1,l=0;l<t;l++)o[l]=this.revBin(l,c,t);return o},L.prototype.revBin=function(t,o,c){if(t===0||t===c-1)return t;for(var l=0,v=0;v<o;v++)l|=(t&1)<<o-v-1,t>>=1;return l},L.prototype.permute=function(t,o,c,l,v,w){for(var M=0;M<w;M++)l[M]=o[t[M]],v[M]=c[t[M]]},L.prototype.transform=function(t,o,c,l,v,w){this.permute(w,t,o,c,l,v);for(var M=1;M<v;M<<=1)for(var m=M<<1,n=Math.cos(2*Math.PI/m),b=Math.sin(2*Math.PI/m),P=0;P<v;P+=m)for(var I=n,F=b,Y=0;Y<M;Y++){var X=c[P+Y],T=l[P+Y],K=c[P+Y+M],W=l[P+Y+M],ne=I*K-F*W;W=I*W+F*K,K=ne,c[P+Y]=X+K,l[P+Y]=T+W,c[P+Y+M]=X-K,l[P+Y+M]=T-W,Y!==m&&(ne=n*I-b*F,F=n*F+b*I,I=ne)}},L.prototype.guessLen13b=function(t,o){var c=Math.max(o,t)|1,l=c&1,v=0;for(c=c/2|0;c;c=c>>>1)v++;return 1<<v+1+l},L.prototype.conjugate=function(t,o,c){if(!(c<=1))for(var l=0;l<c/2;l++){var v=t[l];t[l]=t[c-l-1],t[c-l-1]=v,v=o[l],o[l]=-o[c-l-1],o[c-l-1]=-v}},L.prototype.normalize13b=function(t,o){for(var c=0,l=0;l<o/2;l++){var v=Math.round(t[2*l+1]/o)*8192+Math.round(t[2*l]/o)+c;t[l]=v&67108863,v<67108864?c=0:c=v/67108864|0}return t},L.prototype.convert13b=function(t,o,c,l){for(var v=0,w=0;w<o;w++)v=v+(t[w]|0),c[2*w]=v&8191,v=v>>>13,c[2*w+1]=v&8191,v=v>>>13;for(w=2*o;w<l;++w)c[w]=0;u(v===0),u((v&-8192)===0)},L.prototype.stub=function(t){for(var o=new Array(t),c=0;c<t;c++)o[c]=0;return o},L.prototype.mulp=function(t,o,c){var l=2*this.guessLen13b(t.length,o.length),v=this.makeRBT(l),w=this.stub(l),M=new Array(l),m=new Array(l),n=new Array(l),b=new Array(l),P=new Array(l),I=new Array(l),F=c.words;F.length=l,this.convert13b(t.words,t.length,M,l),this.convert13b(o.words,o.length,b,l),this.transform(M,w,m,n,l,v),this.transform(b,w,P,I,l,v);for(var Y=0;Y<l;Y++){var X=m[Y]*P[Y]-n[Y]*I[Y];n[Y]=m[Y]*I[Y]+n[Y]*P[Y],m[Y]=X}return this.conjugate(m,n,l),this.transform(m,n,F,w,l,v),this.conjugate(F,w,l),this.normalize13b(F,l),c.negative=t.negative^o.negative,c.length=t.length+o.length,c.strip()},s.prototype.mul=function(t){var o=new s(null);return o.words=new Array(this.length+t.length),this.mulTo(t,o)},s.prototype.mulf=function(t){var o=new s(null);return o.words=new Array(this.length+t.length),k(this,t,o)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){u(typeof t=="number"),u(t<67108864);for(var o=0,c=0;c<this.length;c++){var l=(this.words[c]|0)*t,v=(l&67108863)+(o&67108863);o>>=26,o+=l/67108864|0,o+=v>>>26,this.words[c]=v&67108863}return o!==0&&(this.words[c]=o,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var o=B(t);if(o.length===0)return new s(1);for(var c=this,l=0;l<o.length&&o[l]===0;l++,c=c.sqr());if(++l<o.length)for(var v=c.sqr();l<o.length;l++,v=v.sqr())o[l]!==0&&(c=c.mul(v));return c},s.prototype.iushln=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26,l=67108863>>>26-o<<26-o,v;if(o!==0){var w=0;for(v=0;v<this.length;v++){var M=this.words[v]&l,m=(this.words[v]|0)-M<<o;this.words[v]=m|w,w=M>>>26-o}w&&(this.words[v]=w,this.length++)}if(c!==0){for(v=this.length-1;v>=0;v--)this.words[v+c]=this.words[v];for(v=0;v<c;v++)this.words[v]=0;this.length+=c}return this.strip()},s.prototype.ishln=function(t){return u(this.negative===0),this.iushln(t)},s.prototype.iushrn=function(t,o,c){u(typeof t=="number"&&t>=0);var l;o?l=(o-o%26)/26:l=0;var v=t%26,w=Math.min((t-v)/26,this.length),M=67108863^67108863>>>v<<v,m=c;if(l-=w,l=Math.max(0,l),m){for(var n=0;n<w;n++)m.words[n]=this.words[n];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,n=0;n<this.length;n++)this.words[n]=this.words[n+w];else this.words[0]=0,this.length=1;var b=0;for(n=this.length-1;n>=0&&(b!==0||n>=l);n--){var P=this.words[n]|0;this.words[n]=b<<26-v|P>>>v,b=P&M}return m&&b!==0&&(m.words[m.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,o,c){return u(this.negative===0),this.iushrn(t,o,c)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26,l=1<<o;if(this.length<=c)return!1;var v=this.words[c];return!!(v&l)},s.prototype.imaskn=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(o!==0&&c++,this.length=Math.min(c,this.length),o!==0){var l=67108863^67108863>>>o<<o;this.words[this.length-1]&=l}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return u(typeof t=="number"),u(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},s.prototype.isubn=function(t){if(u(typeof t=="number"),u(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,o,c){var l=t.length+c,v;this._expand(l);var w,M=0;for(v=0;v<t.length;v++){w=(this.words[v+c]|0)+M;var m=(t.words[v]|0)*o;w-=m&67108863,M=(w>>26)-(m/67108864|0),this.words[v+c]=w&67108863}for(;v<this.length-c;v++)w=(this.words[v+c]|0)+M,M=w>>26,this.words[v+c]=w&67108863;if(M===0)return this.strip();for(u(M===-1),M=0,v=0;v<this.length;v++)w=-(this.words[v]|0)+M,M=w>>26,this.words[v]=w&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,o){var c=this.length-t.length,l=this.clone(),v=t,w=v.words[v.length-1]|0,M=this._countBits(w);c=26-M,c!==0&&(v=v.ushln(c),l.iushln(c),w=v.words[v.length-1]|0);var m=l.length-v.length,n;if(o!=="mod"){n=new s(null),n.length=m+1,n.words=new Array(n.length);for(var b=0;b<n.length;b++)n.words[b]=0}var P=l.clone()._ishlnsubmul(v,1,m);P.negative===0&&(l=P,n&&(n.words[m]=1));for(var I=m-1;I>=0;I--){var F=(l.words[v.length+I]|0)*67108864+(l.words[v.length+I-1]|0);for(F=Math.min(F/w|0,67108863),l._ishlnsubmul(v,F,I);l.negative!==0;)F--,l.negative=0,l._ishlnsubmul(v,1,I),l.isZero()||(l.negative^=1);n&&(n.words[I]=F)}return n&&n.strip(),l.strip(),o!=="div"&&c!==0&&l.iushrn(c),{div:n||null,mod:l}},s.prototype.divmod=function(t,o,c){if(u(!t.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var l,v,w;return this.negative!==0&&t.negative===0?(w=this.neg().divmod(t,o),o!=="mod"&&(l=w.div.neg()),o!=="div"&&(v=w.mod.neg(),c&&v.negative!==0&&v.iadd(t)),{div:l,mod:v}):this.negative===0&&t.negative!==0?(w=this.divmod(t.neg(),o),o!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&t.negative?(w=this.neg().divmod(t.neg(),o),o!=="div"&&(v=w.mod.neg(),c&&v.negative!==0&&v.isub(t)),{div:w.div,mod:v}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:t.length===1?o==="div"?{div:this.divn(t.words[0]),mod:null}:o==="mod"?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,o)},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var o=this.divmod(t);if(o.mod.isZero())return o.div;var c=o.div.negative!==0?o.mod.isub(t):o.mod,l=t.ushrn(1),v=t.andln(1),w=c.cmp(l);return w<0||v===1&&w===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},s.prototype.modn=function(t){u(t<=67108863);for(var o=(1<<26)%t,c=0,l=this.length-1;l>=0;l--)c=(o*c+(this.words[l]|0))%t;return c},s.prototype.idivn=function(t){u(t<=67108863);for(var o=0,c=this.length-1;c>=0;c--){var l=(this.words[c]|0)+o*67108864;this.words[c]=l/t|0,o=l%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){u(t.negative===0),u(!t.isZero());var o=this,c=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var l=new s(1),v=new s(0),w=new s(0),M=new s(1),m=0;o.isEven()&&c.isEven();)o.iushrn(1),c.iushrn(1),++m;for(var n=c.clone(),b=o.clone();!o.isZero();){for(var P=0,I=1;!(o.words[0]&I)&&P<26;++P,I<<=1);if(P>0)for(o.iushrn(P);P-- >0;)(l.isOdd()||v.isOdd())&&(l.iadd(n),v.isub(b)),l.iushrn(1),v.iushrn(1);for(var F=0,Y=1;!(c.words[0]&Y)&&F<26;++F,Y<<=1);if(F>0)for(c.iushrn(F);F-- >0;)(w.isOdd()||M.isOdd())&&(w.iadd(n),M.isub(b)),w.iushrn(1),M.iushrn(1);o.cmp(c)>=0?(o.isub(c),l.isub(w),v.isub(M)):(c.isub(o),w.isub(l),M.isub(v))}return{a:w,b:M,gcd:c.iushln(m)}},s.prototype._invmp=function(t){u(t.negative===0),u(!t.isZero());var o=this,c=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var l=new s(1),v=new s(0),w=c.clone();o.cmpn(1)>0&&c.cmpn(1)>0;){for(var M=0,m=1;!(o.words[0]&m)&&M<26;++M,m<<=1);if(M>0)for(o.iushrn(M);M-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var n=0,b=1;!(c.words[0]&b)&&n<26;++n,b<<=1);if(n>0)for(c.iushrn(n);n-- >0;)v.isOdd()&&v.iadd(w),v.iushrn(1);o.cmp(c)>=0?(o.isub(c),l.isub(v)):(c.isub(o),v.isub(l))}var P;return o.cmpn(1)===0?P=l:P=v,P.cmpn(0)<0&&P.iadd(t),P},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var o=this.clone(),c=t.clone();o.negative=0,c.negative=0;for(var l=0;o.isEven()&&c.isEven();l++)o.iushrn(1),c.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;c.isEven();)c.iushrn(1);var v=o.cmp(c);if(v<0){var w=o;o=c,c=w}else if(v===0||c.cmpn(1)===0)break;o.isub(c)}while(!0);return c.iushln(l)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){u(typeof t=="number");var o=t%26,c=(t-o)/26,l=1<<o;if(this.length<=c)return this._expand(c+1),this.words[c]|=l,this;for(var v=l,w=c;v!==0&&w<this.length;w++){var M=this.words[w]|0;M+=v,v=M>>>26,M&=67108863,this.words[w]=M}return v!==0&&(this.words[w]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(t){var o=t<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var c;if(this.length>1)c=1;else{o&&(t=-t),u(t<=67108863,"Number is too big");var l=this.words[0]|0;c=l===t?0:l<t?-1:1}return this.negative!==0?-c|0:c},s.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var o=this.ucmp(t);return this.negative!==0?-o|0:o},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var o=0,c=this.length-1;c>=0;c--){var l=this.words[c]|0,v=t.words[c]|0;if(l!==v){l<v?o=-1:l>v&&(o=1);break}}return o},s.prototype.gtn=function(t){return this.cmpn(t)===1},s.prototype.gt=function(t){return this.cmp(t)===1},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return this.cmpn(t)===-1},s.prototype.lt=function(t){return this.cmp(t)===-1},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return this.cmpn(t)===0},s.prototype.eq=function(t){return this.cmp(t)===0},s.red=function(t){return new oe(t)},s.prototype.toRed=function(t){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return u(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return u(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var U={k256:null,p224:null,p192:null,p25519:null};function j(E,t){this.name=E,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},j.prototype.ireduce=function(t){var o=t,c;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),c=o.bitLength();while(c>this.n);var l=c<this.n?-1:o.ucmp(this.p);return l===0?(o.words[0]=0,o.length=1):l>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},j.prototype.split=function(t,o){t.iushrn(this.n,0,o)},j.prototype.imulK=function(t){return t.imul(this.k)};function ee(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}d(ee,j),ee.prototype.split=function(t,o){for(var c=4194303,l=Math.min(t.length,9),v=0;v<l;v++)o.words[v]=t.words[v];if(o.length=l,t.length<=9){t.words[0]=0,t.length=1;return}var w=t.words[9];for(o.words[o.length++]=w&c,v=10;v<t.length;v++){var M=t.words[v]|0;t.words[v-10]=(M&c)<<4|w>>>22,w=M}w>>>=22,t.words[v-10]=w,w===0&&t.length>10?t.length-=10:t.length-=9},ee.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var o=0,c=0;c<t.length;c++){var l=t.words[c]|0;o+=l*977,t.words[c]=o&67108863,o=l*64+(o/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function se(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}d(se,j);function Ee(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}d(Ee,j);function ge(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}d(ge,j),ge.prototype.imulK=function(t){for(var o=0,c=0;c<t.length;c++){var l=(t.words[c]|0)*19+o,v=l&67108863;l>>>=26,t.words[c]=v,o=l}return o!==0&&(t.words[t.length++]=o),t},s._prime=function(t){if(U[t])return U[t];var o;if(t==="k256")o=new ee;else if(t==="p224")o=new se;else if(t==="p192")o=new Ee;else if(t==="p25519")o=new ge;else throw new Error("Unknown prime "+t);return U[t]=o,o};function oe(E){if(typeof E=="string"){var t=s._prime(E);this.m=t.p,this.prime=t}else u(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}oe.prototype._verify1=function(t){u(t.negative===0,"red works only with positives"),u(t.red,"red works only with red numbers")},oe.prototype._verify2=function(t,o){u((t.negative|o.negative)===0,"red works only with positives"),u(t.red&&t.red===o.red,"red works only with red numbers")},oe.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},oe.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},oe.prototype.add=function(t,o){this._verify2(t,o);var c=t.add(o);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},oe.prototype.iadd=function(t,o){this._verify2(t,o);var c=t.iadd(o);return c.cmp(this.m)>=0&&c.isub(this.m),c},oe.prototype.sub=function(t,o){this._verify2(t,o);var c=t.sub(o);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},oe.prototype.isub=function(t,o){this._verify2(t,o);var c=t.isub(o);return c.cmpn(0)<0&&c.iadd(this.m),c},oe.prototype.shl=function(t,o){return this._verify1(t),this.imod(t.ushln(o))},oe.prototype.imul=function(t,o){return this._verify2(t,o),this.imod(t.imul(o))},oe.prototype.mul=function(t,o){return this._verify2(t,o),this.imod(t.mul(o))},oe.prototype.isqr=function(t){return this.imul(t,t.clone())},oe.prototype.sqr=function(t){return this.mul(t,t)},oe.prototype.sqrt=function(t){if(t.isZero())return t.clone();var o=this.m.andln(3);if(u(o%2===1),o===3){var c=this.m.add(new s(1)).iushrn(2);return this.pow(t,c)}for(var l=this.m.subn(1),v=0;!l.isZero()&&l.andln(1)===0;)v++,l.iushrn(1);u(!l.isZero());var w=new s(1).toRed(this),M=w.redNeg(),m=this.m.subn(1).iushrn(1),n=this.m.bitLength();for(n=new s(2*n*n).toRed(this);this.pow(n,m).cmp(M)!==0;)n.redIAdd(M);for(var b=this.pow(n,l),P=this.pow(t,l.addn(1).iushrn(1)),I=this.pow(t,l),F=v;I.cmp(w)!==0;){for(var Y=I,X=0;Y.cmp(w)!==0;X++)Y=Y.redSqr();u(X<F);var T=this.pow(b,new s(1).iushln(F-X-1));P=P.redMul(T),b=T.redSqr(),I=I.redMul(b),F=X}return P},oe.prototype.invm=function(t){var o=t._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},oe.prototype.pow=function(t,o){if(o.isZero())return new s(1).toRed(this);if(o.cmpn(1)===0)return t.clone();var c=4,l=new Array(1<<c);l[0]=new s(1).toRed(this),l[1]=t;for(var v=2;v<l.length;v++)l[v]=this.mul(l[v-1],t);var w=l[0],M=0,m=0,n=o.bitLength()%26;for(n===0&&(n=26),v=o.length-1;v>=0;v--){for(var b=o.words[v],P=n-1;P>=0;P--){var I=b>>P&1;if(w!==l[0]&&(w=this.sqr(w)),I===0&&M===0){m=0;continue}M<<=1,M|=I,m++,!(m!==c&&(v!==0||P!==0))&&(w=this.mul(w,l[M]),m=0,M=0)}n=26}return w},oe.prototype.convertTo=function(t){var o=t.umod(this.m);return o===t?o.clone():o},oe.prototype.convertFrom=function(t){var o=t.clone();return o.red=null,o},s.mont=function(t){return new Le(t)};function Le(E){oe.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}d(Le,oe),Le.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Le.prototype.convertFrom=function(t){var o=this.imod(t.mul(this.rinv));return o.red=null,o},Le.prototype.imul=function(t,o){if(t.isZero()||o.isZero())return t.words[0]=0,t.length=1,t;var c=t.imul(o),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(l).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},Le.prototype.mul=function(t,o){if(t.isZero()||o.isZero())return new s(0)._forceRed(this);var c=t.mul(o),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(l).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},Le.prototype.invm=function(t){var o=this.imod(t._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,commonjsGlobal)}(bn$5)),bn$5.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var r;brorand.exports=function(d){return r||(r=new e(null)),r.generate(d)};function e(u){this.rand=u}if(brorand.exports.Rand=e,e.prototype.generate=function(d){return this._rand(d)},e.prototype._rand=function(d){if(this.rand.getBytes)return this.rand.getBytes(d);for(var s=new Uint8Array(d),g=0;g<s.length;g++)s[g]=this.rand.getByte();return s},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(d){var s=new Uint8Array(d);return self.crypto.getRandomValues(s),s}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(d){var s=new Uint8Array(d);return self.msCrypto.getRandomValues(s),s}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=requireCryptoBrowserify();if(typeof a.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(d){return a.randomBytes(d)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var r=requireBn$5(),e=requireBrorand();function a(u){this.rand=u||new e.Rand}return mr=a,a.create=function(d){return new a(d)},a.prototype._randbelow=function(d){var s=d.bitLength(),g=Math.ceil(s/8);do var x=new r(this.rand.generate(g));while(x.cmp(d)>=0);return x},a.prototype._randrange=function(d,s){var g=s.sub(d);return d.add(this._randbelow(g))},a.prototype.test=function(d,s,g){var x=d.bitLength(),_=r.mont(d),S=new r(1).toRed(_);s||(s=Math.max(1,x/48|0));for(var y=d.subn(1),A=0;!y.testn(A);A++);for(var R=d.shrn(A),B=y.toRed(_),q=!0;s>0;s--){var C=this._randrange(new r(2),y);g&&g(C);var N=C.toRed(_).redPow(R);if(!(N.cmp(S)===0||N.cmp(B)===0)){for(var k=1;k<A;k++){if(N=N.redSqr(),N.cmp(S)===0)return!1;if(N.cmp(B)===0)break}if(k===A)return!1}}return q},a.prototype.getDivisor=function(d,s){var g=d.bitLength(),x=r.mont(d),_=new r(1).toRed(x);s||(s=Math.max(1,g/48|0));for(var S=d.subn(1),y=0;!S.testn(y);y++);for(var A=d.shrn(y),R=S.toRed(x);s>0;s--){var B=this._randrange(new r(2),S),q=d.gcd(B);if(q.cmpn(1)!==0)return q;var C=B.toRed(x).redPow(A);if(!(C.cmp(_)===0||C.cmp(R)===0)){for(var N=1;N<y;N++){if(C=C.redSqr(),C.cmp(_)===0)return C.fromRed().subn(1).gcd(d);if(C.cmp(R)===0)break}if(N===y)return C=C.redSqr(),C.fromRed().subn(1).gcd(d)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var r=requireBrowser$b();generatePrime=N,N.simpleSieve=q,N.fermatTest=C;var e=requireBn$6(),a=new e(24),u=requireMr(),d=new u,s=new e(1),g=new e(2),x=new e(5);new e(16),new e(8);var _=new e(10),S=new e(3);new e(7);var y=new e(11),A=new e(4);new e(12);var R=null;function B(){if(R!==null)return R;var k=1048576,L=[];L[0]=2;for(var U=1,j=3;j<k;j+=2){for(var ee=Math.ceil(Math.sqrt(j)),se=0;se<U&&L[se]<=ee&&j%L[se]!==0;se++);U!==se&&L[se]<=ee||(L[U++]=j)}return R=L,L}function q(k){for(var L=B(),U=0;U<L.length;U++)if(k.modn(L[U])===0)return k.cmpn(L[U])===0;return!0}function C(k){var L=e.mont(k);return g.toRed(L).redPow(k.subn(1)).fromRed().cmpn(1)===0}function N(k,L){if(k<16)return L===2||L===5?new e([140,123]):new e([140,39]);L=new e(L);for(var U,j;;){for(U=new e(r(Math.ceil(k/8)));U.bitLength()>k;)U.ishrn(1);if(U.isEven()&&U.iadd(s),U.testn(1)||U.iadd(g),L.cmp(g)){if(!L.cmp(x))for(;U.mod(_).cmp(S);)U.iadd(A)}else for(;U.mod(a).cmp(y);)U.iadd(A);if(j=U.shrn(1),q(j)&&q(U)&&C(j)&&C(U)&&d.test(j)&&d.test(U))return U}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var r=requireBn$6(),e=requireMr(),a=new e,u=new r(24),d=new r(11),s=new r(10),g=new r(3),x=new r(7),_=requireGeneratePrime(),S=requireBrowser$b();dh=q;function y(N,k){return k=k||"utf8",Buffer.isBuffer(N)||(N=new Buffer(N,k)),this._pub=new r(N),this}function A(N,k){return k=k||"utf8",Buffer.isBuffer(N)||(N=new Buffer(N,k)),this._priv=new r(N),this}var R={};function B(N,k){var L=k.toString("hex"),U=[L,N.toString(16)].join("_");if(U in R)return R[U];var j=0;if(N.isEven()||!_.simpleSieve||!_.fermatTest(N)||!a.test(N))return j+=1,L==="02"||L==="05"?j+=8:j+=4,R[U]=j,j;a.test(N.shrn(1))||(j+=2);var ee;switch(L){case"02":N.mod(u).cmp(d)&&(j+=8);break;case"05":ee=N.mod(s),ee.cmp(g)&&ee.cmp(x)&&(j+=8);break;default:j+=4}return R[U]=j,j}function q(N,k,L){this.setGenerator(k),this.__prime=new r(N),this._prime=r.mont(this.__prime),this._primeLen=N.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,L?(this.setPublicKey=y,this.setPrivateKey=A):this._primeCode=8}Object.defineProperty(q.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=B(this.__prime,this.__gen)),this._primeCode}}),q.prototype.generateKeys=function(){return this._priv||(this._priv=new r(S(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},q.prototype.computeSecret=function(N){N=new r(N),N=N.toRed(this._prime);var k=N.redPow(this._priv).fromRed(),L=new Buffer(k.toArray()),U=this.getPrime();if(L.length<U.length){var j=new Buffer(U.length-L.length);j.fill(0),L=Buffer.concat([j,L])}return L},q.prototype.getPublicKey=function(k){return C(this._pub,k)},q.prototype.getPrivateKey=function(k){return C(this._priv,k)},q.prototype.getPrime=function(N){return C(this.__prime,N)},q.prototype.getGenerator=function(N){return C(this._gen,N)},q.prototype.setGenerator=function(N,k){return k=k||"utf8",Buffer.isBuffer(N)||(N=new Buffer(N,k)),this.__gen=N,this._gen=new r(N),this};function C(N,k){var L=new Buffer(N.toArray());return k?L.toString(k):L}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var r=requireGeneratePrime(),e=require$$1$1,a=requireDh();function u(g){var x=new Buffer(e[g].prime,"hex"),_=new Buffer(e[g].gen,"hex");return new a(x,_)}var d={binary:!0,hex:!0,base64:!0};function s(g,x,_,S){return Buffer.isBuffer(x)||d[x]===void 0?s(g,"binary",x,_):(x=x||"binary",S=S||"binary",_=_||new Buffer([2]),Buffer.isBuffer(_)||(_=new Buffer(_,S)),typeof g=="number"?new a(r(g,_),_,!0):(Buffer.isBuffer(g)||(g=new Buffer(g,x)),new a(g,_,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=u,browser$4.createDiffieHellman=browser$4.DiffieHellman=s,browser$4}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:r}:processNextickArgs.exports=process$1;function r(e,a,u,d){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var s=arguments.length,g,x;switch(s){case 0:case 1:return process$1.nextTick(e);case 2:return process$1.nextTick(function(){e.call(null,a)});case 3:return process$1.nextTick(function(){e.call(null,a,u)});case 4:return process$1.nextTick(function(){e.call(null,a,u,d)});default:for(g=new Array(s-1),x=0;x<g.length;)g[x++]=arguments[x];return process$1.nextTick(function(){e.apply(null,g)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var r={}.toString;return isarray=Array.isArray||function(e){return r.call(e)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(r,e){var a=require$$0$1,u=a.Buffer;function d(g,x){for(var _ in g)x[_]=g[_]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?r.exports=a:(d(a,e),e.Buffer=s);function s(g,x,_){return u(g,x,_)}d(u,s),s.from=function(g,x,_){if(typeof g=="number")throw new TypeError("Argument must not be a number");return u(g,x,_)},s.alloc=function(g,x,_){if(typeof g!="number")throw new TypeError("Argument must be a number");var S=u(g);return x!==void 0?typeof _=="string"?S.fill(x,_):S.fill(x):S.fill(0),S},s.allocUnsafe=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return u(g)},s.allocUnsafeSlow=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(g)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util$1={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$1;hasRequiredUtil=1;function r(C){return Array.isArray?Array.isArray(C):q(C)==="[object Array]"}util$1.isArray=r;function e(C){return typeof C=="boolean"}util$1.isBoolean=e;function a(C){return C===null}util$1.isNull=a;function u(C){return C==null}util$1.isNullOrUndefined=u;function d(C){return typeof C=="number"}util$1.isNumber=d;function s(C){return typeof C=="string"}util$1.isString=s;function g(C){return typeof C=="symbol"}util$1.isSymbol=g;function x(C){return C===void 0}util$1.isUndefined=x;function _(C){return q(C)==="[object RegExp]"}util$1.isRegExp=_;function S(C){return typeof C=="object"&&C!==null}util$1.isObject=S;function y(C){return q(C)==="[object Date]"}util$1.isDate=y;function A(C){return q(C)==="[object Error]"||C instanceof Error}util$1.isError=A;function R(C){return typeof C=="function"}util$1.isFunction=R;function B(C){return C===null||typeof C=="boolean"||typeof C=="number"||typeof C=="string"||typeof C=="symbol"||typeof C>"u"}util$1.isPrimitive=B,util$1.isBuffer=require$$0$1.Buffer.isBuffer;function q(C){return Object.prototype.toString.call(C)}return util$1}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(r){function e(s,g){if(!(s instanceof g))throw new TypeError("Cannot call a class as a function")}var a=requireSafeBuffer().Buffer,u=requireUtil$1();function d(s,g,x){s.copy(g,x)}r.exports=function(){function s(){e(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(x){var _={data:x,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length},s.prototype.unshift=function(x){var _={data:x,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length},s.prototype.shift=function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(x){if(this.length===0)return"";for(var _=this.head,S=""+_.data;_=_.next;)S+=x+_.data;return S},s.prototype.concat=function(x){if(this.length===0)return a.alloc(0);for(var _=a.allocUnsafe(x>>>0),S=this.head,y=0;S;)d(S.data,_,y),y+=S.data.length,S=S.next;return _},s}(),u&&u.inspect&&u.inspect.custom&&(r.exports.prototype[u.inspect.custom]=function(){var s=u.inspect({length:this.length});return this.constructor.name+" "+s})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var r=requireProcessNextickArgs();function e(d,s){var g=this,x=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return x||_?(s?s(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(u,this,d)):r.nextTick(u,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(S){!s&&S?g._writableState?g._writableState.errorEmitted||(g._writableState.errorEmitted=!0,r.nextTick(u,g,S)):r.nextTick(u,g,S):s&&s(S)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(d,s){d.emit("error",s)}return destroy_1={destroy:e,undestroy:a},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var r=requireProcessNextickArgs();_stream_writable=C;function e(w){var M=this;this.next=null,this.entry=null,this.finish=function(){v(M,w)}}var a=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:r.nextTick,u;C.WritableState=B;var d=Object.create(requireUtil());d.inherits=requireInherits_browser();var s={deprecate:requireBrowser$a()},g=requireStreamBrowser(),x=requireSafeBuffer().Buffer,_=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function S(w){return x.from(w)}function y(w){return x.isBuffer(w)||w instanceof _}var A=requireDestroy();d.inherits(C,g);function R(){}function B(w,M){u=u||require_stream_duplex(),w=w||{};var m=M instanceof u;this.objectMode=!!w.objectMode,m&&(this.objectMode=this.objectMode||!!w.writableObjectMode);var n=w.highWaterMark,b=w.writableHighWaterMark,P=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:m&&(b||b===0)?this.highWaterMark=b:this.highWaterMark=P,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var I=w.decodeStrings===!1;this.decodeStrings=!I,this.defaultEncoding=w.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(F){Ee(M,F)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}B.prototype.getBuffer=function(){for(var M=this.bufferedRequest,m=[];M;)m.push(M),M=M.next;return m},function(){try{Object.defineProperty(B.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(q=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(w){return q.call(this,w)?!0:this!==C?!1:w&&w._writableState instanceof B}})):q=function(w){return w instanceof this};function C(w){if(u=u||require_stream_duplex(),!q.call(C,this)&&!(this instanceof u))return new C(w);this._writableState=new B(w,this),this.writable=!0,w&&(typeof w.write=="function"&&(this._write=w.write),typeof w.writev=="function"&&(this._writev=w.writev),typeof w.destroy=="function"&&(this._destroy=w.destroy),typeof w.final=="function"&&(this._final=w.final)),g.call(this)}C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function N(w,M){var m=new Error("write after end");w.emit("error",m),r.nextTick(M,m)}function k(w,M,m,n){var b=!0,P=!1;return m===null?P=new TypeError("May not write null values to stream"):typeof m!="string"&&m!==void 0&&!M.objectMode&&(P=new TypeError("Invalid non-string/buffer chunk")),P&&(w.emit("error",P),r.nextTick(n,P),b=!1),b}C.prototype.write=function(w,M,m){var n=this._writableState,b=!1,P=!n.objectMode&&y(w);return P&&!x.isBuffer(w)&&(w=S(w)),typeof M=="function"&&(m=M,M=null),P?M="buffer":M||(M=n.defaultEncoding),typeof m!="function"&&(m=R),n.ended?N(this,m):(P||k(this,n,w,m))&&(n.pendingcb++,b=U(this,n,P,w,M,m)),b},C.prototype.cork=function(){var w=this._writableState;w.corked++},C.prototype.uncork=function(){var w=this._writableState;w.corked&&(w.corked--,!w.writing&&!w.corked&&!w.bufferProcessing&&w.bufferedRequest&&Le(this,w))},C.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+M);return this._writableState.defaultEncoding=M,this};function L(w,M,m){return!w.objectMode&&w.decodeStrings!==!1&&typeof M=="string"&&(M=x.from(M,m)),M}Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function U(w,M,m,n,b,P){if(!m){var I=L(M,n,b);n!==I&&(m=!0,b="buffer",n=I)}var F=M.objectMode?1:n.length;M.length+=F;var Y=M.length<M.highWaterMark;if(Y||(M.needDrain=!0),M.writing||M.corked){var X=M.lastBufferedRequest;M.lastBufferedRequest={chunk:n,encoding:b,isBuf:m,callback:P,next:null},X?X.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else j(w,M,!1,F,n,b,P);return Y}function j(w,M,m,n,b,P,I){M.writelen=n,M.writecb=I,M.writing=!0,M.sync=!0,m?w._writev(b,M.onwrite):w._write(b,P,M.onwrite),M.sync=!1}function ee(w,M,m,n,b){--M.pendingcb,m?(r.nextTick(b,n),r.nextTick(c,w,M),w._writableState.errorEmitted=!0,w.emit("error",n)):(b(n),w._writableState.errorEmitted=!0,w.emit("error",n),c(w,M))}function se(w){w.writing=!1,w.writecb=null,w.length-=w.writelen,w.writelen=0}function Ee(w,M){var m=w._writableState,n=m.sync,b=m.writecb;if(se(m),M)ee(w,m,n,M,b);else{var P=E(m);!P&&!m.corked&&!m.bufferProcessing&&m.bufferedRequest&&Le(w,m),n?a(ge,w,m,P,b):ge(w,m,P,b)}}function ge(w,M,m,n){m||oe(w,M),M.pendingcb--,n(),c(w,M)}function oe(w,M){M.length===0&&M.needDrain&&(M.needDrain=!1,w.emit("drain"))}function Le(w,M){M.bufferProcessing=!0;var m=M.bufferedRequest;if(w._writev&&m&&m.next){var n=M.bufferedRequestCount,b=new Array(n),P=M.corkedRequestsFree;P.entry=m;for(var I=0,F=!0;m;)b[I]=m,m.isBuf||(F=!1),m=m.next,I+=1;b.allBuffers=F,j(w,M,!0,M.length,b,"",P.finish),M.pendingcb++,M.lastBufferedRequest=null,P.next?(M.corkedRequestsFree=P.next,P.next=null):M.corkedRequestsFree=new e(M),M.bufferedRequestCount=0}else{for(;m;){var Y=m.chunk,X=m.encoding,T=m.callback,K=M.objectMode?1:Y.length;if(j(w,M,!1,K,Y,X,T),m=m.next,M.bufferedRequestCount--,M.writing)break}m===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=m,M.bufferProcessing=!1}C.prototype._write=function(w,M,m){m(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(w,M,m){var n=this._writableState;typeof w=="function"?(m=w,w=null,M=null):typeof M=="function"&&(m=M,M=null),w!=null&&this.write(w,M),n.corked&&(n.corked=1,this.uncork()),n.ending||l(this,n,m)};function E(w){return w.ending&&w.length===0&&w.bufferedRequest===null&&!w.finished&&!w.writing}function t(w,M){w._final(function(m){M.pendingcb--,m&&w.emit("error",m),M.prefinished=!0,w.emit("prefinish"),c(w,M)})}function o(w,M){!M.prefinished&&!M.finalCalled&&(typeof w._final=="function"?(M.pendingcb++,M.finalCalled=!0,r.nextTick(t,w,M)):(M.prefinished=!0,w.emit("prefinish")))}function c(w,M){var m=E(M);return m&&(o(w,M),M.pendingcb===0&&(M.finished=!0,w.emit("finish"))),m}function l(w,M,m){M.ending=!0,c(w,M),m&&(M.finished?r.nextTick(m):w.once("finish",m)),M.ended=!0,w.writable=!1}function v(w,M,m){var n=w.entry;for(w.entry=null;n;){var b=n.callback;M.pendingcb--,b(m),n=n.next}M.corkedRequestsFree.next=w}return Object.defineProperty(C.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(w){this._writableState&&(this._writableState.destroyed=w)}}),C.prototype.destroy=A.destroy,C.prototype._undestroy=A.undestroy,C.prototype._destroy=function(w,M){this.end(),M(w)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var r=requireProcessNextickArgs(),e=Object.keys||function(A){var R=[];for(var B in A)R.push(B);return R};_stream_duplex=_;var a=Object.create(requireUtil());a.inherits=requireInherits_browser();var u=require_stream_readable(),d=require_stream_writable();a.inherits(_,u);for(var s=e(d.prototype),g=0;g<s.length;g++){var x=s[g];_.prototype[x]||(_.prototype[x]=d.prototype[x])}function _(A){if(!(this instanceof _))return new _(A);u.call(this,A),d.call(this,A),A&&A.readable===!1&&(this.readable=!1),A&&A.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,A&&A.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",S)}Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function S(){this.allowHalfOpen||this._writableState.ended||r.nextTick(y,this)}function y(A){A.end()}return Object.defineProperty(_.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(A){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),_.prototype._destroy=function(A,R){this.push(null),this.end(),r.nextTick(R,A)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var r=requireProcessNextickArgs();_stream_readable=L;var e=requireIsarray(),a;L.ReadableState=k,requireEvents().EventEmitter;var u=function(T,K){return T.listeners(K).length},d=requireStreamBrowser(),s=requireSafeBuffer().Buffer,g=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function x(T){return s.from(T)}function _(T){return s.isBuffer(T)||T instanceof g}var S=Object.create(requireUtil());S.inherits=requireInherits_browser();var y=requireUtil$1(),A=void 0;y&&y.debuglog?A=y.debuglog("stream"):A=function(){};var R=requireBufferList(),B=requireDestroy(),q;S.inherits(L,d);var C=["error","close","destroy","pause","resume"];function N(T,K,W){if(typeof T.prependListener=="function")return T.prependListener(K,W);!T._events||!T._events[K]?T.on(K,W):e(T._events[K])?T._events[K].unshift(W):T._events[K]=[W,T._events[K]]}function k(T,K){a=a||require_stream_duplex(),T=T||{};var W=K instanceof a;this.objectMode=!!T.objectMode,W&&(this.objectMode=this.objectMode||!!T.readableObjectMode);var ne=T.highWaterMark,ie=T.readableHighWaterMark,G=this.objectMode?16:16*1024;ne||ne===0?this.highWaterMark=ne:W&&(ie||ie===0)?this.highWaterMark=ie:this.highWaterMark=G,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=T.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,T.encoding&&(q||(q=requireString_decoder().StringDecoder),this.decoder=new q(T.encoding),this.encoding=T.encoding)}function L(T){if(a=a||require_stream_duplex(),!(this instanceof L))return new L(T);this._readableState=new k(T,this),this.readable=!0,T&&(typeof T.read=="function"&&(this._read=T.read),typeof T.destroy=="function"&&(this._destroy=T.destroy)),d.call(this)}Object.defineProperty(L.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(T){this._readableState&&(this._readableState.destroyed=T)}}),L.prototype.destroy=B.destroy,L.prototype._undestroy=B.undestroy,L.prototype._destroy=function(T,K){this.push(null),K(T)},L.prototype.push=function(T,K){var W=this._readableState,ne;return W.objectMode?ne=!0:typeof T=="string"&&(K=K||W.defaultEncoding,K!==W.encoding&&(T=s.from(T,K),K=""),ne=!0),U(this,T,K,!1,ne)},L.prototype.unshift=function(T){return U(this,T,null,!0,!1)};function U(T,K,W,ne,ie){var G=T._readableState;if(K===null)G.reading=!1,Le(T,G);else{var H;ie||(H=ee(G,K)),H?T.emit("error",H):G.objectMode||K&&K.length>0?(typeof K!="string"&&!G.objectMode&&Object.getPrototypeOf(K)!==s.prototype&&(K=x(K)),ne?G.endEmitted?T.emit("error",new Error("stream.unshift() after end event")):j(T,G,K,!0):G.ended?T.emit("error",new Error("stream.push() after EOF")):(G.reading=!1,G.decoder&&!W?(K=G.decoder.write(K),G.objectMode||K.length!==0?j(T,G,K,!1):o(T,G)):j(T,G,K,!1))):ne||(G.reading=!1)}return se(G)}function j(T,K,W,ne){K.flowing&&K.length===0&&!K.sync?(T.emit("data",W),T.read(0)):(K.length+=K.objectMode?1:W.length,ne?K.buffer.unshift(W):K.buffer.push(W),K.needReadable&&E(T)),o(T,K)}function ee(T,K){var W;return!_(K)&&typeof K!="string"&&K!==void 0&&!T.objectMode&&(W=new TypeError("Invalid non-string/buffer chunk")),W}function se(T){return!T.ended&&(T.needReadable||T.length<T.highWaterMark||T.length===0)}L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(T){return q||(q=requireString_decoder().StringDecoder),this._readableState.decoder=new q(T),this._readableState.encoding=T,this};var Ee=8388608;function ge(T){return T>=Ee?T=Ee:(T--,T|=T>>>1,T|=T>>>2,T|=T>>>4,T|=T>>>8,T|=T>>>16,T++),T}function oe(T,K){return T<=0||K.length===0&&K.ended?0:K.objectMode?1:T!==T?K.flowing&&K.length?K.buffer.head.data.length:K.length:(T>K.highWaterMark&&(K.highWaterMark=ge(T)),T<=K.length?T:K.ended?K.length:(K.needReadable=!0,0))}L.prototype.read=function(T){A("read",T),T=parseInt(T,10);var K=this._readableState,W=T;if(T!==0&&(K.emittedReadable=!1),T===0&&K.needReadable&&(K.length>=K.highWaterMark||K.ended))return A("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?F(this):E(this),null;if(T=oe(T,K),T===0&&K.ended)return K.length===0&&F(this),null;var ne=K.needReadable;A("need readable",ne),(K.length===0||K.length-T<K.highWaterMark)&&(ne=!0,A("length less than watermark",ne)),K.ended||K.reading?(ne=!1,A("reading or ended",ne)):ne&&(A("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(T=oe(W,K)));var ie;return T>0?ie=n(T,K):ie=null,ie===null?(K.needReadable=!0,T=0):K.length-=T,K.length===0&&(K.ended||(K.needReadable=!0),W!==T&&K.ended&&F(this)),ie!==null&&this.emit("data",ie),ie};function Le(T,K){if(!K.ended){if(K.decoder){var W=K.decoder.end();W&&W.length&&(K.buffer.push(W),K.length+=K.objectMode?1:W.length)}K.ended=!0,E(T)}}function E(T){var K=T._readableState;K.needReadable=!1,K.emittedReadable||(A("emitReadable",K.flowing),K.emittedReadable=!0,K.sync?r.nextTick(t,T):t(T))}function t(T){A("emit readable"),T.emit("readable"),m(T)}function o(T,K){K.readingMore||(K.readingMore=!0,r.nextTick(c,T,K))}function c(T,K){for(var W=K.length;!K.reading&&!K.flowing&&!K.ended&&K.length<K.highWaterMark&&(A("maybeReadMore read 0"),T.read(0),W!==K.length);)W=K.length;K.readingMore=!1}L.prototype._read=function(T){this.emit("error",new Error("_read() is not implemented"))},L.prototype.pipe=function(T,K){var W=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=T;break;case 1:ne.pipes=[ne.pipes,T];break;default:ne.pipes.push(T);break}ne.pipesCount+=1,A("pipe count=%d opts=%j",ne.pipesCount,K);var ie=(!K||K.end!==!1)&&T!==process$1.stdout&&T!==process$1.stderr,G=ie?fe:tt;ne.endEmitted?r.nextTick(G):W.once("end",G),T.on("unpipe",H);function H(Ae,Pe){A("onunpipe"),Ae===W&&Pe&&Pe.hasUnpiped===!1&&(Pe.hasUnpiped=!0,ke())}function fe(){A("onend"),T.end()}var he=l(W);T.on("drain",he);var ve=!1;function ke(){A("cleanup"),T.removeListener("close",_e),T.removeListener("finish",Se),T.removeListener("drain",he),T.removeListener("error",Ze),T.removeListener("unpipe",H),W.removeListener("end",fe),W.removeListener("end",tt),W.removeListener("data",le),ve=!0,ne.awaitDrain&&(!T._writableState||T._writableState.needDrain)&&he()}var Me=!1;W.on("data",le);function le(Ae){A("ondata"),Me=!1;var Pe=T.write(Ae);Pe===!1&&!Me&&((ne.pipesCount===1&&ne.pipes===T||ne.pipesCount>1&&X(ne.pipes,T)!==-1)&&!ve&&(A("false write response, pause",ne.awaitDrain),ne.awaitDrain++,Me=!0),W.pause())}function Ze(Ae){A("onerror",Ae),tt(),T.removeListener("error",Ze),u(T,"error")===0&&T.emit("error",Ae)}N(T,"error",Ze);function _e(){T.removeListener("finish",Se),tt()}T.once("close",_e);function Se(){A("onfinish"),T.removeListener("close",_e),tt()}T.once("finish",Se);function tt(){A("unpipe"),W.unpipe(T)}return T.emit("pipe",W),ne.flowing||(A("pipe resume"),W.resume()),T};function l(T){return function(){var K=T._readableState;A("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&u(T,"data")&&(K.flowing=!0,m(T))}}L.prototype.unpipe=function(T){var K=this._readableState,W={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return T&&T!==K.pipes?this:(T||(T=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,T&&T.emit("unpipe",this,W),this);if(!T){var ne=K.pipes,ie=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var G=0;G<ie;G++)ne[G].emit("unpipe",this,{hasUnpiped:!1});return this}var H=X(K.pipes,T);return H===-1?this:(K.pipes.splice(H,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),T.emit("unpipe",this,W),this)},L.prototype.on=function(T,K){var W=d.prototype.on.call(this,T,K);if(T==="data")this._readableState.flowing!==!1&&this.resume();else if(T==="readable"){var ne=this._readableState;!ne.endEmitted&&!ne.readableListening&&(ne.readableListening=ne.needReadable=!0,ne.emittedReadable=!1,ne.reading?ne.length&&E(this):r.nextTick(v,this))}return W},L.prototype.addListener=L.prototype.on;function v(T){A("readable nexttick read 0"),T.read(0)}L.prototype.resume=function(){var T=this._readableState;return T.flowing||(A("resume"),T.flowing=!0,w(this,T)),this};function w(T,K){K.resumeScheduled||(K.resumeScheduled=!0,r.nextTick(M,T,K))}function M(T,K){K.reading||(A("resume read 0"),T.read(0)),K.resumeScheduled=!1,K.awaitDrain=0,T.emit("resume"),m(T),K.flowing&&!K.reading&&T.read(0)}L.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function m(T){var K=T._readableState;for(A("flow",K.flowing);K.flowing&&T.read()!==null;);}L.prototype.wrap=function(T){var K=this,W=this._readableState,ne=!1;T.on("end",function(){if(A("wrapped end"),W.decoder&&!W.ended){var H=W.decoder.end();H&&H.length&&K.push(H)}K.push(null)}),T.on("data",function(H){if(A("wrapped data"),W.decoder&&(H=W.decoder.write(H)),!(W.objectMode&&H==null)&&!(!W.objectMode&&(!H||!H.length))){var fe=K.push(H);fe||(ne=!0,T.pause())}});for(var ie in T)this[ie]===void 0&&typeof T[ie]=="function"&&(this[ie]=function(H){return function(){return T[H].apply(T,arguments)}}(ie));for(var G=0;G<C.length;G++)T.on(C[G],this.emit.bind(this,C[G]));return this._read=function(H){A("wrapped _read",H),ne&&(ne=!1,T.resume())},this},Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),L._fromList=n;function n(T,K){if(K.length===0)return null;var W;return K.objectMode?W=K.buffer.shift():!T||T>=K.length?(K.decoder?W=K.buffer.join(""):K.buffer.length===1?W=K.buffer.head.data:W=K.buffer.concat(K.length),K.buffer.clear()):W=b(T,K.buffer,K.decoder),W}function b(T,K,W){var ne;return T<K.head.data.length?(ne=K.head.data.slice(0,T),K.head.data=K.head.data.slice(T)):T===K.head.data.length?ne=K.shift():ne=W?P(T,K):I(T,K),ne}function P(T,K){var W=K.head,ne=1,ie=W.data;for(T-=ie.length;W=W.next;){var G=W.data,H=T>G.length?G.length:T;if(H===G.length?ie+=G:ie+=G.slice(0,T),T-=H,T===0){H===G.length?(++ne,W.next?K.head=W.next:K.head=K.tail=null):(K.head=W,W.data=G.slice(H));break}++ne}return K.length-=ne,ie}function I(T,K){var W=s.allocUnsafe(T),ne=K.head,ie=1;for(ne.data.copy(W),T-=ne.data.length;ne=ne.next;){var G=ne.data,H=T>G.length?G.length:T;if(G.copy(W,W.length-T,0,H),T-=H,T===0){H===G.length?(++ie,ne.next?K.head=ne.next:K.head=K.tail=null):(K.head=ne,ne.data=G.slice(H));break}++ie}return K.length-=ie,W}function F(T){var K=T._readableState;if(K.length>0)throw new Error('"endReadable()" called on non-empty stream');K.endEmitted||(K.ended=!0,r.nextTick(Y,K,T))}function Y(T,K){!T.endEmitted&&T.length===0&&(T.endEmitted=!0,K.readable=!1,K.emit("end"))}function X(T,K){for(var W=0,ne=T.length;W<ne;W++)if(T[W]===K)return W;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=u;var r=require_stream_duplex(),e=Object.create(requireUtil());e.inherits=requireInherits_browser(),e.inherits(u,r);function a(g,x){var _=this._transformState;_.transforming=!1;var S=_.writecb;if(!S)return this.emit("error",new Error("write callback called multiple times"));_.writechunk=null,_.writecb=null,x!=null&&this.push(x),S(g);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function u(g){if(!(this instanceof u))return new u(g);r.call(this,g),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",d)}function d(){var g=this;typeof this._flush=="function"?this._flush(function(x,_){s(g,x,_)}):s(this,null,null)}u.prototype.push=function(g,x){return this._transformState.needTransform=!1,r.prototype.push.call(this,g,x)},u.prototype._transform=function(g,x,_){throw new Error("_transform() is not implemented")},u.prototype._write=function(g,x,_){var S=this._transformState;if(S.writecb=_,S.writechunk=g,S.writeencoding=x,!S.transforming){var y=this._readableState;(S.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},u.prototype._read=function(g){var x=this._transformState;x.writechunk!==null&&x.writecb&&!x.transforming?(x.transforming=!0,this._transform(x.writechunk,x.writeencoding,x.afterTransform)):x.needTransform=!0},u.prototype._destroy=function(g,x){var _=this;r.prototype._destroy.call(this,g,function(S){x(S),_.emit("close")})};function s(g,x,_){if(x)return g.emit("error",x);if(_!=null&&g.push(_),g._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(g._transformState.transforming)throw new Error("Calling transform done when still transforming");return g.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=a;var r=require_stream_transform(),e=Object.create(requireUtil());e.inherits=requireInherits_browser(),e.inherits(a,r);function a(u){if(!(this instanceof a))return new a(u);r.call(this,u)}return a.prototype._transform=function(u,d,s){s(null,u)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(r,e){e=r.exports=require_stream_readable(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable(),e.Duplex=require_stream_duplex(),e.Transform=require_stream_transform(),e.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},bn$4={exports:{}};bn$4.exports;var hasRequiredBn$4;function requireBn$4(){return hasRequiredBn$4||(hasRequiredBn$4=1,function(r){(function(e,a){function u(o,c){if(!o)throw new Error(c||"Assertion failed")}function d(o,c){o.super_=c;var l=function(){};l.prototype=c.prototype,o.prototype=new l,o.prototype.constructor=o}function s(o,c,l){if(s.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((c==="le"||c==="be")&&(l=c,c=10),this._init(o||0,c||10,l||"be"))}typeof e=="object"?e.exports=s:a.BN=s,s.BN=s,s.wordSize=26;var g;try{typeof window<"u"&&typeof window.Buffer<"u"?g=window.Buffer:g=require$$0$1.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,l){return c.cmp(l)>0?c:l},s.min=function(c,l){return c.cmp(l)<0?c:l},s.prototype._init=function(c,l,v){if(typeof c=="number")return this._initNumber(c,l,v);if(typeof c=="object")return this._initArray(c,l,v);l==="hex"&&(l=16),u(l===(l|0)&&l>=2&&l<=36),c=c.toString().replace(/\s+/g,"");var w=0;c[0]==="-"&&(w++,this.negative=1),w<c.length&&(l===16?this._parseHex(c,w,v):(this._parseBase(c,l,w),v==="le"&&this._initArray(this.toArray(),l,v)))},s.prototype._initNumber=function(c,l,v){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(u(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),l,v)},s.prototype._initArray=function(c,l,v){if(u(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var M,m,n=0;if(v==="be")for(w=c.length-1,M=0;w>=0;w-=3)m=c[w]|c[w-1]<<8|c[w-2]<<16,this.words[M]|=m<<n&67108863,this.words[M+1]=m>>>26-n&67108863,n+=24,n>=26&&(n-=26,M++);else if(v==="le")for(w=0,M=0;w<c.length;w+=3)m=c[w]|c[w+1]<<8|c[w+2]<<16,this.words[M]|=m<<n&67108863,this.words[M+1]=m>>>26-n&67108863,n+=24,n>=26&&(n-=26,M++);return this._strip()};function x(o,c){var l=o.charCodeAt(c);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;u(!1,"Invalid character in "+o)}function _(o,c,l){var v=x(o,l);return l-1>=c&&(v|=x(o,l-1)<<4),v}s.prototype._parseHex=function(c,l,v){this.length=Math.ceil((c.length-l)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var M=0,m=0,n;if(v==="be")for(w=c.length-1;w>=l;w-=2)n=_(c,l,w)<<M,this.words[m]|=n&67108863,M>=18?(M-=18,m+=1,this.words[m]|=n>>>26):M+=8;else{var b=c.length-l;for(w=b%2===0?l+1:l;w<c.length;w+=2)n=_(c,l,w)<<M,this.words[m]|=n&67108863,M>=18?(M-=18,m+=1,this.words[m]|=n>>>26):M+=8}this._strip()};function S(o,c,l,v){for(var w=0,M=0,m=Math.min(o.length,l),n=c;n<m;n++){var b=o.charCodeAt(n)-48;w*=v,b>=49?M=b-49+10:b>=17?M=b-17+10:M=b,u(b>=0&&M<v,"Invalid character"),w+=M}return w}s.prototype._parseBase=function(c,l,v){this.words=[0],this.length=1;for(var w=0,M=1;M<=67108863;M*=l)w++;w--,M=M/l|0;for(var m=c.length-v,n=m%w,b=Math.min(m,m-n)+v,P=0,I=v;I<b;I+=w)P=S(c,I,I+w,l),this.imuln(M),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(n!==0){var F=1;for(P=S(c,I,c.length,l),I=0;I<n;I++)F*=l;this.imuln(F),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}this._strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var l=0;l<this.length;l++)c.words[l]=this.words[l];c.length=this.length,c.negative=this.negative,c.red=this.red};function y(o,c){o.words=c.words,o.length=c.length,o.negative=c.negative,o.red=c.red}if(s.prototype._move=function(c){y(c,this)},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{s.prototype.inspect=A}else s.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var R=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],B=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],q=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,l){c=c||10,l=l|0||1;var v;if(c===16||c==="hex"){v="";for(var w=0,M=0,m=0;m<this.length;m++){var n=this.words[m],b=((n<<w|M)&16777215).toString(16);M=n>>>24-w&16777215,w+=2,w>=26&&(w-=26,m--),M!==0||m!==this.length-1?v=R[6-b.length]+b+v:v=b+v}for(M!==0&&(v=M.toString(16)+v);v.length%l!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(c===(c|0)&&c>=2&&c<=36){var P=B[c],I=q[c];v="";var F=this.clone();for(F.negative=0;!F.isZero();){var Y=F.modrn(I).toString(c);F=F.idivn(I),F.isZero()?v=Y+v:v=R[P-Y.length]+Y+v}for(this.isZero()&&(v="0"+v);v.length%l!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}u(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16,2)},g&&(s.prototype.toBuffer=function(c,l){return this.toArrayLike(g,c,l)}),s.prototype.toArray=function(c,l){return this.toArrayLike(Array,c,l)};var C=function(c,l){return c.allocUnsafe?c.allocUnsafe(l):new c(l)};s.prototype.toArrayLike=function(c,l,v){this._strip();var w=this.byteLength(),M=v||Math.max(1,w);u(w<=M,"byte array longer than desired length"),u(M>0,"Requested array length <= 0");var m=C(c,M),n=l==="le"?"LE":"BE";return this["_toArrayLike"+n](m,w),m},s.prototype._toArrayLikeLE=function(c,l){for(var v=0,w=0,M=0,m=0;M<this.length;M++){var n=this.words[M]<<m|w;c[v++]=n&255,v<c.length&&(c[v++]=n>>8&255),v<c.length&&(c[v++]=n>>16&255),m===6?(v<c.length&&(c[v++]=n>>24&255),w=0,m=0):(w=n>>>24,m+=2)}if(v<c.length)for(c[v++]=w;v<c.length;)c[v++]=0},s.prototype._toArrayLikeBE=function(c,l){for(var v=c.length-1,w=0,M=0,m=0;M<this.length;M++){var n=this.words[M]<<m|w;c[v--]=n&255,v>=0&&(c[v--]=n>>8&255),v>=0&&(c[v--]=n>>16&255),m===6?(v>=0&&(c[v--]=n>>24&255),w=0,m=0):(w=n>>>24,m+=2)}if(v>=0)for(c[v--]=w;v>=0;)c[v--]=0},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var l=c,v=0;return l>=4096&&(v+=13,l>>>=13),l>=64&&(v+=7,l>>>=7),l>=8&&(v+=4,l>>>=4),l>=2&&(v+=2,l>>>=2),v+l},s.prototype._zeroBits=function(c){if(c===0)return 26;var l=c,v=0;return l&8191||(v+=13,l>>>=13),l&127||(v+=7,l>>>=7),l&15||(v+=4,l>>>=4),l&3||(v+=2,l>>>=2),l&1||v++,v},s.prototype.bitLength=function(){var c=this.words[this.length-1],l=this._countBits(c);return(this.length-1)*26+l};function N(o){for(var c=new Array(o.bitLength()),l=0;l<c.length;l++){var v=l/26|0,w=l%26;c[l]=o.words[v]>>>w&1}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,l=0;l<this.length;l++){var v=this._zeroBits(this.words[l]);if(c+=v,v!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var l=0;l<c.length;l++)this.words[l]=this.words[l]|c.words[l];return this._strip()},s.prototype.ior=function(c){return u((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var l;this.length>c.length?l=c:l=this;for(var v=0;v<l.length;v++)this.words[v]=this.words[v]&c.words[v];return this.length=l.length,this._strip()},s.prototype.iand=function(c){return u((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var l,v;this.length>c.length?(l=this,v=c):(l=c,v=this);for(var w=0;w<v.length;w++)this.words[w]=l.words[w]^v.words[w];if(this!==l)for(;w<l.length;w++)this.words[w]=l.words[w];return this.length=l.length,this._strip()},s.prototype.ixor=function(c){return u((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){u(typeof c=="number"&&c>=0);var l=Math.ceil(c/26)|0,v=c%26;this._expand(l),v>0&&l--;for(var w=0;w<l;w++)this.words[w]=~this.words[w]&67108863;return v>0&&(this.words[w]=~this.words[w]&67108863>>26-v),this._strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,l){u(typeof c=="number"&&c>=0);var v=c/26|0,w=c%26;return this._expand(v+1),l?this.words[v]=this.words[v]|1<<w:this.words[v]=this.words[v]&~(1<<w),this._strip()},s.prototype.iadd=function(c){var l;if(this.negative!==0&&c.negative===0)return this.negative=0,l=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,l=this.isub(c),c.negative=1,l._normSign();var v,w;this.length>c.length?(v=this,w=c):(v=c,w=this);for(var M=0,m=0;m<w.length;m++)l=(v.words[m]|0)+(w.words[m]|0)+M,this.words[m]=l&67108863,M=l>>>26;for(;M!==0&&m<v.length;m++)l=(v.words[m]|0)+M,this.words[m]=l&67108863,M=l>>>26;if(this.length=v.length,M!==0)this.words[this.length]=M,this.length++;else if(v!==this)for(;m<v.length;m++)this.words[m]=v.words[m];return this},s.prototype.add=function(c){var l;return c.negative!==0&&this.negative===0?(c.negative=0,l=this.sub(c),c.negative^=1,l):c.negative===0&&this.negative!==0?(this.negative=0,l=c.sub(this),this.negative=1,l):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var l=this.iadd(c);return c.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var v=this.cmp(c);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,M;v>0?(w=this,M=c):(w=c,M=this);for(var m=0,n=0;n<M.length;n++)l=(w.words[n]|0)-(M.words[n]|0)+m,m=l>>26,this.words[n]=l&67108863;for(;m!==0&&n<w.length;n++)l=(w.words[n]|0)+m,m=l>>26,this.words[n]=l&67108863;if(m===0&&n<w.length&&w!==this)for(;n<w.length;n++)this.words[n]=w.words[n];return this.length=Math.max(this.length,n),w!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function k(o,c,l){l.negative=c.negative^o.negative;var v=o.length+c.length|0;l.length=v,v=v-1|0;var w=o.words[0]|0,M=c.words[0]|0,m=w*M,n=m&67108863,b=m/67108864|0;l.words[0]=n;for(var P=1;P<v;P++){for(var I=b>>>26,F=b&67108863,Y=Math.min(P,c.length-1),X=Math.max(0,P-o.length+1);X<=Y;X++){var T=P-X|0;w=o.words[T]|0,M=c.words[X]|0,m=w*M+F,I+=m/67108864|0,F=m&67108863}l.words[P]=F|0,b=I|0}return b!==0?l.words[P]=b|0:l.length--,l._strip()}var L=function(c,l,v){var w=c.words,M=l.words,m=v.words,n=0,b,P,I,F=w[0]|0,Y=F&8191,X=F>>>13,T=w[1]|0,K=T&8191,W=T>>>13,ne=w[2]|0,ie=ne&8191,G=ne>>>13,H=w[3]|0,fe=H&8191,he=H>>>13,ve=w[4]|0,ke=ve&8191,Me=ve>>>13,le=w[5]|0,Ze=le&8191,_e=le>>>13,Se=w[6]|0,tt=Se&8191,Ae=Se>>>13,Pe=w[7]|0,ot=Pe&8191,Oe=Pe>>>13,He=w[8]|0,pt=He&8191,z=He>>>13,O=w[9]|0,D=O&8191,te=O>>>13,ce=M[0]|0,Fe=ce&8191,be=ce>>>13,je=M[1]|0,lt=je&8191,Ue=je>>>13,Ve=M[2]|0,dt=Ve&8191,Je=Ve>>>13,et=M[3]|0,bt=et&8191,Ge=et>>>13,Ye=M[4]|0,yt=Ye&8191,We=Ye>>>13,Xe=M[5]|0,gt=Xe&8191,Ke=Xe>>>13,Qe=M[6]|0,V=Qe&8191,J=Qe>>>13,Z=M[7]|0,$=Z&8191,Q=Z>>>13,me=M[8]|0,Ce=me&8191,we=me>>>13,qe=M[9]|0,at=qe&8191,it=qe>>>13;v.negative=c.negative^l.negative,v.length=19,b=Math.imul(Y,Fe),P=Math.imul(Y,be),P=P+Math.imul(X,Fe)|0,I=Math.imul(X,be);var vt=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(vt>>>26)|0,vt&=67108863,b=Math.imul(K,Fe),P=Math.imul(K,be),P=P+Math.imul(W,Fe)|0,I=Math.imul(W,be),b=b+Math.imul(Y,lt)|0,P=P+Math.imul(Y,Ue)|0,P=P+Math.imul(X,lt)|0,I=I+Math.imul(X,Ue)|0;var ft=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(ft>>>26)|0,ft&=67108863,b=Math.imul(ie,Fe),P=Math.imul(ie,be),P=P+Math.imul(G,Fe)|0,I=Math.imul(G,be),b=b+Math.imul(K,lt)|0,P=P+Math.imul(K,Ue)|0,P=P+Math.imul(W,lt)|0,I=I+Math.imul(W,Ue)|0,b=b+Math.imul(Y,dt)|0,P=P+Math.imul(Y,Je)|0,P=P+Math.imul(X,dt)|0,I=I+Math.imul(X,Je)|0;var ht=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(ht>>>26)|0,ht&=67108863,b=Math.imul(fe,Fe),P=Math.imul(fe,be),P=P+Math.imul(he,Fe)|0,I=Math.imul(he,be),b=b+Math.imul(ie,lt)|0,P=P+Math.imul(ie,Ue)|0,P=P+Math.imul(G,lt)|0,I=I+Math.imul(G,Ue)|0,b=b+Math.imul(K,dt)|0,P=P+Math.imul(K,Je)|0,P=P+Math.imul(W,dt)|0,I=I+Math.imul(W,Je)|0,b=b+Math.imul(Y,bt)|0,P=P+Math.imul(Y,Ge)|0,P=P+Math.imul(X,bt)|0,I=I+Math.imul(X,Ge)|0;var ct=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(ct>>>26)|0,ct&=67108863,b=Math.imul(ke,Fe),P=Math.imul(ke,be),P=P+Math.imul(Me,Fe)|0,I=Math.imul(Me,be),b=b+Math.imul(fe,lt)|0,P=P+Math.imul(fe,Ue)|0,P=P+Math.imul(he,lt)|0,I=I+Math.imul(he,Ue)|0,b=b+Math.imul(ie,dt)|0,P=P+Math.imul(ie,Je)|0,P=P+Math.imul(G,dt)|0,I=I+Math.imul(G,Je)|0,b=b+Math.imul(K,bt)|0,P=P+Math.imul(K,Ge)|0,P=P+Math.imul(W,bt)|0,I=I+Math.imul(W,Ge)|0,b=b+Math.imul(Y,yt)|0,P=P+Math.imul(Y,We)|0,P=P+Math.imul(X,yt)|0,I=I+Math.imul(X,We)|0;var re=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(re>>>26)|0,re&=67108863,b=Math.imul(Ze,Fe),P=Math.imul(Ze,be),P=P+Math.imul(_e,Fe)|0,I=Math.imul(_e,be),b=b+Math.imul(ke,lt)|0,P=P+Math.imul(ke,Ue)|0,P=P+Math.imul(Me,lt)|0,I=I+Math.imul(Me,Ue)|0,b=b+Math.imul(fe,dt)|0,P=P+Math.imul(fe,Je)|0,P=P+Math.imul(he,dt)|0,I=I+Math.imul(he,Je)|0,b=b+Math.imul(ie,bt)|0,P=P+Math.imul(ie,Ge)|0,P=P+Math.imul(G,bt)|0,I=I+Math.imul(G,Ge)|0,b=b+Math.imul(K,yt)|0,P=P+Math.imul(K,We)|0,P=P+Math.imul(W,yt)|0,I=I+Math.imul(W,We)|0,b=b+Math.imul(Y,gt)|0,P=P+Math.imul(Y,Ke)|0,P=P+Math.imul(X,gt)|0,I=I+Math.imul(X,Ke)|0;var ue=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(ue>>>26)|0,ue&=67108863,b=Math.imul(tt,Fe),P=Math.imul(tt,be),P=P+Math.imul(Ae,Fe)|0,I=Math.imul(Ae,be),b=b+Math.imul(Ze,lt)|0,P=P+Math.imul(Ze,Ue)|0,P=P+Math.imul(_e,lt)|0,I=I+Math.imul(_e,Ue)|0,b=b+Math.imul(ke,dt)|0,P=P+Math.imul(ke,Je)|0,P=P+Math.imul(Me,dt)|0,I=I+Math.imul(Me,Je)|0,b=b+Math.imul(fe,bt)|0,P=P+Math.imul(fe,Ge)|0,P=P+Math.imul(he,bt)|0,I=I+Math.imul(he,Ge)|0,b=b+Math.imul(ie,yt)|0,P=P+Math.imul(ie,We)|0,P=P+Math.imul(G,yt)|0,I=I+Math.imul(G,We)|0,b=b+Math.imul(K,gt)|0,P=P+Math.imul(K,Ke)|0,P=P+Math.imul(W,gt)|0,I=I+Math.imul(W,Ke)|0,b=b+Math.imul(Y,V)|0,P=P+Math.imul(Y,J)|0,P=P+Math.imul(X,V)|0,I=I+Math.imul(X,J)|0;var ae=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(ae>>>26)|0,ae&=67108863,b=Math.imul(ot,Fe),P=Math.imul(ot,be),P=P+Math.imul(Oe,Fe)|0,I=Math.imul(Oe,be),b=b+Math.imul(tt,lt)|0,P=P+Math.imul(tt,Ue)|0,P=P+Math.imul(Ae,lt)|0,I=I+Math.imul(Ae,Ue)|0,b=b+Math.imul(Ze,dt)|0,P=P+Math.imul(Ze,Je)|0,P=P+Math.imul(_e,dt)|0,I=I+Math.imul(_e,Je)|0,b=b+Math.imul(ke,bt)|0,P=P+Math.imul(ke,Ge)|0,P=P+Math.imul(Me,bt)|0,I=I+Math.imul(Me,Ge)|0,b=b+Math.imul(fe,yt)|0,P=P+Math.imul(fe,We)|0,P=P+Math.imul(he,yt)|0,I=I+Math.imul(he,We)|0,b=b+Math.imul(ie,gt)|0,P=P+Math.imul(ie,Ke)|0,P=P+Math.imul(G,gt)|0,I=I+Math.imul(G,Ke)|0,b=b+Math.imul(K,V)|0,P=P+Math.imul(K,J)|0,P=P+Math.imul(W,V)|0,I=I+Math.imul(W,J)|0,b=b+Math.imul(Y,$)|0,P=P+Math.imul(Y,Q)|0,P=P+Math.imul(X,$)|0,I=I+Math.imul(X,Q)|0;var pe=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(pe>>>26)|0,pe&=67108863,b=Math.imul(pt,Fe),P=Math.imul(pt,be),P=P+Math.imul(z,Fe)|0,I=Math.imul(z,be),b=b+Math.imul(ot,lt)|0,P=P+Math.imul(ot,Ue)|0,P=P+Math.imul(Oe,lt)|0,I=I+Math.imul(Oe,Ue)|0,b=b+Math.imul(tt,dt)|0,P=P+Math.imul(tt,Je)|0,P=P+Math.imul(Ae,dt)|0,I=I+Math.imul(Ae,Je)|0,b=b+Math.imul(Ze,bt)|0,P=P+Math.imul(Ze,Ge)|0,P=P+Math.imul(_e,bt)|0,I=I+Math.imul(_e,Ge)|0,b=b+Math.imul(ke,yt)|0,P=P+Math.imul(ke,We)|0,P=P+Math.imul(Me,yt)|0,I=I+Math.imul(Me,We)|0,b=b+Math.imul(fe,gt)|0,P=P+Math.imul(fe,Ke)|0,P=P+Math.imul(he,gt)|0,I=I+Math.imul(he,Ke)|0,b=b+Math.imul(ie,V)|0,P=P+Math.imul(ie,J)|0,P=P+Math.imul(G,V)|0,I=I+Math.imul(G,J)|0,b=b+Math.imul(K,$)|0,P=P+Math.imul(K,Q)|0,P=P+Math.imul(W,$)|0,I=I+Math.imul(W,Q)|0,b=b+Math.imul(Y,Ce)|0,P=P+Math.imul(Y,we)|0,P=P+Math.imul(X,Ce)|0,I=I+Math.imul(X,we)|0;var ye=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(ye>>>26)|0,ye&=67108863,b=Math.imul(D,Fe),P=Math.imul(D,be),P=P+Math.imul(te,Fe)|0,I=Math.imul(te,be),b=b+Math.imul(pt,lt)|0,P=P+Math.imul(pt,Ue)|0,P=P+Math.imul(z,lt)|0,I=I+Math.imul(z,Ue)|0,b=b+Math.imul(ot,dt)|0,P=P+Math.imul(ot,Je)|0,P=P+Math.imul(Oe,dt)|0,I=I+Math.imul(Oe,Je)|0,b=b+Math.imul(tt,bt)|0,P=P+Math.imul(tt,Ge)|0,P=P+Math.imul(Ae,bt)|0,I=I+Math.imul(Ae,Ge)|0,b=b+Math.imul(Ze,yt)|0,P=P+Math.imul(Ze,We)|0,P=P+Math.imul(_e,yt)|0,I=I+Math.imul(_e,We)|0,b=b+Math.imul(ke,gt)|0,P=P+Math.imul(ke,Ke)|0,P=P+Math.imul(Me,gt)|0,I=I+Math.imul(Me,Ke)|0,b=b+Math.imul(fe,V)|0,P=P+Math.imul(fe,J)|0,P=P+Math.imul(he,V)|0,I=I+Math.imul(he,J)|0,b=b+Math.imul(ie,$)|0,P=P+Math.imul(ie,Q)|0,P=P+Math.imul(G,$)|0,I=I+Math.imul(G,Q)|0,b=b+Math.imul(K,Ce)|0,P=P+Math.imul(K,we)|0,P=P+Math.imul(W,Ce)|0,I=I+Math.imul(W,we)|0,b=b+Math.imul(Y,at)|0,P=P+Math.imul(Y,it)|0,P=P+Math.imul(X,at)|0,I=I+Math.imul(X,it)|0;var xe=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(xe>>>26)|0,xe&=67108863,b=Math.imul(D,lt),P=Math.imul(D,Ue),P=P+Math.imul(te,lt)|0,I=Math.imul(te,Ue),b=b+Math.imul(pt,dt)|0,P=P+Math.imul(pt,Je)|0,P=P+Math.imul(z,dt)|0,I=I+Math.imul(z,Je)|0,b=b+Math.imul(ot,bt)|0,P=P+Math.imul(ot,Ge)|0,P=P+Math.imul(Oe,bt)|0,I=I+Math.imul(Oe,Ge)|0,b=b+Math.imul(tt,yt)|0,P=P+Math.imul(tt,We)|0,P=P+Math.imul(Ae,yt)|0,I=I+Math.imul(Ae,We)|0,b=b+Math.imul(Ze,gt)|0,P=P+Math.imul(Ze,Ke)|0,P=P+Math.imul(_e,gt)|0,I=I+Math.imul(_e,Ke)|0,b=b+Math.imul(ke,V)|0,P=P+Math.imul(ke,J)|0,P=P+Math.imul(Me,V)|0,I=I+Math.imul(Me,J)|0,b=b+Math.imul(fe,$)|0,P=P+Math.imul(fe,Q)|0,P=P+Math.imul(he,$)|0,I=I+Math.imul(he,Q)|0,b=b+Math.imul(ie,Ce)|0,P=P+Math.imul(ie,we)|0,P=P+Math.imul(G,Ce)|0,I=I+Math.imul(G,we)|0,b=b+Math.imul(K,at)|0,P=P+Math.imul(K,it)|0,P=P+Math.imul(W,at)|0,I=I+Math.imul(W,it)|0;var Ne=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,b=Math.imul(D,dt),P=Math.imul(D,Je),P=P+Math.imul(te,dt)|0,I=Math.imul(te,Je),b=b+Math.imul(pt,bt)|0,P=P+Math.imul(pt,Ge)|0,P=P+Math.imul(z,bt)|0,I=I+Math.imul(z,Ge)|0,b=b+Math.imul(ot,yt)|0,P=P+Math.imul(ot,We)|0,P=P+Math.imul(Oe,yt)|0,I=I+Math.imul(Oe,We)|0,b=b+Math.imul(tt,gt)|0,P=P+Math.imul(tt,Ke)|0,P=P+Math.imul(Ae,gt)|0,I=I+Math.imul(Ae,Ke)|0,b=b+Math.imul(Ze,V)|0,P=P+Math.imul(Ze,J)|0,P=P+Math.imul(_e,V)|0,I=I+Math.imul(_e,J)|0,b=b+Math.imul(ke,$)|0,P=P+Math.imul(ke,Q)|0,P=P+Math.imul(Me,$)|0,I=I+Math.imul(Me,Q)|0,b=b+Math.imul(fe,Ce)|0,P=P+Math.imul(fe,we)|0,P=P+Math.imul(he,Ce)|0,I=I+Math.imul(he,we)|0,b=b+Math.imul(ie,at)|0,P=P+Math.imul(ie,it)|0,P=P+Math.imul(G,at)|0,I=I+Math.imul(G,it)|0;var $e=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+($e>>>26)|0,$e&=67108863,b=Math.imul(D,bt),P=Math.imul(D,Ge),P=P+Math.imul(te,bt)|0,I=Math.imul(te,Ge),b=b+Math.imul(pt,yt)|0,P=P+Math.imul(pt,We)|0,P=P+Math.imul(z,yt)|0,I=I+Math.imul(z,We)|0,b=b+Math.imul(ot,gt)|0,P=P+Math.imul(ot,Ke)|0,P=P+Math.imul(Oe,gt)|0,I=I+Math.imul(Oe,Ke)|0,b=b+Math.imul(tt,V)|0,P=P+Math.imul(tt,J)|0,P=P+Math.imul(Ae,V)|0,I=I+Math.imul(Ae,J)|0,b=b+Math.imul(Ze,$)|0,P=P+Math.imul(Ze,Q)|0,P=P+Math.imul(_e,$)|0,I=I+Math.imul(_e,Q)|0,b=b+Math.imul(ke,Ce)|0,P=P+Math.imul(ke,we)|0,P=P+Math.imul(Me,Ce)|0,I=I+Math.imul(Me,we)|0,b=b+Math.imul(fe,at)|0,P=P+Math.imul(fe,it)|0,P=P+Math.imul(he,at)|0,I=I+Math.imul(he,it)|0;var Re=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(Re>>>26)|0,Re&=67108863,b=Math.imul(D,yt),P=Math.imul(D,We),P=P+Math.imul(te,yt)|0,I=Math.imul(te,We),b=b+Math.imul(pt,gt)|0,P=P+Math.imul(pt,Ke)|0,P=P+Math.imul(z,gt)|0,I=I+Math.imul(z,Ke)|0,b=b+Math.imul(ot,V)|0,P=P+Math.imul(ot,J)|0,P=P+Math.imul(Oe,V)|0,I=I+Math.imul(Oe,J)|0,b=b+Math.imul(tt,$)|0,P=P+Math.imul(tt,Q)|0,P=P+Math.imul(Ae,$)|0,I=I+Math.imul(Ae,Q)|0,b=b+Math.imul(Ze,Ce)|0,P=P+Math.imul(Ze,we)|0,P=P+Math.imul(_e,Ce)|0,I=I+Math.imul(_e,we)|0,b=b+Math.imul(ke,at)|0,P=P+Math.imul(ke,it)|0,P=P+Math.imul(Me,at)|0,I=I+Math.imul(Me,it)|0;var Ie=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,b=Math.imul(D,gt),P=Math.imul(D,Ke),P=P+Math.imul(te,gt)|0,I=Math.imul(te,Ke),b=b+Math.imul(pt,V)|0,P=P+Math.imul(pt,J)|0,P=P+Math.imul(z,V)|0,I=I+Math.imul(z,J)|0,b=b+Math.imul(ot,$)|0,P=P+Math.imul(ot,Q)|0,P=P+Math.imul(Oe,$)|0,I=I+Math.imul(Oe,Q)|0,b=b+Math.imul(tt,Ce)|0,P=P+Math.imul(tt,we)|0,P=P+Math.imul(Ae,Ce)|0,I=I+Math.imul(Ae,we)|0,b=b+Math.imul(Ze,at)|0,P=P+Math.imul(Ze,it)|0,P=P+Math.imul(_e,at)|0,I=I+Math.imul(_e,it)|0;var ze=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(ze>>>26)|0,ze&=67108863,b=Math.imul(D,V),P=Math.imul(D,J),P=P+Math.imul(te,V)|0,I=Math.imul(te,J),b=b+Math.imul(pt,$)|0,P=P+Math.imul(pt,Q)|0,P=P+Math.imul(z,$)|0,I=I+Math.imul(z,Q)|0,b=b+Math.imul(ot,Ce)|0,P=P+Math.imul(ot,we)|0,P=P+Math.imul(Oe,Ce)|0,I=I+Math.imul(Oe,we)|0,b=b+Math.imul(tt,at)|0,P=P+Math.imul(tt,it)|0,P=P+Math.imul(Ae,at)|0,I=I+Math.imul(Ae,it)|0;var Te=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(Te>>>26)|0,Te&=67108863,b=Math.imul(D,$),P=Math.imul(D,Q),P=P+Math.imul(te,$)|0,I=Math.imul(te,Q),b=b+Math.imul(pt,Ce)|0,P=P+Math.imul(pt,we)|0,P=P+Math.imul(z,Ce)|0,I=I+Math.imul(z,we)|0,b=b+Math.imul(ot,at)|0,P=P+Math.imul(ot,it)|0,P=P+Math.imul(Oe,at)|0,I=I+Math.imul(Oe,it)|0;var De=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(De>>>26)|0,De&=67108863,b=Math.imul(D,Ce),P=Math.imul(D,we),P=P+Math.imul(te,Ce)|0,I=Math.imul(te,we),b=b+Math.imul(pt,at)|0,P=P+Math.imul(pt,it)|0,P=P+Math.imul(z,at)|0,I=I+Math.imul(z,it)|0;var nt=(n+b|0)+((P&8191)<<13)|0;n=(I+(P>>>13)|0)+(nt>>>26)|0,nt&=67108863,b=Math.imul(D,at),P=Math.imul(D,it),P=P+Math.imul(te,at)|0,I=Math.imul(te,it);var rt=(n+b|0)+((P&8191)<<13)|0;return n=(I+(P>>>13)|0)+(rt>>>26)|0,rt&=67108863,m[0]=vt,m[1]=ft,m[2]=ht,m[3]=ct,m[4]=re,m[5]=ue,m[6]=ae,m[7]=pe,m[8]=ye,m[9]=xe,m[10]=Ne,m[11]=$e,m[12]=Re,m[13]=Ie,m[14]=ze,m[15]=Te,m[16]=De,m[17]=nt,m[18]=rt,n!==0&&(m[19]=n,v.length++),v};Math.imul||(L=k);function U(o,c,l){l.negative=c.negative^o.negative,l.length=o.length+c.length;for(var v=0,w=0,M=0;M<l.length-1;M++){var m=w;w=0;for(var n=v&67108863,b=Math.min(M,c.length-1),P=Math.max(0,M-o.length+1);P<=b;P++){var I=M-P,F=o.words[I]|0,Y=c.words[P]|0,X=F*Y,T=X&67108863;m=m+(X/67108864|0)|0,T=T+n|0,n=T&67108863,m=m+(T>>>26)|0,w+=m>>>26,m&=67108863}l.words[M]=n,v=m,m=w}return v!==0?l.words[M]=v:l.length--,l._strip()}function j(o,c,l){return U(o,c,l)}s.prototype.mulTo=function(c,l){var v,w=this.length+c.length;return this.length===10&&c.length===10?v=L(this,c,l):w<63?v=k(this,c,l):w<1024?v=U(this,c,l):v=j(this,c,l),v},s.prototype.mul=function(c){var l=new s(null);return l.words=new Array(this.length+c.length),this.mulTo(c,l)},s.prototype.mulf=function(c){var l=new s(null);return l.words=new Array(this.length+c.length),j(this,c,l)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){var l=c<0;l&&(c=-c),u(typeof c=="number"),u(c<67108864);for(var v=0,w=0;w<this.length;w++){var M=(this.words[w]|0)*c,m=(M&67108863)+(v&67108863);v>>=26,v+=M/67108864|0,v+=m>>>26,this.words[w]=m&67108863}return v!==0&&(this.words[w]=v,this.length++),l?this.ineg():this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var l=N(c);if(l.length===0)return new s(1);for(var v=this,w=0;w<l.length&&l[w]===0;w++,v=v.sqr());if(++w<l.length)for(var M=v.sqr();w<l.length;w++,M=M.sqr())l[w]!==0&&(v=v.mul(M));return v},s.prototype.iushln=function(c){u(typeof c=="number"&&c>=0);var l=c%26,v=(c-l)/26,w=67108863>>>26-l<<26-l,M;if(l!==0){var m=0;for(M=0;M<this.length;M++){var n=this.words[M]&w,b=(this.words[M]|0)-n<<l;this.words[M]=b|m,m=n>>>26-l}m&&(this.words[M]=m,this.length++)}if(v!==0){for(M=this.length-1;M>=0;M--)this.words[M+v]=this.words[M];for(M=0;M<v;M++)this.words[M]=0;this.length+=v}return this._strip()},s.prototype.ishln=function(c){return u(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,l,v){u(typeof c=="number"&&c>=0);var w;l?w=(l-l%26)/26:w=0;var M=c%26,m=Math.min((c-M)/26,this.length),n=67108863^67108863>>>M<<M,b=v;if(w-=m,w=Math.max(0,w),b){for(var P=0;P<m;P++)b.words[P]=this.words[P];b.length=m}if(m!==0)if(this.length>m)for(this.length-=m,P=0;P<this.length;P++)this.words[P]=this.words[P+m];else this.words[0]=0,this.length=1;var I=0;for(P=this.length-1;P>=0&&(I!==0||P>=w);P--){var F=this.words[P]|0;this.words[P]=I<<26-M|F>>>M,I=F&n}return b&&I!==0&&(b.words[b.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(c,l,v){return u(this.negative===0),this.iushrn(c,l,v)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){u(typeof c=="number"&&c>=0);var l=c%26,v=(c-l)/26,w=1<<l;if(this.length<=v)return!1;var M=this.words[v];return!!(M&w)},s.prototype.imaskn=function(c){u(typeof c=="number"&&c>=0);var l=c%26,v=(c-l)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(l!==0&&v++,this.length=Math.min(v,this.length),l!==0){var w=67108863^67108863>>>l<<l;this.words[this.length-1]&=w}return this._strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return u(typeof c=="number"),u(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},s.prototype.isubn=function(c){if(u(typeof c=="number"),u(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,l,v){var w=c.length+v,M;this._expand(w);var m,n=0;for(M=0;M<c.length;M++){m=(this.words[M+v]|0)+n;var b=(c.words[M]|0)*l;m-=b&67108863,n=(m>>26)-(b/67108864|0),this.words[M+v]=m&67108863}for(;M<this.length-v;M++)m=(this.words[M+v]|0)+n,n=m>>26,this.words[M+v]=m&67108863;if(n===0)return this._strip();for(u(n===-1),n=0,M=0;M<this.length;M++)m=-(this.words[M]|0)+n,n=m>>26,this.words[M]=m&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(c,l){var v=this.length-c.length,w=this.clone(),M=c,m=M.words[M.length-1]|0,n=this._countBits(m);v=26-n,v!==0&&(M=M.ushln(v),w.iushln(v),m=M.words[M.length-1]|0);var b=w.length-M.length,P;if(l!=="mod"){P=new s(null),P.length=b+1,P.words=new Array(P.length);for(var I=0;I<P.length;I++)P.words[I]=0}var F=w.clone()._ishlnsubmul(M,1,b);F.negative===0&&(w=F,P&&(P.words[b]=1));for(var Y=b-1;Y>=0;Y--){var X=(w.words[M.length+Y]|0)*67108864+(w.words[M.length+Y-1]|0);for(X=Math.min(X/m|0,67108863),w._ishlnsubmul(M,X,Y);w.negative!==0;)X--,w.negative=0,w._ishlnsubmul(M,1,Y),w.isZero()||(w.negative^=1);P&&(P.words[Y]=X)}return P&&P._strip(),w._strip(),l!=="div"&&v!==0&&w.iushrn(v),{div:P||null,mod:w}},s.prototype.divmod=function(c,l,v){if(u(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var w,M,m;return this.negative!==0&&c.negative===0?(m=this.neg().divmod(c,l),l!=="mod"&&(w=m.div.neg()),l!=="div"&&(M=m.mod.neg(),v&&M.negative!==0&&M.iadd(c)),{div:w,mod:M}):this.negative===0&&c.negative!==0?(m=this.divmod(c.neg(),l),l!=="mod"&&(w=m.div.neg()),{div:w,mod:m.mod}):this.negative&c.negative?(m=this.neg().divmod(c.neg(),l),l!=="div"&&(M=m.mod.neg(),v&&M.negative!==0&&M.isub(c)),{div:m.div,mod:M}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?l==="div"?{div:this.divn(c.words[0]),mod:null}:l==="mod"?{div:null,mod:new s(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modrn(c.words[0]))}:this._wordDiv(c,l)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var l=this.divmod(c);if(l.mod.isZero())return l.div;var v=l.div.negative!==0?l.mod.isub(c):l.mod,w=c.ushrn(1),M=c.andln(1),m=v.cmp(w);return m<0||M===1&&m===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},s.prototype.modrn=function(c){var l=c<0;l&&(c=-c),u(c<=67108863);for(var v=(1<<26)%c,w=0,M=this.length-1;M>=0;M--)w=(v*w+(this.words[M]|0))%c;return l?-w:w},s.prototype.modn=function(c){return this.modrn(c)},s.prototype.idivn=function(c){var l=c<0;l&&(c=-c),u(c<=67108863);for(var v=0,w=this.length-1;w>=0;w--){var M=(this.words[w]|0)+v*67108864;this.words[w]=M/c|0,v=M%c}return this._strip(),l?this.ineg():this},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){u(c.negative===0),u(!c.isZero());var l=this,v=c.clone();l.negative!==0?l=l.umod(c):l=l.clone();for(var w=new s(1),M=new s(0),m=new s(0),n=new s(1),b=0;l.isEven()&&v.isEven();)l.iushrn(1),v.iushrn(1),++b;for(var P=v.clone(),I=l.clone();!l.isZero();){for(var F=0,Y=1;!(l.words[0]&Y)&&F<26;++F,Y<<=1);if(F>0)for(l.iushrn(F);F-- >0;)(w.isOdd()||M.isOdd())&&(w.iadd(P),M.isub(I)),w.iushrn(1),M.iushrn(1);for(var X=0,T=1;!(v.words[0]&T)&&X<26;++X,T<<=1);if(X>0)for(v.iushrn(X);X-- >0;)(m.isOdd()||n.isOdd())&&(m.iadd(P),n.isub(I)),m.iushrn(1),n.iushrn(1);l.cmp(v)>=0?(l.isub(v),w.isub(m),M.isub(n)):(v.isub(l),m.isub(w),n.isub(M))}return{a:m,b:n,gcd:v.iushln(b)}},s.prototype._invmp=function(c){u(c.negative===0),u(!c.isZero());var l=this,v=c.clone();l.negative!==0?l=l.umod(c):l=l.clone();for(var w=new s(1),M=new s(0),m=v.clone();l.cmpn(1)>0&&v.cmpn(1)>0;){for(var n=0,b=1;!(l.words[0]&b)&&n<26;++n,b<<=1);if(n>0)for(l.iushrn(n);n-- >0;)w.isOdd()&&w.iadd(m),w.iushrn(1);for(var P=0,I=1;!(v.words[0]&I)&&P<26;++P,I<<=1);if(P>0)for(v.iushrn(P);P-- >0;)M.isOdd()&&M.iadd(m),M.iushrn(1);l.cmp(v)>=0?(l.isub(v),w.isub(M)):(v.isub(l),M.isub(w))}var F;return l.cmpn(1)===0?F=w:F=M,F.cmpn(0)<0&&F.iadd(c),F},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var l=this.clone(),v=c.clone();l.negative=0,v.negative=0;for(var w=0;l.isEven()&&v.isEven();w++)l.iushrn(1),v.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;v.isEven();)v.iushrn(1);var M=l.cmp(v);if(M<0){var m=l;l=v,v=m}else if(M===0||v.cmpn(1)===0)break;l.isub(v)}while(!0);return v.iushln(w)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){u(typeof c=="number");var l=c%26,v=(c-l)/26,w=1<<l;if(this.length<=v)return this._expand(v+1),this.words[v]|=w,this;for(var M=w,m=v;M!==0&&m<this.length;m++){var n=this.words[m]|0;n+=M,M=n>>>26,n&=67108863,this.words[m]=n}return M!==0&&(this.words[m]=M,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var l=c<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var v;if(this.length>1)v=1;else{l&&(c=-c),u(c<=67108863,"Number is too big");var w=this.words[0]|0;v=w===c?0:w<c?-1:1}return this.negative!==0?-v|0:v},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var l=this.ucmp(c);return this.negative!==0?-l|0:l},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var l=0,v=this.length-1;v>=0;v--){var w=this.words[v]|0,M=c.words[v]|0;if(w!==M){w<M?l=-1:w>M&&(l=1);break}}return l},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new E(c)},s.prototype.toRed=function(c){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return u(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return u(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var ee={k256:null,p224:null,p192:null,p25519:null};function se(o,c){this.name=o,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}se.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},se.prototype.ireduce=function(c){var l=c,v;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),v=l.bitLength();while(v>this.n);var w=v<this.n?-1:l.ucmp(this.p);return w===0?(l.words[0]=0,l.length=1):w>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},se.prototype.split=function(c,l){c.iushrn(this.n,0,l)},se.prototype.imulK=function(c){return c.imul(this.k)};function Ee(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}d(Ee,se),Ee.prototype.split=function(c,l){for(var v=4194303,w=Math.min(c.length,9),M=0;M<w;M++)l.words[M]=c.words[M];if(l.length=w,c.length<=9){c.words[0]=0,c.length=1;return}var m=c.words[9];for(l.words[l.length++]=m&v,M=10;M<c.length;M++){var n=c.words[M]|0;c.words[M-10]=(n&v)<<4|m>>>22,m=n}m>>>=22,c.words[M-10]=m,m===0&&c.length>10?c.length-=10:c.length-=9},Ee.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var l=0,v=0;v<c.length;v++){var w=c.words[v]|0;l+=w*977,c.words[v]=l&67108863,l=w*64+(l/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ge(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}d(ge,se);function oe(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}d(oe,se);function Le(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}d(Le,se),Le.prototype.imulK=function(c){for(var l=0,v=0;v<c.length;v++){var w=(c.words[v]|0)*19+l,M=w&67108863;w>>>=26,c.words[v]=M,l=w}return l!==0&&(c.words[c.length++]=l),c},s._prime=function(c){if(ee[c])return ee[c];var l;if(c==="k256")l=new Ee;else if(c==="p224")l=new ge;else if(c==="p192")l=new oe;else if(c==="p25519")l=new Le;else throw new Error("Unknown prime "+c);return ee[c]=l,l};function E(o){if(typeof o=="string"){var c=s._prime(o);this.m=c.p,this.prime=c}else u(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}E.prototype._verify1=function(c){u(c.negative===0,"red works only with positives"),u(c.red,"red works only with red numbers")},E.prototype._verify2=function(c,l){u((c.negative|l.negative)===0,"red works only with positives"),u(c.red&&c.red===l.red,"red works only with red numbers")},E.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(y(c,c.umod(this.m)._forceRed(this)),c)},E.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},E.prototype.add=function(c,l){this._verify2(c,l);var v=c.add(l);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},E.prototype.iadd=function(c,l){this._verify2(c,l);var v=c.iadd(l);return v.cmp(this.m)>=0&&v.isub(this.m),v},E.prototype.sub=function(c,l){this._verify2(c,l);var v=c.sub(l);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},E.prototype.isub=function(c,l){this._verify2(c,l);var v=c.isub(l);return v.cmpn(0)<0&&v.iadd(this.m),v},E.prototype.shl=function(c,l){return this._verify1(c),this.imod(c.ushln(l))},E.prototype.imul=function(c,l){return this._verify2(c,l),this.imod(c.imul(l))},E.prototype.mul=function(c,l){return this._verify2(c,l),this.imod(c.mul(l))},E.prototype.isqr=function(c){return this.imul(c,c.clone())},E.prototype.sqr=function(c){return this.mul(c,c)},E.prototype.sqrt=function(c){if(c.isZero())return c.clone();var l=this.m.andln(3);if(u(l%2===1),l===3){var v=this.m.add(new s(1)).iushrn(2);return this.pow(c,v)}for(var w=this.m.subn(1),M=0;!w.isZero()&&w.andln(1)===0;)M++,w.iushrn(1);u(!w.isZero());var m=new s(1).toRed(this),n=m.redNeg(),b=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new s(2*P*P).toRed(this);this.pow(P,b).cmp(n)!==0;)P.redIAdd(n);for(var I=this.pow(P,w),F=this.pow(c,w.addn(1).iushrn(1)),Y=this.pow(c,w),X=M;Y.cmp(m)!==0;){for(var T=Y,K=0;T.cmp(m)!==0;K++)T=T.redSqr();u(K<X);var W=this.pow(I,new s(1).iushln(X-K-1));F=F.redMul(W),I=W.redSqr(),Y=Y.redMul(I),X=K}return F},E.prototype.invm=function(c){var l=c._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},E.prototype.pow=function(c,l){if(l.isZero())return new s(1).toRed(this);if(l.cmpn(1)===0)return c.clone();var v=4,w=new Array(1<<v);w[0]=new s(1).toRed(this),w[1]=c;for(var M=2;M<w.length;M++)w[M]=this.mul(w[M-1],c);var m=w[0],n=0,b=0,P=l.bitLength()%26;for(P===0&&(P=26),M=l.length-1;M>=0;M--){for(var I=l.words[M],F=P-1;F>=0;F--){var Y=I>>F&1;if(m!==w[0]&&(m=this.sqr(m)),Y===0&&n===0){b=0;continue}n<<=1,n|=Y,b++,!(b!==v&&(M!==0||F!==0))&&(m=this.mul(m,w[n]),b=0,n=0)}P=26}return m},E.prototype.convertTo=function(c){var l=c.umod(this.m);return l===c?l.clone():l},E.prototype.convertFrom=function(c){var l=c.clone();return l.red=null,l},s.mont=function(c){return new t(c)};function t(o){E.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}d(t,E),t.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},t.prototype.convertFrom=function(c){var l=this.imod(c.mul(this.rinv));return l.red=null,l},t.prototype.imul=function(c,l){if(c.isZero()||l.isZero())return c.words[0]=0,c.length=1,c;var v=c.imul(l),w=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=v.isub(w).iushrn(this.shift),m=M;return M.cmp(this.m)>=0?m=M.isub(this.m):M.cmpn(0)<0&&(m=M.iadd(this.m)),m._forceRed(this)},t.prototype.mul=function(c,l){if(c.isZero()||l.isZero())return new s(0)._forceRed(this);var v=c.mul(l),w=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=v.isub(w).iushrn(this.shift),m=M;return M.cmp(this.m)>=0?m=M.isub(this.m):M.cmpn(0)<0&&(m=M.iadd(this.m)),m._forceRed(this)},t.prototype.invm=function(c){var l=this.imod(c._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(r,commonjsGlobal)}(bn$4)),bn$4.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var r=requireBn$4(),e=requireBrowser$b();function a(s){var g=u(s),x=g.toRed(r.mont(s.modulus)).redPow(new r(s.publicExponent)).fromRed();return{blinder:x,unblinder:g.invm(s.modulus)}}function u(s){var g=s.modulus.byteLength(),x;do x=new r(e(g));while(x.cmp(s.modulus)>=0||!x.umod(s.prime1)||!x.umod(s.prime2));return x}function d(s,g){var x=a(g),_=g.modulus.byteLength(),S=new r(s).mul(x.blinder).umod(g.modulus),y=S.toRed(r.mont(g.prime1)),A=S.toRed(r.mont(g.prime2)),R=g.coefficient,B=g.prime1,q=g.prime2,C=y.redPow(g.exponent1).fromRed(),N=A.redPow(g.exponent2).fromRed(),k=C.isub(N).imul(R).umod(B).imul(q);return N.iadd(k).imul(x.unblinder).umod(g.modulus).toArrayLike(Buffer,"be",_)}return d.getr=u,browserifyRsa=d,browserifyRsa}var elliptic={};const name="elliptic",version="6.5.5",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0={name,version,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$2={},bn$3={exports:{}};bn$3.exports;var hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(r){(function(e,a){function u(E,t){if(!E)throw new Error(t||"Assertion failed")}function d(E,t){E.super_=t;var o=function(){};o.prototype=t.prototype,E.prototype=new o,E.prototype.constructor=E}function s(E,t,o){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((t==="le"||t==="be")&&(o=t,t=10),this._init(E||0,t||10,o||"be"))}typeof e=="object"?e.exports=s:a.BN=s,s.BN=s,s.wordSize=26;var g;try{typeof window<"u"&&typeof window.Buffer<"u"?g=window.Buffer:g=require$$0$1.Buffer}catch{}s.isBN=function(t){return t instanceof s?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,o){return t.cmp(o)>0?t:o},s.min=function(t,o){return t.cmp(o)<0?t:o},s.prototype._init=function(t,o,c){if(typeof t=="number")return this._initNumber(t,o,c);if(typeof t=="object")return this._initArray(t,o,c);o==="hex"&&(o=16),u(o===(o|0)&&o>=2&&o<=36),t=t.toString().replace(/\s+/g,"");var l=0;t[0]==="-"&&(l++,this.negative=1),l<t.length&&(o===16?this._parseHex(t,l,c):(this._parseBase(t,o,l),c==="le"&&this._initArray(this.toArray(),o,c)))},s.prototype._initNumber=function(t,o,c){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(u(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),o,c)},s.prototype._initArray=function(t,o,c){if(u(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var v,w,M=0;if(c==="be")for(l=t.length-1,v=0;l>=0;l-=3)w=t[l]|t[l-1]<<8|t[l-2]<<16,this.words[v]|=w<<M&67108863,this.words[v+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);else if(c==="le")for(l=0,v=0;l<t.length;l+=3)w=t[l]|t[l+1]<<8|t[l+2]<<16,this.words[v]|=w<<M&67108863,this.words[v+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);return this.strip()};function x(E,t){var o=E.charCodeAt(t);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function _(E,t,o){var c=x(E,o);return o-1>=t&&(c|=x(E,o-1)<<4),c}s.prototype._parseHex=function(t,o,c){this.length=Math.ceil((t.length-o)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var v=0,w=0,M;if(c==="be")for(l=t.length-1;l>=o;l-=2)M=_(t,o,l)<<v,this.words[w]|=M&67108863,v>=18?(v-=18,w+=1,this.words[w]|=M>>>26):v+=8;else{var m=t.length-o;for(l=m%2===0?o+1:o;l<t.length;l+=2)M=_(t,o,l)<<v,this.words[w]|=M&67108863,v>=18?(v-=18,w+=1,this.words[w]|=M>>>26):v+=8}this.strip()};function S(E,t,o,c){for(var l=0,v=Math.min(E.length,o),w=t;w<v;w++){var M=E.charCodeAt(w)-48;l*=c,M>=49?l+=M-49+10:M>=17?l+=M-17+10:l+=M}return l}s.prototype._parseBase=function(t,o,c){this.words=[0],this.length=1;for(var l=0,v=1;v<=67108863;v*=o)l++;l--,v=v/o|0;for(var w=t.length-c,M=w%l,m=Math.min(w,w-M)+c,n=0,b=c;b<m;b+=l)n=S(t,b,b+l,o),this.imuln(v),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n);if(M!==0){var P=1;for(n=S(t,b,t.length,o),b=0;b<M;b++)P*=o;this.imuln(P),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var o=0;o<this.length;o++)t.words[o]=this.words[o];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,o){t=t||10,o=o|0||1;var c;if(t===16||t==="hex"){c="";for(var l=0,v=0,w=0;w<this.length;w++){var M=this.words[w],m=((M<<l|v)&16777215).toString(16);v=M>>>24-l&16777215,v!==0||w!==this.length-1?c=y[6-m.length]+m+c:c=m+c,l+=2,l>=26&&(l-=26,w--)}for(v!==0&&(c=v.toString(16)+c);c.length%o!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(t===(t|0)&&t>=2&&t<=36){var n=A[t],b=R[t];c="";var P=this.clone();for(P.negative=0;!P.isZero();){var I=P.modn(b).toString(t);P=P.idivn(b),P.isZero()?c=I+c:c=y[n-I.length]+I+c}for(this.isZero()&&(c="0"+c);c.length%o!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}u(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,o){return u(typeof g<"u"),this.toArrayLike(g,t,o)},s.prototype.toArray=function(t,o){return this.toArrayLike(Array,t,o)},s.prototype.toArrayLike=function(t,o,c){var l=this.byteLength(),v=c||Math.max(1,l);u(l<=v,"byte array longer than desired length"),u(v>0,"Requested array length <= 0"),this.strip();var w=o==="le",M=new t(v),m,n,b=this.clone();if(w){for(n=0;!b.isZero();n++)m=b.andln(255),b.iushrn(8),M[n]=m;for(;n<v;n++)M[n]=0}else{for(n=0;n<v-l;n++)M[n]=0;for(n=0;!b.isZero();n++)m=b.andln(255),b.iushrn(8),M[v-n-1]=m}return M},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var o=t,c=0;return o>=4096&&(c+=13,o>>>=13),o>=64&&(c+=7,o>>>=7),o>=8&&(c+=4,o>>>=4),o>=2&&(c+=2,o>>>=2),c+o},s.prototype._zeroBits=function(t){if(t===0)return 26;var o=t,c=0;return o&8191||(c+=13,o>>>=13),o&127||(c+=7,o>>>=7),o&15||(c+=4,o>>>=4),o&3||(c+=2,o>>>=2),o&1||c++,c},s.prototype.bitLength=function(){var t=this.words[this.length-1],o=this._countBits(t);return(this.length-1)*26+o};function B(E){for(var t=new Array(E.bitLength()),o=0;o<t.length;o++){var c=o/26|0,l=o%26;t[o]=(E.words[c]&1<<l)>>>l}return t}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,o=0;o<this.length;o++){var c=this._zeroBits(this.words[o]);if(t+=c,c!==26)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]|t.words[o];return this.strip()},s.prototype.ior=function(t){return u((this.negative|t.negative)===0),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var o;this.length>t.length?o=t:o=this;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]&t.words[c];return this.length=o.length,this.strip()},s.prototype.iand=function(t){return u((this.negative|t.negative)===0),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var o,c;this.length>t.length?(o=this,c=t):(o=t,c=this);for(var l=0;l<c.length;l++)this.words[l]=o.words[l]^c.words[l];if(this!==o)for(;l<o.length;l++)this.words[l]=o.words[l];return this.length=o.length,this.strip()},s.prototype.ixor=function(t){return u((this.negative|t.negative)===0),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){u(typeof t=="number"&&t>=0);var o=Math.ceil(t/26)|0,c=t%26;this._expand(o),c>0&&o--;for(var l=0;l<o;l++)this.words[l]=~this.words[l]&67108863;return c>0&&(this.words[l]=~this.words[l]&67108863>>26-c),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,o){u(typeof t=="number"&&t>=0);var c=t/26|0,l=t%26;return this._expand(c+1),o?this.words[c]=this.words[c]|1<<l:this.words[c]=this.words[c]&~(1<<l),this.strip()},s.prototype.iadd=function(t){var o;if(this.negative!==0&&t.negative===0)return this.negative=0,o=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,o=this.isub(t),t.negative=1,o._normSign();var c,l;this.length>t.length?(c=this,l=t):(c=t,l=this);for(var v=0,w=0;w<l.length;w++)o=(c.words[w]|0)+(l.words[w]|0)+v,this.words[w]=o&67108863,v=o>>>26;for(;v!==0&&w<c.length;w++)o=(c.words[w]|0)+v,this.words[w]=o&67108863,v=o>>>26;if(this.length=c.length,v!==0)this.words[this.length]=v,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},s.prototype.add=function(t){var o;return t.negative!==0&&this.negative===0?(t.negative=0,o=this.sub(t),t.negative^=1,o):t.negative===0&&this.negative!==0?(this.negative=0,o=t.sub(this),this.negative=1,o):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var o=this.iadd(t);return t.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var c=this.cmp(t);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,v;c>0?(l=this,v=t):(l=t,v=this);for(var w=0,M=0;M<v.length;M++)o=(l.words[M]|0)-(v.words[M]|0)+w,w=o>>26,this.words[M]=o&67108863;for(;w!==0&&M<l.length;M++)o=(l.words[M]|0)+w,w=o>>26,this.words[M]=o&67108863;if(w===0&&M<l.length&&l!==this)for(;M<l.length;M++)this.words[M]=l.words[M];return this.length=Math.max(this.length,M),l!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};function q(E,t,o){o.negative=t.negative^E.negative;var c=E.length+t.length|0;o.length=c,c=c-1|0;var l=E.words[0]|0,v=t.words[0]|0,w=l*v,M=w&67108863,m=w/67108864|0;o.words[0]=M;for(var n=1;n<c;n++){for(var b=m>>>26,P=m&67108863,I=Math.min(n,t.length-1),F=Math.max(0,n-E.length+1);F<=I;F++){var Y=n-F|0;l=E.words[Y]|0,v=t.words[F]|0,w=l*v+P,b+=w/67108864|0,P=w&67108863}o.words[n]=P|0,m=b|0}return m!==0?o.words[n]=m|0:o.length--,o.strip()}var C=function(t,o,c){var l=t.words,v=o.words,w=c.words,M=0,m,n,b,P=l[0]|0,I=P&8191,F=P>>>13,Y=l[1]|0,X=Y&8191,T=Y>>>13,K=l[2]|0,W=K&8191,ne=K>>>13,ie=l[3]|0,G=ie&8191,H=ie>>>13,fe=l[4]|0,he=fe&8191,ve=fe>>>13,ke=l[5]|0,Me=ke&8191,le=ke>>>13,Ze=l[6]|0,_e=Ze&8191,Se=Ze>>>13,tt=l[7]|0,Ae=tt&8191,Pe=tt>>>13,ot=l[8]|0,Oe=ot&8191,He=ot>>>13,pt=l[9]|0,z=pt&8191,O=pt>>>13,D=v[0]|0,te=D&8191,ce=D>>>13,Fe=v[1]|0,be=Fe&8191,je=Fe>>>13,lt=v[2]|0,Ue=lt&8191,Ve=lt>>>13,dt=v[3]|0,Je=dt&8191,et=dt>>>13,bt=v[4]|0,Ge=bt&8191,Ye=bt>>>13,yt=v[5]|0,We=yt&8191,Xe=yt>>>13,gt=v[6]|0,Ke=gt&8191,Qe=gt>>>13,V=v[7]|0,J=V&8191,Z=V>>>13,$=v[8]|0,Q=$&8191,me=$>>>13,Ce=v[9]|0,we=Ce&8191,qe=Ce>>>13;c.negative=t.negative^o.negative,c.length=19,m=Math.imul(I,te),n=Math.imul(I,ce),n=n+Math.imul(F,te)|0,b=Math.imul(F,ce);var at=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(at>>>26)|0,at&=67108863,m=Math.imul(X,te),n=Math.imul(X,ce),n=n+Math.imul(T,te)|0,b=Math.imul(T,ce),m=m+Math.imul(I,be)|0,n=n+Math.imul(I,je)|0,n=n+Math.imul(F,be)|0,b=b+Math.imul(F,je)|0;var it=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(it>>>26)|0,it&=67108863,m=Math.imul(W,te),n=Math.imul(W,ce),n=n+Math.imul(ne,te)|0,b=Math.imul(ne,ce),m=m+Math.imul(X,be)|0,n=n+Math.imul(X,je)|0,n=n+Math.imul(T,be)|0,b=b+Math.imul(T,je)|0,m=m+Math.imul(I,Ue)|0,n=n+Math.imul(I,Ve)|0,n=n+Math.imul(F,Ue)|0,b=b+Math.imul(F,Ve)|0;var vt=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(G,te),n=Math.imul(G,ce),n=n+Math.imul(H,te)|0,b=Math.imul(H,ce),m=m+Math.imul(W,be)|0,n=n+Math.imul(W,je)|0,n=n+Math.imul(ne,be)|0,b=b+Math.imul(ne,je)|0,m=m+Math.imul(X,Ue)|0,n=n+Math.imul(X,Ve)|0,n=n+Math.imul(T,Ue)|0,b=b+Math.imul(T,Ve)|0,m=m+Math.imul(I,Je)|0,n=n+Math.imul(I,et)|0,n=n+Math.imul(F,Je)|0,b=b+Math.imul(F,et)|0;var ft=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(he,te),n=Math.imul(he,ce),n=n+Math.imul(ve,te)|0,b=Math.imul(ve,ce),m=m+Math.imul(G,be)|0,n=n+Math.imul(G,je)|0,n=n+Math.imul(H,be)|0,b=b+Math.imul(H,je)|0,m=m+Math.imul(W,Ue)|0,n=n+Math.imul(W,Ve)|0,n=n+Math.imul(ne,Ue)|0,b=b+Math.imul(ne,Ve)|0,m=m+Math.imul(X,Je)|0,n=n+Math.imul(X,et)|0,n=n+Math.imul(T,Je)|0,b=b+Math.imul(T,et)|0,m=m+Math.imul(I,Ge)|0,n=n+Math.imul(I,Ye)|0,n=n+Math.imul(F,Ge)|0,b=b+Math.imul(F,Ye)|0;var ht=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(Me,te),n=Math.imul(Me,ce),n=n+Math.imul(le,te)|0,b=Math.imul(le,ce),m=m+Math.imul(he,be)|0,n=n+Math.imul(he,je)|0,n=n+Math.imul(ve,be)|0,b=b+Math.imul(ve,je)|0,m=m+Math.imul(G,Ue)|0,n=n+Math.imul(G,Ve)|0,n=n+Math.imul(H,Ue)|0,b=b+Math.imul(H,Ve)|0,m=m+Math.imul(W,Je)|0,n=n+Math.imul(W,et)|0,n=n+Math.imul(ne,Je)|0,b=b+Math.imul(ne,et)|0,m=m+Math.imul(X,Ge)|0,n=n+Math.imul(X,Ye)|0,n=n+Math.imul(T,Ge)|0,b=b+Math.imul(T,Ye)|0,m=m+Math.imul(I,We)|0,n=n+Math.imul(I,Xe)|0,n=n+Math.imul(F,We)|0,b=b+Math.imul(F,Xe)|0;var ct=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ct>>>26)|0,ct&=67108863,m=Math.imul(_e,te),n=Math.imul(_e,ce),n=n+Math.imul(Se,te)|0,b=Math.imul(Se,ce),m=m+Math.imul(Me,be)|0,n=n+Math.imul(Me,je)|0,n=n+Math.imul(le,be)|0,b=b+Math.imul(le,je)|0,m=m+Math.imul(he,Ue)|0,n=n+Math.imul(he,Ve)|0,n=n+Math.imul(ve,Ue)|0,b=b+Math.imul(ve,Ve)|0,m=m+Math.imul(G,Je)|0,n=n+Math.imul(G,et)|0,n=n+Math.imul(H,Je)|0,b=b+Math.imul(H,et)|0,m=m+Math.imul(W,Ge)|0,n=n+Math.imul(W,Ye)|0,n=n+Math.imul(ne,Ge)|0,b=b+Math.imul(ne,Ye)|0,m=m+Math.imul(X,We)|0,n=n+Math.imul(X,Xe)|0,n=n+Math.imul(T,We)|0,b=b+Math.imul(T,Xe)|0,m=m+Math.imul(I,Ke)|0,n=n+Math.imul(I,Qe)|0,n=n+Math.imul(F,Ke)|0,b=b+Math.imul(F,Qe)|0;var re=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(re>>>26)|0,re&=67108863,m=Math.imul(Ae,te),n=Math.imul(Ae,ce),n=n+Math.imul(Pe,te)|0,b=Math.imul(Pe,ce),m=m+Math.imul(_e,be)|0,n=n+Math.imul(_e,je)|0,n=n+Math.imul(Se,be)|0,b=b+Math.imul(Se,je)|0,m=m+Math.imul(Me,Ue)|0,n=n+Math.imul(Me,Ve)|0,n=n+Math.imul(le,Ue)|0,b=b+Math.imul(le,Ve)|0,m=m+Math.imul(he,Je)|0,n=n+Math.imul(he,et)|0,n=n+Math.imul(ve,Je)|0,b=b+Math.imul(ve,et)|0,m=m+Math.imul(G,Ge)|0,n=n+Math.imul(G,Ye)|0,n=n+Math.imul(H,Ge)|0,b=b+Math.imul(H,Ye)|0,m=m+Math.imul(W,We)|0,n=n+Math.imul(W,Xe)|0,n=n+Math.imul(ne,We)|0,b=b+Math.imul(ne,Xe)|0,m=m+Math.imul(X,Ke)|0,n=n+Math.imul(X,Qe)|0,n=n+Math.imul(T,Ke)|0,b=b+Math.imul(T,Qe)|0,m=m+Math.imul(I,J)|0,n=n+Math.imul(I,Z)|0,n=n+Math.imul(F,J)|0,b=b+Math.imul(F,Z)|0;var ue=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ue>>>26)|0,ue&=67108863,m=Math.imul(Oe,te),n=Math.imul(Oe,ce),n=n+Math.imul(He,te)|0,b=Math.imul(He,ce),m=m+Math.imul(Ae,be)|0,n=n+Math.imul(Ae,je)|0,n=n+Math.imul(Pe,be)|0,b=b+Math.imul(Pe,je)|0,m=m+Math.imul(_e,Ue)|0,n=n+Math.imul(_e,Ve)|0,n=n+Math.imul(Se,Ue)|0,b=b+Math.imul(Se,Ve)|0,m=m+Math.imul(Me,Je)|0,n=n+Math.imul(Me,et)|0,n=n+Math.imul(le,Je)|0,b=b+Math.imul(le,et)|0,m=m+Math.imul(he,Ge)|0,n=n+Math.imul(he,Ye)|0,n=n+Math.imul(ve,Ge)|0,b=b+Math.imul(ve,Ye)|0,m=m+Math.imul(G,We)|0,n=n+Math.imul(G,Xe)|0,n=n+Math.imul(H,We)|0,b=b+Math.imul(H,Xe)|0,m=m+Math.imul(W,Ke)|0,n=n+Math.imul(W,Qe)|0,n=n+Math.imul(ne,Ke)|0,b=b+Math.imul(ne,Qe)|0,m=m+Math.imul(X,J)|0,n=n+Math.imul(X,Z)|0,n=n+Math.imul(T,J)|0,b=b+Math.imul(T,Z)|0,m=m+Math.imul(I,Q)|0,n=n+Math.imul(I,me)|0,n=n+Math.imul(F,Q)|0,b=b+Math.imul(F,me)|0;var ae=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ae>>>26)|0,ae&=67108863,m=Math.imul(z,te),n=Math.imul(z,ce),n=n+Math.imul(O,te)|0,b=Math.imul(O,ce),m=m+Math.imul(Oe,be)|0,n=n+Math.imul(Oe,je)|0,n=n+Math.imul(He,be)|0,b=b+Math.imul(He,je)|0,m=m+Math.imul(Ae,Ue)|0,n=n+Math.imul(Ae,Ve)|0,n=n+Math.imul(Pe,Ue)|0,b=b+Math.imul(Pe,Ve)|0,m=m+Math.imul(_e,Je)|0,n=n+Math.imul(_e,et)|0,n=n+Math.imul(Se,Je)|0,b=b+Math.imul(Se,et)|0,m=m+Math.imul(Me,Ge)|0,n=n+Math.imul(Me,Ye)|0,n=n+Math.imul(le,Ge)|0,b=b+Math.imul(le,Ye)|0,m=m+Math.imul(he,We)|0,n=n+Math.imul(he,Xe)|0,n=n+Math.imul(ve,We)|0,b=b+Math.imul(ve,Xe)|0,m=m+Math.imul(G,Ke)|0,n=n+Math.imul(G,Qe)|0,n=n+Math.imul(H,Ke)|0,b=b+Math.imul(H,Qe)|0,m=m+Math.imul(W,J)|0,n=n+Math.imul(W,Z)|0,n=n+Math.imul(ne,J)|0,b=b+Math.imul(ne,Z)|0,m=m+Math.imul(X,Q)|0,n=n+Math.imul(X,me)|0,n=n+Math.imul(T,Q)|0,b=b+Math.imul(T,me)|0,m=m+Math.imul(I,we)|0,n=n+Math.imul(I,qe)|0,n=n+Math.imul(F,we)|0,b=b+Math.imul(F,qe)|0;var pe=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(pe>>>26)|0,pe&=67108863,m=Math.imul(z,be),n=Math.imul(z,je),n=n+Math.imul(O,be)|0,b=Math.imul(O,je),m=m+Math.imul(Oe,Ue)|0,n=n+Math.imul(Oe,Ve)|0,n=n+Math.imul(He,Ue)|0,b=b+Math.imul(He,Ve)|0,m=m+Math.imul(Ae,Je)|0,n=n+Math.imul(Ae,et)|0,n=n+Math.imul(Pe,Je)|0,b=b+Math.imul(Pe,et)|0,m=m+Math.imul(_e,Ge)|0,n=n+Math.imul(_e,Ye)|0,n=n+Math.imul(Se,Ge)|0,b=b+Math.imul(Se,Ye)|0,m=m+Math.imul(Me,We)|0,n=n+Math.imul(Me,Xe)|0,n=n+Math.imul(le,We)|0,b=b+Math.imul(le,Xe)|0,m=m+Math.imul(he,Ke)|0,n=n+Math.imul(he,Qe)|0,n=n+Math.imul(ve,Ke)|0,b=b+Math.imul(ve,Qe)|0,m=m+Math.imul(G,J)|0,n=n+Math.imul(G,Z)|0,n=n+Math.imul(H,J)|0,b=b+Math.imul(H,Z)|0,m=m+Math.imul(W,Q)|0,n=n+Math.imul(W,me)|0,n=n+Math.imul(ne,Q)|0,b=b+Math.imul(ne,me)|0,m=m+Math.imul(X,we)|0,n=n+Math.imul(X,qe)|0,n=n+Math.imul(T,we)|0,b=b+Math.imul(T,qe)|0;var ye=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,m=Math.imul(z,Ue),n=Math.imul(z,Ve),n=n+Math.imul(O,Ue)|0,b=Math.imul(O,Ve),m=m+Math.imul(Oe,Je)|0,n=n+Math.imul(Oe,et)|0,n=n+Math.imul(He,Je)|0,b=b+Math.imul(He,et)|0,m=m+Math.imul(Ae,Ge)|0,n=n+Math.imul(Ae,Ye)|0,n=n+Math.imul(Pe,Ge)|0,b=b+Math.imul(Pe,Ye)|0,m=m+Math.imul(_e,We)|0,n=n+Math.imul(_e,Xe)|0,n=n+Math.imul(Se,We)|0,b=b+Math.imul(Se,Xe)|0,m=m+Math.imul(Me,Ke)|0,n=n+Math.imul(Me,Qe)|0,n=n+Math.imul(le,Ke)|0,b=b+Math.imul(le,Qe)|0,m=m+Math.imul(he,J)|0,n=n+Math.imul(he,Z)|0,n=n+Math.imul(ve,J)|0,b=b+Math.imul(ve,Z)|0,m=m+Math.imul(G,Q)|0,n=n+Math.imul(G,me)|0,n=n+Math.imul(H,Q)|0,b=b+Math.imul(H,me)|0,m=m+Math.imul(W,we)|0,n=n+Math.imul(W,qe)|0,n=n+Math.imul(ne,we)|0,b=b+Math.imul(ne,qe)|0;var xe=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,m=Math.imul(z,Je),n=Math.imul(z,et),n=n+Math.imul(O,Je)|0,b=Math.imul(O,et),m=m+Math.imul(Oe,Ge)|0,n=n+Math.imul(Oe,Ye)|0,n=n+Math.imul(He,Ge)|0,b=b+Math.imul(He,Ye)|0,m=m+Math.imul(Ae,We)|0,n=n+Math.imul(Ae,Xe)|0,n=n+Math.imul(Pe,We)|0,b=b+Math.imul(Pe,Xe)|0,m=m+Math.imul(_e,Ke)|0,n=n+Math.imul(_e,Qe)|0,n=n+Math.imul(Se,Ke)|0,b=b+Math.imul(Se,Qe)|0,m=m+Math.imul(Me,J)|0,n=n+Math.imul(Me,Z)|0,n=n+Math.imul(le,J)|0,b=b+Math.imul(le,Z)|0,m=m+Math.imul(he,Q)|0,n=n+Math.imul(he,me)|0,n=n+Math.imul(ve,Q)|0,b=b+Math.imul(ve,me)|0,m=m+Math.imul(G,we)|0,n=n+Math.imul(G,qe)|0,n=n+Math.imul(H,we)|0,b=b+Math.imul(H,qe)|0;var Ne=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,m=Math.imul(z,Ge),n=Math.imul(z,Ye),n=n+Math.imul(O,Ge)|0,b=Math.imul(O,Ye),m=m+Math.imul(Oe,We)|0,n=n+Math.imul(Oe,Xe)|0,n=n+Math.imul(He,We)|0,b=b+Math.imul(He,Xe)|0,m=m+Math.imul(Ae,Ke)|0,n=n+Math.imul(Ae,Qe)|0,n=n+Math.imul(Pe,Ke)|0,b=b+Math.imul(Pe,Qe)|0,m=m+Math.imul(_e,J)|0,n=n+Math.imul(_e,Z)|0,n=n+Math.imul(Se,J)|0,b=b+Math.imul(Se,Z)|0,m=m+Math.imul(Me,Q)|0,n=n+Math.imul(Me,me)|0,n=n+Math.imul(le,Q)|0,b=b+Math.imul(le,me)|0,m=m+Math.imul(he,we)|0,n=n+Math.imul(he,qe)|0,n=n+Math.imul(ve,we)|0,b=b+Math.imul(ve,qe)|0;var $e=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+($e>>>26)|0,$e&=67108863,m=Math.imul(z,We),n=Math.imul(z,Xe),n=n+Math.imul(O,We)|0,b=Math.imul(O,Xe),m=m+Math.imul(Oe,Ke)|0,n=n+Math.imul(Oe,Qe)|0,n=n+Math.imul(He,Ke)|0,b=b+Math.imul(He,Qe)|0,m=m+Math.imul(Ae,J)|0,n=n+Math.imul(Ae,Z)|0,n=n+Math.imul(Pe,J)|0,b=b+Math.imul(Pe,Z)|0,m=m+Math.imul(_e,Q)|0,n=n+Math.imul(_e,me)|0,n=n+Math.imul(Se,Q)|0,b=b+Math.imul(Se,me)|0,m=m+Math.imul(Me,we)|0,n=n+Math.imul(Me,qe)|0,n=n+Math.imul(le,we)|0,b=b+Math.imul(le,qe)|0;var Re=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,m=Math.imul(z,Ke),n=Math.imul(z,Qe),n=n+Math.imul(O,Ke)|0,b=Math.imul(O,Qe),m=m+Math.imul(Oe,J)|0,n=n+Math.imul(Oe,Z)|0,n=n+Math.imul(He,J)|0,b=b+Math.imul(He,Z)|0,m=m+Math.imul(Ae,Q)|0,n=n+Math.imul(Ae,me)|0,n=n+Math.imul(Pe,Q)|0,b=b+Math.imul(Pe,me)|0,m=m+Math.imul(_e,we)|0,n=n+Math.imul(_e,qe)|0,n=n+Math.imul(Se,we)|0,b=b+Math.imul(Se,qe)|0;var Ie=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,m=Math.imul(z,J),n=Math.imul(z,Z),n=n+Math.imul(O,J)|0,b=Math.imul(O,Z),m=m+Math.imul(Oe,Q)|0,n=n+Math.imul(Oe,me)|0,n=n+Math.imul(He,Q)|0,b=b+Math.imul(He,me)|0,m=m+Math.imul(Ae,we)|0,n=n+Math.imul(Ae,qe)|0,n=n+Math.imul(Pe,we)|0,b=b+Math.imul(Pe,qe)|0;var ze=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ze>>>26)|0,ze&=67108863,m=Math.imul(z,Q),n=Math.imul(z,me),n=n+Math.imul(O,Q)|0,b=Math.imul(O,me),m=m+Math.imul(Oe,we)|0,n=n+Math.imul(Oe,qe)|0,n=n+Math.imul(He,we)|0,b=b+Math.imul(He,qe)|0;var Te=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,m=Math.imul(z,we),n=Math.imul(z,qe),n=n+Math.imul(O,we)|0,b=Math.imul(O,qe);var De=(M+m|0)+((n&8191)<<13)|0;return M=(b+(n>>>13)|0)+(De>>>26)|0,De&=67108863,w[0]=at,w[1]=it,w[2]=vt,w[3]=ft,w[4]=ht,w[5]=ct,w[6]=re,w[7]=ue,w[8]=ae,w[9]=pe,w[10]=ye,w[11]=xe,w[12]=Ne,w[13]=$e,w[14]=Re,w[15]=Ie,w[16]=ze,w[17]=Te,w[18]=De,M!==0&&(w[19]=M,c.length++),c};Math.imul||(C=q);function N(E,t,o){o.negative=t.negative^E.negative,o.length=E.length+t.length;for(var c=0,l=0,v=0;v<o.length-1;v++){var w=l;l=0;for(var M=c&67108863,m=Math.min(v,t.length-1),n=Math.max(0,v-E.length+1);n<=m;n++){var b=v-n,P=E.words[b]|0,I=t.words[n]|0,F=P*I,Y=F&67108863;w=w+(F/67108864|0)|0,Y=Y+M|0,M=Y&67108863,w=w+(Y>>>26)|0,l+=w>>>26,w&=67108863}o.words[v]=M,c=w,w=l}return c!==0?o.words[v]=c:o.length--,o.strip()}function k(E,t,o){var c=new L;return c.mulp(E,t,o)}s.prototype.mulTo=function(t,o){var c,l=this.length+t.length;return this.length===10&&t.length===10?c=C(this,t,o):l<63?c=q(this,t,o):l<1024?c=N(this,t,o):c=k(this,t,o),c};function L(E,t){this.x=E,this.y=t}L.prototype.makeRBT=function(t){for(var o=new Array(t),c=s.prototype._countBits(t)-1,l=0;l<t;l++)o[l]=this.revBin(l,c,t);return o},L.prototype.revBin=function(t,o,c){if(t===0||t===c-1)return t;for(var l=0,v=0;v<o;v++)l|=(t&1)<<o-v-1,t>>=1;return l},L.prototype.permute=function(t,o,c,l,v,w){for(var M=0;M<w;M++)l[M]=o[t[M]],v[M]=c[t[M]]},L.prototype.transform=function(t,o,c,l,v,w){this.permute(w,t,o,c,l,v);for(var M=1;M<v;M<<=1)for(var m=M<<1,n=Math.cos(2*Math.PI/m),b=Math.sin(2*Math.PI/m),P=0;P<v;P+=m)for(var I=n,F=b,Y=0;Y<M;Y++){var X=c[P+Y],T=l[P+Y],K=c[P+Y+M],W=l[P+Y+M],ne=I*K-F*W;W=I*W+F*K,K=ne,c[P+Y]=X+K,l[P+Y]=T+W,c[P+Y+M]=X-K,l[P+Y+M]=T-W,Y!==m&&(ne=n*I-b*F,F=n*F+b*I,I=ne)}},L.prototype.guessLen13b=function(t,o){var c=Math.max(o,t)|1,l=c&1,v=0;for(c=c/2|0;c;c=c>>>1)v++;return 1<<v+1+l},L.prototype.conjugate=function(t,o,c){if(!(c<=1))for(var l=0;l<c/2;l++){var v=t[l];t[l]=t[c-l-1],t[c-l-1]=v,v=o[l],o[l]=-o[c-l-1],o[c-l-1]=-v}},L.prototype.normalize13b=function(t,o){for(var c=0,l=0;l<o/2;l++){var v=Math.round(t[2*l+1]/o)*8192+Math.round(t[2*l]/o)+c;t[l]=v&67108863,v<67108864?c=0:c=v/67108864|0}return t},L.prototype.convert13b=function(t,o,c,l){for(var v=0,w=0;w<o;w++)v=v+(t[w]|0),c[2*w]=v&8191,v=v>>>13,c[2*w+1]=v&8191,v=v>>>13;for(w=2*o;w<l;++w)c[w]=0;u(v===0),u((v&-8192)===0)},L.prototype.stub=function(t){for(var o=new Array(t),c=0;c<t;c++)o[c]=0;return o},L.prototype.mulp=function(t,o,c){var l=2*this.guessLen13b(t.length,o.length),v=this.makeRBT(l),w=this.stub(l),M=new Array(l),m=new Array(l),n=new Array(l),b=new Array(l),P=new Array(l),I=new Array(l),F=c.words;F.length=l,this.convert13b(t.words,t.length,M,l),this.convert13b(o.words,o.length,b,l),this.transform(M,w,m,n,l,v),this.transform(b,w,P,I,l,v);for(var Y=0;Y<l;Y++){var X=m[Y]*P[Y]-n[Y]*I[Y];n[Y]=m[Y]*I[Y]+n[Y]*P[Y],m[Y]=X}return this.conjugate(m,n,l),this.transform(m,n,F,w,l,v),this.conjugate(F,w,l),this.normalize13b(F,l),c.negative=t.negative^o.negative,c.length=t.length+o.length,c.strip()},s.prototype.mul=function(t){var o=new s(null);return o.words=new Array(this.length+t.length),this.mulTo(t,o)},s.prototype.mulf=function(t){var o=new s(null);return o.words=new Array(this.length+t.length),k(this,t,o)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){u(typeof t=="number"),u(t<67108864);for(var o=0,c=0;c<this.length;c++){var l=(this.words[c]|0)*t,v=(l&67108863)+(o&67108863);o>>=26,o+=l/67108864|0,o+=v>>>26,this.words[c]=v&67108863}return o!==0&&(this.words[c]=o,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var o=B(t);if(o.length===0)return new s(1);for(var c=this,l=0;l<o.length&&o[l]===0;l++,c=c.sqr());if(++l<o.length)for(var v=c.sqr();l<o.length;l++,v=v.sqr())o[l]!==0&&(c=c.mul(v));return c},s.prototype.iushln=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26,l=67108863>>>26-o<<26-o,v;if(o!==0){var w=0;for(v=0;v<this.length;v++){var M=this.words[v]&l,m=(this.words[v]|0)-M<<o;this.words[v]=m|w,w=M>>>26-o}w&&(this.words[v]=w,this.length++)}if(c!==0){for(v=this.length-1;v>=0;v--)this.words[v+c]=this.words[v];for(v=0;v<c;v++)this.words[v]=0;this.length+=c}return this.strip()},s.prototype.ishln=function(t){return u(this.negative===0),this.iushln(t)},s.prototype.iushrn=function(t,o,c){u(typeof t=="number"&&t>=0);var l;o?l=(o-o%26)/26:l=0;var v=t%26,w=Math.min((t-v)/26,this.length),M=67108863^67108863>>>v<<v,m=c;if(l-=w,l=Math.max(0,l),m){for(var n=0;n<w;n++)m.words[n]=this.words[n];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,n=0;n<this.length;n++)this.words[n]=this.words[n+w];else this.words[0]=0,this.length=1;var b=0;for(n=this.length-1;n>=0&&(b!==0||n>=l);n--){var P=this.words[n]|0;this.words[n]=b<<26-v|P>>>v,b=P&M}return m&&b!==0&&(m.words[m.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,o,c){return u(this.negative===0),this.iushrn(t,o,c)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26,l=1<<o;if(this.length<=c)return!1;var v=this.words[c];return!!(v&l)},s.prototype.imaskn=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(o!==0&&c++,this.length=Math.min(c,this.length),o!==0){var l=67108863^67108863>>>o<<o;this.words[this.length-1]&=l}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return u(typeof t=="number"),u(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},s.prototype.isubn=function(t){if(u(typeof t=="number"),u(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,o,c){var l=t.length+c,v;this._expand(l);var w,M=0;for(v=0;v<t.length;v++){w=(this.words[v+c]|0)+M;var m=(t.words[v]|0)*o;w-=m&67108863,M=(w>>26)-(m/67108864|0),this.words[v+c]=w&67108863}for(;v<this.length-c;v++)w=(this.words[v+c]|0)+M,M=w>>26,this.words[v+c]=w&67108863;if(M===0)return this.strip();for(u(M===-1),M=0,v=0;v<this.length;v++)w=-(this.words[v]|0)+M,M=w>>26,this.words[v]=w&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,o){var c=this.length-t.length,l=this.clone(),v=t,w=v.words[v.length-1]|0,M=this._countBits(w);c=26-M,c!==0&&(v=v.ushln(c),l.iushln(c),w=v.words[v.length-1]|0);var m=l.length-v.length,n;if(o!=="mod"){n=new s(null),n.length=m+1,n.words=new Array(n.length);for(var b=0;b<n.length;b++)n.words[b]=0}var P=l.clone()._ishlnsubmul(v,1,m);P.negative===0&&(l=P,n&&(n.words[m]=1));for(var I=m-1;I>=0;I--){var F=(l.words[v.length+I]|0)*67108864+(l.words[v.length+I-1]|0);for(F=Math.min(F/w|0,67108863),l._ishlnsubmul(v,F,I);l.negative!==0;)F--,l.negative=0,l._ishlnsubmul(v,1,I),l.isZero()||(l.negative^=1);n&&(n.words[I]=F)}return n&&n.strip(),l.strip(),o!=="div"&&c!==0&&l.iushrn(c),{div:n||null,mod:l}},s.prototype.divmod=function(t,o,c){if(u(!t.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var l,v,w;return this.negative!==0&&t.negative===0?(w=this.neg().divmod(t,o),o!=="mod"&&(l=w.div.neg()),o!=="div"&&(v=w.mod.neg(),c&&v.negative!==0&&v.iadd(t)),{div:l,mod:v}):this.negative===0&&t.negative!==0?(w=this.divmod(t.neg(),o),o!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&t.negative?(w=this.neg().divmod(t.neg(),o),o!=="div"&&(v=w.mod.neg(),c&&v.negative!==0&&v.isub(t)),{div:w.div,mod:v}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:t.length===1?o==="div"?{div:this.divn(t.words[0]),mod:null}:o==="mod"?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,o)},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var o=this.divmod(t);if(o.mod.isZero())return o.div;var c=o.div.negative!==0?o.mod.isub(t):o.mod,l=t.ushrn(1),v=t.andln(1),w=c.cmp(l);return w<0||v===1&&w===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},s.prototype.modn=function(t){u(t<=67108863);for(var o=(1<<26)%t,c=0,l=this.length-1;l>=0;l--)c=(o*c+(this.words[l]|0))%t;return c},s.prototype.idivn=function(t){u(t<=67108863);for(var o=0,c=this.length-1;c>=0;c--){var l=(this.words[c]|0)+o*67108864;this.words[c]=l/t|0,o=l%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){u(t.negative===0),u(!t.isZero());var o=this,c=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var l=new s(1),v=new s(0),w=new s(0),M=new s(1),m=0;o.isEven()&&c.isEven();)o.iushrn(1),c.iushrn(1),++m;for(var n=c.clone(),b=o.clone();!o.isZero();){for(var P=0,I=1;!(o.words[0]&I)&&P<26;++P,I<<=1);if(P>0)for(o.iushrn(P);P-- >0;)(l.isOdd()||v.isOdd())&&(l.iadd(n),v.isub(b)),l.iushrn(1),v.iushrn(1);for(var F=0,Y=1;!(c.words[0]&Y)&&F<26;++F,Y<<=1);if(F>0)for(c.iushrn(F);F-- >0;)(w.isOdd()||M.isOdd())&&(w.iadd(n),M.isub(b)),w.iushrn(1),M.iushrn(1);o.cmp(c)>=0?(o.isub(c),l.isub(w),v.isub(M)):(c.isub(o),w.isub(l),M.isub(v))}return{a:w,b:M,gcd:c.iushln(m)}},s.prototype._invmp=function(t){u(t.negative===0),u(!t.isZero());var o=this,c=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var l=new s(1),v=new s(0),w=c.clone();o.cmpn(1)>0&&c.cmpn(1)>0;){for(var M=0,m=1;!(o.words[0]&m)&&M<26;++M,m<<=1);if(M>0)for(o.iushrn(M);M-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var n=0,b=1;!(c.words[0]&b)&&n<26;++n,b<<=1);if(n>0)for(c.iushrn(n);n-- >0;)v.isOdd()&&v.iadd(w),v.iushrn(1);o.cmp(c)>=0?(o.isub(c),l.isub(v)):(c.isub(o),v.isub(l))}var P;return o.cmpn(1)===0?P=l:P=v,P.cmpn(0)<0&&P.iadd(t),P},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var o=this.clone(),c=t.clone();o.negative=0,c.negative=0;for(var l=0;o.isEven()&&c.isEven();l++)o.iushrn(1),c.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;c.isEven();)c.iushrn(1);var v=o.cmp(c);if(v<0){var w=o;o=c,c=w}else if(v===0||c.cmpn(1)===0)break;o.isub(c)}while(!0);return c.iushln(l)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){u(typeof t=="number");var o=t%26,c=(t-o)/26,l=1<<o;if(this.length<=c)return this._expand(c+1),this.words[c]|=l,this;for(var v=l,w=c;v!==0&&w<this.length;w++){var M=this.words[w]|0;M+=v,v=M>>>26,M&=67108863,this.words[w]=M}return v!==0&&(this.words[w]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(t){var o=t<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var c;if(this.length>1)c=1;else{o&&(t=-t),u(t<=67108863,"Number is too big");var l=this.words[0]|0;c=l===t?0:l<t?-1:1}return this.negative!==0?-c|0:c},s.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var o=this.ucmp(t);return this.negative!==0?-o|0:o},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var o=0,c=this.length-1;c>=0;c--){var l=this.words[c]|0,v=t.words[c]|0;if(l!==v){l<v?o=-1:l>v&&(o=1);break}}return o},s.prototype.gtn=function(t){return this.cmpn(t)===1},s.prototype.gt=function(t){return this.cmp(t)===1},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return this.cmpn(t)===-1},s.prototype.lt=function(t){return this.cmp(t)===-1},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return this.cmpn(t)===0},s.prototype.eq=function(t){return this.cmp(t)===0},s.red=function(t){return new oe(t)},s.prototype.toRed=function(t){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return u(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return u(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var U={k256:null,p224:null,p192:null,p25519:null};function j(E,t){this.name=E,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},j.prototype.ireduce=function(t){var o=t,c;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),c=o.bitLength();while(c>this.n);var l=c<this.n?-1:o.ucmp(this.p);return l===0?(o.words[0]=0,o.length=1):l>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},j.prototype.split=function(t,o){t.iushrn(this.n,0,o)},j.prototype.imulK=function(t){return t.imul(this.k)};function ee(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}d(ee,j),ee.prototype.split=function(t,o){for(var c=4194303,l=Math.min(t.length,9),v=0;v<l;v++)o.words[v]=t.words[v];if(o.length=l,t.length<=9){t.words[0]=0,t.length=1;return}var w=t.words[9];for(o.words[o.length++]=w&c,v=10;v<t.length;v++){var M=t.words[v]|0;t.words[v-10]=(M&c)<<4|w>>>22,w=M}w>>>=22,t.words[v-10]=w,w===0&&t.length>10?t.length-=10:t.length-=9},ee.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var o=0,c=0;c<t.length;c++){var l=t.words[c]|0;o+=l*977,t.words[c]=o&67108863,o=l*64+(o/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function se(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}d(se,j);function Ee(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}d(Ee,j);function ge(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}d(ge,j),ge.prototype.imulK=function(t){for(var o=0,c=0;c<t.length;c++){var l=(t.words[c]|0)*19+o,v=l&67108863;l>>>=26,t.words[c]=v,o=l}return o!==0&&(t.words[t.length++]=o),t},s._prime=function(t){if(U[t])return U[t];var o;if(t==="k256")o=new ee;else if(t==="p224")o=new se;else if(t==="p192")o=new Ee;else if(t==="p25519")o=new ge;else throw new Error("Unknown prime "+t);return U[t]=o,o};function oe(E){if(typeof E=="string"){var t=s._prime(E);this.m=t.p,this.prime=t}else u(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}oe.prototype._verify1=function(t){u(t.negative===0,"red works only with positives"),u(t.red,"red works only with red numbers")},oe.prototype._verify2=function(t,o){u((t.negative|o.negative)===0,"red works only with positives"),u(t.red&&t.red===o.red,"red works only with red numbers")},oe.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},oe.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},oe.prototype.add=function(t,o){this._verify2(t,o);var c=t.add(o);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},oe.prototype.iadd=function(t,o){this._verify2(t,o);var c=t.iadd(o);return c.cmp(this.m)>=0&&c.isub(this.m),c},oe.prototype.sub=function(t,o){this._verify2(t,o);var c=t.sub(o);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},oe.prototype.isub=function(t,o){this._verify2(t,o);var c=t.isub(o);return c.cmpn(0)<0&&c.iadd(this.m),c},oe.prototype.shl=function(t,o){return this._verify1(t),this.imod(t.ushln(o))},oe.prototype.imul=function(t,o){return this._verify2(t,o),this.imod(t.imul(o))},oe.prototype.mul=function(t,o){return this._verify2(t,o),this.imod(t.mul(o))},oe.prototype.isqr=function(t){return this.imul(t,t.clone())},oe.prototype.sqr=function(t){return this.mul(t,t)},oe.prototype.sqrt=function(t){if(t.isZero())return t.clone();var o=this.m.andln(3);if(u(o%2===1),o===3){var c=this.m.add(new s(1)).iushrn(2);return this.pow(t,c)}for(var l=this.m.subn(1),v=0;!l.isZero()&&l.andln(1)===0;)v++,l.iushrn(1);u(!l.isZero());var w=new s(1).toRed(this),M=w.redNeg(),m=this.m.subn(1).iushrn(1),n=this.m.bitLength();for(n=new s(2*n*n).toRed(this);this.pow(n,m).cmp(M)!==0;)n.redIAdd(M);for(var b=this.pow(n,l),P=this.pow(t,l.addn(1).iushrn(1)),I=this.pow(t,l),F=v;I.cmp(w)!==0;){for(var Y=I,X=0;Y.cmp(w)!==0;X++)Y=Y.redSqr();u(X<F);var T=this.pow(b,new s(1).iushln(F-X-1));P=P.redMul(T),b=T.redSqr(),I=I.redMul(b),F=X}return P},oe.prototype.invm=function(t){var o=t._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},oe.prototype.pow=function(t,o){if(o.isZero())return new s(1).toRed(this);if(o.cmpn(1)===0)return t.clone();var c=4,l=new Array(1<<c);l[0]=new s(1).toRed(this),l[1]=t;for(var v=2;v<l.length;v++)l[v]=this.mul(l[v-1],t);var w=l[0],M=0,m=0,n=o.bitLength()%26;for(n===0&&(n=26),v=o.length-1;v>=0;v--){for(var b=o.words[v],P=n-1;P>=0;P--){var I=b>>P&1;if(w!==l[0]&&(w=this.sqr(w)),I===0&&M===0){m=0;continue}M<<=1,M|=I,m++,!(m!==c&&(v!==0||P!==0))&&(w=this.mul(w,l[M]),m=0,M=0)}n=26}return w},oe.prototype.convertTo=function(t){var o=t.umod(this.m);return o===t?o.clone():o},oe.prototype.convertFrom=function(t){var o=t.clone();return o.red=null,o},s.mont=function(t){return new Le(t)};function Le(E){oe.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}d(Le,oe),Le.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Le.prototype.convertFrom=function(t){var o=this.imod(t.mul(this.rinv));return o.red=null,o},Le.prototype.imul=function(t,o){if(t.isZero()||o.isZero())return t.words[0]=0,t.length=1,t;var c=t.imul(o),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(l).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},Le.prototype.mul=function(t,o){if(t.isZero()||o.isZero())return new s(0)._forceRed(this);var c=t.mul(o),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(l).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},Le.prototype.invm=function(t){var o=this.imod(t._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,commonjsGlobal)}(bn$3)),bn$3.exports}var utils$1={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(r){var e=r;function a(s,g){if(Array.isArray(s))return s.slice();if(!s)return[];var x=[];if(typeof s!="string"){for(var _=0;_<s.length;_++)x[_]=s[_]|0;return x}if(g==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var _=0;_<s.length;_+=2)x.push(parseInt(s[_]+s[_+1],16))}else for(var _=0;_<s.length;_++){var S=s.charCodeAt(_),y=S>>8,A=S&255;y?x.push(y,A):x.push(A)}return x}e.toArray=a;function u(s){return s.length===1?"0"+s:s}e.zero2=u;function d(s){for(var g="",x=0;x<s.length;x++)g+=u(s[x].toString(16));return g}e.toHex=d,e.encode=function(g,x){return x==="hex"?d(g):g}}(utils$1)),utils$1}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(r){var e=r,a=requireBn$3(),u=requireMinimalisticAssert(),d=requireUtils$2();e.assert=u,e.toArray=d.toArray,e.zero2=d.zero2,e.toHex=d.toHex,e.encode=d.encode;function s(y,A,R){var B=new Array(Math.max(y.bitLength(),R)+1),q;for(q=0;q<B.length;q+=1)B[q]=0;var C=1<<A+1,N=y.clone();for(q=0;q<B.length;q++){var k,L=N.andln(C-1);N.isOdd()?(L>(C>>1)-1?k=(C>>1)-L:k=L,N.isubn(k)):k=0,B[q]=k,N.iushrn(1)}return B}e.getNAF=s;function g(y,A){var R=[[],[]];y=y.clone(),A=A.clone();for(var B=0,q=0,C;y.cmpn(-B)>0||A.cmpn(-q)>0;){var N=y.andln(3)+B&3,k=A.andln(3)+q&3;N===3&&(N=-1),k===3&&(k=-1);var L;N&1?(C=y.andln(7)+B&7,(C===3||C===5)&&k===2?L=-N:L=N):L=0,R[0].push(L);var U;k&1?(C=A.andln(7)+q&7,(C===3||C===5)&&N===2?U=-k:U=k):U=0,R[1].push(U),2*B===L+1&&(B=1-B),2*q===U+1&&(q=1-q),y.iushrn(1),A.iushrn(1)}return R}e.getJSF=g;function x(y,A,R){var B="_"+A;y.prototype[A]=function(){return this[B]!==void 0?this[B]:this[B]=R.call(this)}}e.cachedProperty=x;function _(y){return typeof y=="string"?e.toArray(y,"hex"):y}e.parseBytes=_;function S(y){return new a(y,"hex","le")}e.intFromLE=S}(utils$2)),utils$2}var curve$1={},base$1,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var r=requireBn$3(),e=requireUtils$1(),a=e.getNAF,u=e.getJSF,d=e.assert;function s(x,_){this.type=x,this.p=new r(_.p,16),this.red=_.prime?r.red(_.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=_.n&&new r(_.n,16),this.g=_.g&&this.pointFromJSON(_.g,_.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var S=this.n&&this.p.div(this.n);!S||S.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(_,S){d(_.precomputed);var y=_._getDoubles(),A=a(S,1,this._bitLength),R=(1<<y.step+1)-(y.step%2===0?2:1);R/=3;var B=[],q,C;for(q=0;q<A.length;q+=y.step){C=0;for(var N=q+y.step-1;N>=q;N--)C=(C<<1)+A[N];B.push(C)}for(var k=this.jpoint(null,null,null),L=this.jpoint(null,null,null),U=R;U>0;U--){for(q=0;q<B.length;q++)C=B[q],C===U?L=L.mixedAdd(y.points[q]):C===-U&&(L=L.mixedAdd(y.points[q].neg()));k=k.add(L)}return k.toP()},s.prototype._wnafMul=function(_,S){var y=4,A=_._getNAFPoints(y);y=A.wnd;for(var R=A.points,B=a(S,y,this._bitLength),q=this.jpoint(null,null,null),C=B.length-1;C>=0;C--){for(var N=0;C>=0&&B[C]===0;C--)N++;if(C>=0&&N++,q=q.dblp(N),C<0)break;var k=B[C];d(k!==0),_.type==="affine"?k>0?q=q.mixedAdd(R[k-1>>1]):q=q.mixedAdd(R[-k-1>>1].neg()):k>0?q=q.add(R[k-1>>1]):q=q.add(R[-k-1>>1].neg())}return _.type==="affine"?q.toP():q},s.prototype._wnafMulAdd=function(_,S,y,A,R){var B=this._wnafT1,q=this._wnafT2,C=this._wnafT3,N=0,k,L,U;for(k=0;k<A;k++){U=S[k];var j=U._getNAFPoints(_);B[k]=j.wnd,q[k]=j.points}for(k=A-1;k>=1;k-=2){var ee=k-1,se=k;if(B[ee]!==1||B[se]!==1){C[ee]=a(y[ee],B[ee],this._bitLength),C[se]=a(y[se],B[se],this._bitLength),N=Math.max(C[ee].length,N),N=Math.max(C[se].length,N);continue}var Ee=[S[ee],null,null,S[se]];S[ee].y.cmp(S[se].y)===0?(Ee[1]=S[ee].add(S[se]),Ee[2]=S[ee].toJ().mixedAdd(S[se].neg())):S[ee].y.cmp(S[se].y.redNeg())===0?(Ee[1]=S[ee].toJ().mixedAdd(S[se]),Ee[2]=S[ee].add(S[se].neg())):(Ee[1]=S[ee].toJ().mixedAdd(S[se]),Ee[2]=S[ee].toJ().mixedAdd(S[se].neg()));var ge=[-3,-1,-5,-7,0,7,5,1,3],oe=u(y[ee],y[se]);for(N=Math.max(oe[0].length,N),C[ee]=new Array(N),C[se]=new Array(N),L=0;L<N;L++){var Le=oe[0][L]|0,E=oe[1][L]|0;C[ee][L]=ge[(Le+1)*3+(E+1)],C[se][L]=0,q[ee]=Ee}}var t=this.jpoint(null,null,null),o=this._wnafT4;for(k=N;k>=0;k--){for(var c=0;k>=0;){var l=!0;for(L=0;L<A;L++)o[L]=C[L][k]|0,o[L]!==0&&(l=!1);if(!l)break;c++,k--}if(k>=0&&c++,t=t.dblp(c),k<0)break;for(L=0;L<A;L++){var v=o[L];v!==0&&(v>0?U=q[L][v-1>>1]:v<0&&(U=q[L][-v-1>>1].neg()),U.type==="affine"?t=t.mixedAdd(U):t=t.add(U))}}for(k=0;k<A;k++)q[k]=null;return R?t:t.toP()};function g(x,_){this.curve=x,this.type=_,this.precomputed=null}return s.BasePoint=g,g.prototype.eq=function(){throw new Error("Not implemented")},g.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(_,S){_=e.toArray(_,S);var y=this.p.byteLength();if((_[0]===4||_[0]===6||_[0]===7)&&_.length-1===2*y){_[0]===6?d(_[_.length-1]%2===0):_[0]===7&&d(_[_.length-1]%2===1);var A=this.point(_.slice(1,1+y),_.slice(1+y,1+2*y));return A}else if((_[0]===2||_[0]===3)&&_.length-1===y)return this.pointFromX(_.slice(1,1+y),_[0]===3);throw new Error("Unknown point format")},g.prototype.encodeCompressed=function(_){return this.encode(_,!0)},g.prototype._encode=function(_){var S=this.curve.p.byteLength(),y=this.getX().toArray("be",S);return _?[this.getY().isEven()?2:3].concat(y):[4].concat(y,this.getY().toArray("be",S))},g.prototype.encode=function(_,S){return e.encode(this._encode(S),_)},g.prototype.precompute=function(_){if(this.precomputed)return this;var S={doubles:null,naf:null,beta:null};return S.naf=this._getNAFPoints(8),S.doubles=this._getDoubles(4,_),S.beta=this._getBeta(),this.precomputed=S,this},g.prototype._hasDoubles=function(_){if(!this.precomputed)return!1;var S=this.precomputed.doubles;return S?S.points.length>=Math.ceil((_.bitLength()+1)/S.step):!1},g.prototype._getDoubles=function(_,S){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var y=[this],A=this,R=0;R<S;R+=_){for(var B=0;B<_;B++)A=A.dbl();y.push(A)}return{step:_,points:y}},g.prototype._getNAFPoints=function(_){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var S=[this],y=(1<<_)-1,A=y===1?null:this.dbl(),R=1;R<y;R++)S[R]=S[R-1].add(A);return{wnd:_,points:S}},g.prototype._getBeta=function(){return null},g.prototype.dblp=function(_){for(var S=this,y=0;y<_;y++)S=S.dbl();return S},base$1}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var r=requireUtils$1(),e=requireBn$3(),a=requireInherits_browser(),u=requireBase$1(),d=r.assert;function s(_){u.call(this,"short",_),this.a=new e(_.a,16).toRed(this.red),this.b=new e(_.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(_),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}a(s,u),short=s,s.prototype._getEndomorphism=function(S){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var y,A;if(S.beta)y=new e(S.beta,16).toRed(this.red);else{var R=this._getEndoRoots(this.p);y=R[0].cmp(R[1])<0?R[0]:R[1],y=y.toRed(this.red)}if(S.lambda)A=new e(S.lambda,16);else{var B=this._getEndoRoots(this.n);this.g.mul(B[0]).x.cmp(this.g.x.redMul(y))===0?A=B[0]:(A=B[1],d(this.g.mul(A).x.cmp(this.g.x.redMul(y))===0))}var q;return S.basis?q=S.basis.map(function(C){return{a:new e(C.a,16),b:new e(C.b,16)}}):q=this._getEndoBasis(A),{beta:y,lambda:A,basis:q}}},s.prototype._getEndoRoots=function(S){var y=S===this.p?this.red:e.mont(S),A=new e(2).toRed(y).redInvm(),R=A.redNeg(),B=new e(3).toRed(y).redNeg().redSqrt().redMul(A),q=R.redAdd(B).fromRed(),C=R.redSub(B).fromRed();return[q,C]},s.prototype._getEndoBasis=function(S){for(var y=this.n.ushrn(Math.floor(this.n.bitLength()/2)),A=S,R=this.n.clone(),B=new e(1),q=new e(0),C=new e(0),N=new e(1),k,L,U,j,ee,se,Ee,ge=0,oe,Le;A.cmpn(0)!==0;){var E=R.div(A);oe=R.sub(E.mul(A)),Le=C.sub(E.mul(B));var t=N.sub(E.mul(q));if(!U&&oe.cmp(y)<0)k=Ee.neg(),L=B,U=oe.neg(),j=Le;else if(U&&++ge===2)break;Ee=oe,R=A,A=oe,C=B,B=Le,N=q,q=t}ee=oe.neg(),se=Le;var o=U.sqr().add(j.sqr()),c=ee.sqr().add(se.sqr());return c.cmp(o)>=0&&(ee=k,se=L),U.negative&&(U=U.neg(),j=j.neg()),ee.negative&&(ee=ee.neg(),se=se.neg()),[{a:U,b:j},{a:ee,b:se}]},s.prototype._endoSplit=function(S){var y=this.endo.basis,A=y[0],R=y[1],B=R.b.mul(S).divRound(this.n),q=A.b.neg().mul(S).divRound(this.n),C=B.mul(A.a),N=q.mul(R.a),k=B.mul(A.b),L=q.mul(R.b),U=S.sub(C).sub(N),j=k.add(L).neg();return{k1:U,k2:j}},s.prototype.pointFromX=function(S,y){S=new e(S,16),S.red||(S=S.toRed(this.red));var A=S.redSqr().redMul(S).redIAdd(S.redMul(this.a)).redIAdd(this.b),R=A.redSqrt();if(R.redSqr().redSub(A).cmp(this.zero)!==0)throw new Error("invalid point");var B=R.fromRed().isOdd();return(y&&!B||!y&&B)&&(R=R.redNeg()),this.point(S,R)},s.prototype.validate=function(S){if(S.inf)return!0;var y=S.x,A=S.y,R=this.a.redMul(y),B=y.redSqr().redMul(y).redIAdd(R).redIAdd(this.b);return A.redSqr().redISub(B).cmpn(0)===0},s.prototype._endoWnafMulAdd=function(S,y,A){for(var R=this._endoWnafT1,B=this._endoWnafT2,q=0;q<S.length;q++){var C=this._endoSplit(y[q]),N=S[q],k=N._getBeta();C.k1.negative&&(C.k1.ineg(),N=N.neg(!0)),C.k2.negative&&(C.k2.ineg(),k=k.neg(!0)),R[q*2]=N,R[q*2+1]=k,B[q*2]=C.k1,B[q*2+1]=C.k2}for(var L=this._wnafMulAdd(1,R,B,q*2,A),U=0;U<q*2;U++)R[U]=null,B[U]=null;return L};function g(_,S,y,A){u.BasePoint.call(this,_,"affine"),S===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(S,16),this.y=new e(y,16),A&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}a(g,u.BasePoint),s.prototype.point=function(S,y,A){return new g(this,S,y,A)},s.prototype.pointFromJSON=function(S,y){return g.fromJSON(this,S,y)},g.prototype._getBeta=function(){if(this.curve.endo){var S=this.precomputed;if(S&&S.beta)return S.beta;var y=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(S){var A=this.curve,R=function(B){return A.point(B.x.redMul(A.endo.beta),B.y)};S.beta=y,y.precomputed={beta:null,naf:S.naf&&{wnd:S.naf.wnd,points:S.naf.points.map(R)},doubles:S.doubles&&{step:S.doubles.step,points:S.doubles.points.map(R)}}}return y}},g.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},g.fromJSON=function(S,y,A){typeof y=="string"&&(y=JSON.parse(y));var R=S.point(y[0],y[1],A);if(!y[2])return R;function B(C){return S.point(C[0],C[1],A)}var q=y[2];return R.precomputed={beta:null,doubles:q.doubles&&{step:q.doubles.step,points:[R].concat(q.doubles.points.map(B))},naf:q.naf&&{wnd:q.naf.wnd,points:[R].concat(q.naf.points.map(B))}},R},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return this.inf},g.prototype.add=function(S){if(this.inf)return S;if(S.inf)return this;if(this.eq(S))return this.dbl();if(this.neg().eq(S))return this.curve.point(null,null);if(this.x.cmp(S.x)===0)return this.curve.point(null,null);var y=this.y.redSub(S.y);y.cmpn(0)!==0&&(y=y.redMul(this.x.redSub(S.x).redInvm()));var A=y.redSqr().redISub(this.x).redISub(S.x),R=y.redMul(this.x.redSub(A)).redISub(this.y);return this.curve.point(A,R)},g.prototype.dbl=function(){if(this.inf)return this;var S=this.y.redAdd(this.y);if(S.cmpn(0)===0)return this.curve.point(null,null);var y=this.curve.a,A=this.x.redSqr(),R=S.redInvm(),B=A.redAdd(A).redIAdd(A).redIAdd(y).redMul(R),q=B.redSqr().redISub(this.x.redAdd(this.x)),C=B.redMul(this.x.redSub(q)).redISub(this.y);return this.curve.point(q,C)},g.prototype.getX=function(){return this.x.fromRed()},g.prototype.getY=function(){return this.y.fromRed()},g.prototype.mul=function(S){return S=new e(S,16),this.isInfinity()?this:this._hasDoubles(S)?this.curve._fixedNafMul(this,S):this.curve.endo?this.curve._endoWnafMulAdd([this],[S]):this.curve._wnafMul(this,S)},g.prototype.mulAdd=function(S,y,A){var R=[this,y],B=[S,A];return this.curve.endo?this.curve._endoWnafMulAdd(R,B):this.curve._wnafMulAdd(1,R,B,2)},g.prototype.jmulAdd=function(S,y,A){var R=[this,y],B=[S,A];return this.curve.endo?this.curve._endoWnafMulAdd(R,B,!0):this.curve._wnafMulAdd(1,R,B,2,!0)},g.prototype.eq=function(S){return this===S||this.inf===S.inf&&(this.inf||this.x.cmp(S.x)===0&&this.y.cmp(S.y)===0)},g.prototype.neg=function(S){if(this.inf)return this;var y=this.curve.point(this.x,this.y.redNeg());if(S&&this.precomputed){var A=this.precomputed,R=function(B){return B.neg()};y.precomputed={naf:A.naf&&{wnd:A.naf.wnd,points:A.naf.points.map(R)},doubles:A.doubles&&{step:A.doubles.step,points:A.doubles.points.map(R)}}}return y},g.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var S=this.curve.jpoint(this.x,this.y,this.curve.one);return S};function x(_,S,y,A){u.BasePoint.call(this,_,"jacobian"),S===null&&y===null&&A===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(S,16),this.y=new e(y,16),this.z=new e(A,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return a(x,u.BasePoint),s.prototype.jpoint=function(S,y,A){return new x(this,S,y,A)},x.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var S=this.z.redInvm(),y=S.redSqr(),A=this.x.redMul(y),R=this.y.redMul(y).redMul(S);return this.curve.point(A,R)},x.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},x.prototype.add=function(S){if(this.isInfinity())return S;if(S.isInfinity())return this;var y=S.z.redSqr(),A=this.z.redSqr(),R=this.x.redMul(y),B=S.x.redMul(A),q=this.y.redMul(y.redMul(S.z)),C=S.y.redMul(A.redMul(this.z)),N=R.redSub(B),k=q.redSub(C);if(N.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var L=N.redSqr(),U=L.redMul(N),j=R.redMul(L),ee=k.redSqr().redIAdd(U).redISub(j).redISub(j),se=k.redMul(j.redISub(ee)).redISub(q.redMul(U)),Ee=this.z.redMul(S.z).redMul(N);return this.curve.jpoint(ee,se,Ee)},x.prototype.mixedAdd=function(S){if(this.isInfinity())return S.toJ();if(S.isInfinity())return this;var y=this.z.redSqr(),A=this.x,R=S.x.redMul(y),B=this.y,q=S.y.redMul(y).redMul(this.z),C=A.redSub(R),N=B.redSub(q);if(C.cmpn(0)===0)return N.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=C.redSqr(),L=k.redMul(C),U=A.redMul(k),j=N.redSqr().redIAdd(L).redISub(U).redISub(U),ee=N.redMul(U.redISub(j)).redISub(B.redMul(L)),se=this.z.redMul(C);return this.curve.jpoint(j,ee,se)},x.prototype.dblp=function(S){if(S===0)return this;if(this.isInfinity())return this;if(!S)return this.dbl();var y;if(this.curve.zeroA||this.curve.threeA){var A=this;for(y=0;y<S;y++)A=A.dbl();return A}var R=this.curve.a,B=this.curve.tinv,q=this.x,C=this.y,N=this.z,k=N.redSqr().redSqr(),L=C.redAdd(C);for(y=0;y<S;y++){var U=q.redSqr(),j=L.redSqr(),ee=j.redSqr(),se=U.redAdd(U).redIAdd(U).redIAdd(R.redMul(k)),Ee=q.redMul(j),ge=se.redSqr().redISub(Ee.redAdd(Ee)),oe=Ee.redISub(ge),Le=se.redMul(oe);Le=Le.redIAdd(Le).redISub(ee);var E=L.redMul(N);y+1<S&&(k=k.redMul(ee)),q=ge,N=E,L=Le}return this.curve.jpoint(q,L.redMul(B),N)},x.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},x.prototype._zeroDbl=function(){var S,y,A;if(this.zOne){var R=this.x.redSqr(),B=this.y.redSqr(),q=B.redSqr(),C=this.x.redAdd(B).redSqr().redISub(R).redISub(q);C=C.redIAdd(C);var N=R.redAdd(R).redIAdd(R),k=N.redSqr().redISub(C).redISub(C),L=q.redIAdd(q);L=L.redIAdd(L),L=L.redIAdd(L),S=k,y=N.redMul(C.redISub(k)).redISub(L),A=this.y.redAdd(this.y)}else{var U=this.x.redSqr(),j=this.y.redSqr(),ee=j.redSqr(),se=this.x.redAdd(j).redSqr().redISub(U).redISub(ee);se=se.redIAdd(se);var Ee=U.redAdd(U).redIAdd(U),ge=Ee.redSqr(),oe=ee.redIAdd(ee);oe=oe.redIAdd(oe),oe=oe.redIAdd(oe),S=ge.redISub(se).redISub(se),y=Ee.redMul(se.redISub(S)).redISub(oe),A=this.y.redMul(this.z),A=A.redIAdd(A)}return this.curve.jpoint(S,y,A)},x.prototype._threeDbl=function(){var S,y,A;if(this.zOne){var R=this.x.redSqr(),B=this.y.redSqr(),q=B.redSqr(),C=this.x.redAdd(B).redSqr().redISub(R).redISub(q);C=C.redIAdd(C);var N=R.redAdd(R).redIAdd(R).redIAdd(this.curve.a),k=N.redSqr().redISub(C).redISub(C);S=k;var L=q.redIAdd(q);L=L.redIAdd(L),L=L.redIAdd(L),y=N.redMul(C.redISub(k)).redISub(L),A=this.y.redAdd(this.y)}else{var U=this.z.redSqr(),j=this.y.redSqr(),ee=this.x.redMul(j),se=this.x.redSub(U).redMul(this.x.redAdd(U));se=se.redAdd(se).redIAdd(se);var Ee=ee.redIAdd(ee);Ee=Ee.redIAdd(Ee);var ge=Ee.redAdd(Ee);S=se.redSqr().redISub(ge),A=this.y.redAdd(this.z).redSqr().redISub(j).redISub(U);var oe=j.redSqr();oe=oe.redIAdd(oe),oe=oe.redIAdd(oe),oe=oe.redIAdd(oe),y=se.redMul(Ee.redISub(S)).redISub(oe)}return this.curve.jpoint(S,y,A)},x.prototype._dbl=function(){var S=this.curve.a,y=this.x,A=this.y,R=this.z,B=R.redSqr().redSqr(),q=y.redSqr(),C=A.redSqr(),N=q.redAdd(q).redIAdd(q).redIAdd(S.redMul(B)),k=y.redAdd(y);k=k.redIAdd(k);var L=k.redMul(C),U=N.redSqr().redISub(L.redAdd(L)),j=L.redISub(U),ee=C.redSqr();ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),ee=ee.redIAdd(ee);var se=N.redMul(j).redISub(ee),Ee=A.redAdd(A).redMul(R);return this.curve.jpoint(U,se,Ee)},x.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var S=this.x.redSqr(),y=this.y.redSqr(),A=this.z.redSqr(),R=y.redSqr(),B=S.redAdd(S).redIAdd(S),q=B.redSqr(),C=this.x.redAdd(y).redSqr().redISub(S).redISub(R);C=C.redIAdd(C),C=C.redAdd(C).redIAdd(C),C=C.redISub(q);var N=C.redSqr(),k=R.redIAdd(R);k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var L=B.redIAdd(C).redSqr().redISub(q).redISub(N).redISub(k),U=y.redMul(L);U=U.redIAdd(U),U=U.redIAdd(U);var j=this.x.redMul(N).redISub(U);j=j.redIAdd(j),j=j.redIAdd(j);var ee=this.y.redMul(L.redMul(k.redISub(L)).redISub(C.redMul(N)));ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),ee=ee.redIAdd(ee);var se=this.z.redAdd(C).redSqr().redISub(A).redISub(N);return this.curve.jpoint(j,ee,se)},x.prototype.mul=function(S,y){return S=new e(S,y),this.curve._wnafMul(this,S)},x.prototype.eq=function(S){if(S.type==="affine")return this.eq(S.toJ());if(this===S)return!0;var y=this.z.redSqr(),A=S.z.redSqr();if(this.x.redMul(A).redISub(S.x.redMul(y)).cmpn(0)!==0)return!1;var R=y.redMul(this.z),B=A.redMul(S.z);return this.y.redMul(B).redISub(S.y.redMul(R)).cmpn(0)===0},x.prototype.eqXToP=function(S){var y=this.z.redSqr(),A=S.toRed(this.curve.red).redMul(y);if(this.x.cmp(A)===0)return!0;for(var R=S.clone(),B=this.curve.redN.redMul(y);;){if(R.iadd(this.curve.n),R.cmp(this.curve.p)>=0)return!1;if(A.redIAdd(B),this.x.cmp(A)===0)return!0}},x.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},x.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var r=requireBn$3(),e=requireInherits_browser(),a=requireBase$1(),u=requireUtils$1();function d(g){a.call(this,"mont",g),this.a=new r(g.a,16).toRed(this.red),this.b=new r(g.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(d,a),mont=d,d.prototype.validate=function(x){var _=x.normalize().x,S=_.redSqr(),y=S.redMul(_).redAdd(S.redMul(this.a)).redAdd(_),A=y.redSqrt();return A.redSqr().cmp(y)===0};function s(g,x,_){a.BasePoint.call(this,g,"projective"),x===null&&_===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(x,16),this.z=new r(_,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(s,a.BasePoint),d.prototype.decodePoint=function(x,_){return this.point(u.toArray(x,_),1)},d.prototype.point=function(x,_){return new s(this,x,_)},d.prototype.pointFromJSON=function(x){return s.fromJSON(this,x)},s.prototype.precompute=function(){},s.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},s.fromJSON=function(x,_){return new s(x,_[0],_[1]||x.one)},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.z.cmpn(0)===0},s.prototype.dbl=function(){var x=this.x.redAdd(this.z),_=x.redSqr(),S=this.x.redSub(this.z),y=S.redSqr(),A=_.redSub(y),R=_.redMul(y),B=A.redMul(y.redAdd(this.curve.a24.redMul(A)));return this.curve.point(R,B)},s.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.diffAdd=function(x,_){var S=this.x.redAdd(this.z),y=this.x.redSub(this.z),A=x.x.redAdd(x.z),R=x.x.redSub(x.z),B=R.redMul(S),q=A.redMul(y),C=_.z.redMul(B.redAdd(q).redSqr()),N=_.x.redMul(B.redISub(q).redSqr());return this.curve.point(C,N)},s.prototype.mul=function(x){for(var _=x.clone(),S=this,y=this.curve.point(null,null),A=this,R=[];_.cmpn(0)!==0;_.iushrn(1))R.push(_.andln(1));for(var B=R.length-1;B>=0;B--)R[B]===0?(S=S.diffAdd(y,A),y=y.dbl()):(y=S.diffAdd(y,A),S=S.dbl());return y},s.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.eq=function(x){return this.getX().cmp(x.getX())===0},s.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var r=requireUtils$1(),e=requireBn$3(),a=requireInherits_browser(),u=requireBase$1(),d=r.assert;function s(x){this.twisted=(x.a|0)!==1,this.mOneA=this.twisted&&(x.a|0)===-1,this.extended=this.mOneA,u.call(this,"edwards",x),this.a=new e(x.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(x.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(x.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),d(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(x.c|0)===1}a(s,u),edwards=s,s.prototype._mulA=function(_){return this.mOneA?_.redNeg():this.a.redMul(_)},s.prototype._mulC=function(_){return this.oneC?_:this.c.redMul(_)},s.prototype.jpoint=function(_,S,y,A){return this.point(_,S,y,A)},s.prototype.pointFromX=function(_,S){_=new e(_,16),_.red||(_=_.toRed(this.red));var y=_.redSqr(),A=this.c2.redSub(this.a.redMul(y)),R=this.one.redSub(this.c2.redMul(this.d).redMul(y)),B=A.redMul(R.redInvm()),q=B.redSqrt();if(q.redSqr().redSub(B).cmp(this.zero)!==0)throw new Error("invalid point");var C=q.fromRed().isOdd();return(S&&!C||!S&&C)&&(q=q.redNeg()),this.point(_,q)},s.prototype.pointFromY=function(_,S){_=new e(_,16),_.red||(_=_.toRed(this.red));var y=_.redSqr(),A=y.redSub(this.c2),R=y.redMul(this.d).redMul(this.c2).redSub(this.a),B=A.redMul(R.redInvm());if(B.cmp(this.zero)===0){if(S)throw new Error("invalid point");return this.point(this.zero,_)}var q=B.redSqrt();if(q.redSqr().redSub(B).cmp(this.zero)!==0)throw new Error("invalid point");return q.fromRed().isOdd()!==S&&(q=q.redNeg()),this.point(q,_)},s.prototype.validate=function(_){if(_.isInfinity())return!0;_.normalize();var S=_.x.redSqr(),y=_.y.redSqr(),A=S.redMul(this.a).redAdd(y),R=this.c2.redMul(this.one.redAdd(this.d.redMul(S).redMul(y)));return A.cmp(R)===0};function g(x,_,S,y,A){u.BasePoint.call(this,x,"projective"),_===null&&S===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(_,16),this.y=new e(S,16),this.z=y?new e(y,16):this.curve.one,this.t=A&&new e(A,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return a(g,u.BasePoint),s.prototype.pointFromJSON=function(_){return g.fromJSON(this,_)},s.prototype.point=function(_,S,y,A){return new g(this,_,S,y,A)},g.fromJSON=function(_,S){return new g(_,S[0],S[1],S[2])},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},g.prototype._extDbl=function(){var _=this.x.redSqr(),S=this.y.redSqr(),y=this.z.redSqr();y=y.redIAdd(y);var A=this.curve._mulA(_),R=this.x.redAdd(this.y).redSqr().redISub(_).redISub(S),B=A.redAdd(S),q=B.redSub(y),C=A.redSub(S),N=R.redMul(q),k=B.redMul(C),L=R.redMul(C),U=q.redMul(B);return this.curve.point(N,k,U,L)},g.prototype._projDbl=function(){var _=this.x.redAdd(this.y).redSqr(),S=this.x.redSqr(),y=this.y.redSqr(),A,R,B,q,C,N;if(this.curve.twisted){q=this.curve._mulA(S);var k=q.redAdd(y);this.zOne?(A=_.redSub(S).redSub(y).redMul(k.redSub(this.curve.two)),R=k.redMul(q.redSub(y)),B=k.redSqr().redSub(k).redSub(k)):(C=this.z.redSqr(),N=k.redSub(C).redISub(C),A=_.redSub(S).redISub(y).redMul(N),R=k.redMul(q.redSub(y)),B=k.redMul(N))}else q=S.redAdd(y),C=this.curve._mulC(this.z).redSqr(),N=q.redSub(C).redSub(C),A=this.curve._mulC(_.redISub(q)).redMul(N),R=this.curve._mulC(q).redMul(S.redISub(y)),B=q.redMul(N);return this.curve.point(A,R,B)},g.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},g.prototype._extAdd=function(_){var S=this.y.redSub(this.x).redMul(_.y.redSub(_.x)),y=this.y.redAdd(this.x).redMul(_.y.redAdd(_.x)),A=this.t.redMul(this.curve.dd).redMul(_.t),R=this.z.redMul(_.z.redAdd(_.z)),B=y.redSub(S),q=R.redSub(A),C=R.redAdd(A),N=y.redAdd(S),k=B.redMul(q),L=C.redMul(N),U=B.redMul(N),j=q.redMul(C);return this.curve.point(k,L,j,U)},g.prototype._projAdd=function(_){var S=this.z.redMul(_.z),y=S.redSqr(),A=this.x.redMul(_.x),R=this.y.redMul(_.y),B=this.curve.d.redMul(A).redMul(R),q=y.redSub(B),C=y.redAdd(B),N=this.x.redAdd(this.y).redMul(_.x.redAdd(_.y)).redISub(A).redISub(R),k=S.redMul(q).redMul(N),L,U;return this.curve.twisted?(L=S.redMul(C).redMul(R.redSub(this.curve._mulA(A))),U=q.redMul(C)):(L=S.redMul(C).redMul(R.redSub(A)),U=this.curve._mulC(q).redMul(C)),this.curve.point(k,L,U)},g.prototype.add=function(_){return this.isInfinity()?_:_.isInfinity()?this:this.curve.extended?this._extAdd(_):this._projAdd(_)},g.prototype.mul=function(_){return this._hasDoubles(_)?this.curve._fixedNafMul(this,_):this.curve._wnafMul(this,_)},g.prototype.mulAdd=function(_,S,y){return this.curve._wnafMulAdd(1,[this,S],[_,y],2,!1)},g.prototype.jmulAdd=function(_,S,y){return this.curve._wnafMulAdd(1,[this,S],[_,y],2,!0)},g.prototype.normalize=function(){if(this.zOne)return this;var _=this.z.redInvm();return this.x=this.x.redMul(_),this.y=this.y.redMul(_),this.t&&(this.t=this.t.redMul(_)),this.z=this.curve.one,this.zOne=!0,this},g.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},g.prototype.getX=function(){return this.normalize(),this.x.fromRed()},g.prototype.getY=function(){return this.normalize(),this.y.fromRed()},g.prototype.eq=function(_){return this===_||this.getX().cmp(_.getX())===0&&this.getY().cmp(_.getY())===0},g.prototype.eqXToP=function(_){var S=_.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(S)===0)return!0;for(var y=_.clone(),A=this.curve.redN.redMul(this.z);;){if(y.iadd(this.curve.n),y.cmp(this.curve.p)>=0)return!1;if(S.redIAdd(A),this.x.cmp(S)===0)return!0}},g.prototype.toP=g.prototype.normalize,g.prototype.mixedAdd=g.prototype.add,edwards}var hasRequiredCurve$1;function requireCurve$1(){return hasRequiredCurve$1||(hasRequiredCurve$1=1,function(r){var e=r;e.base=requireBase$1(),e.short=requireShort(),e.mont=requireMont(),e.edwards=requireEdwards()}(curve$1)),curve$1}var curves={},hash={},utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var r=requireMinimalisticAssert(),e=requireInherits_browser();utils.inherits=e;function a(t,o){return(t.charCodeAt(o)&64512)!==55296||o<0||o+1>=t.length?!1:(t.charCodeAt(o+1)&64512)===56320}function u(t,o){if(Array.isArray(t))return t.slice();if(!t)return[];var c=[];if(typeof t=="string")if(o){if(o==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),v=0;v<t.length;v+=2)c.push(parseInt(t[v]+t[v+1],16))}else for(var l=0,v=0;v<t.length;v++){var w=t.charCodeAt(v);w<128?c[l++]=w:w<2048?(c[l++]=w>>6|192,c[l++]=w&63|128):a(t,v)?(w=65536+((w&1023)<<10)+(t.charCodeAt(++v)&1023),c[l++]=w>>18|240,c[l++]=w>>12&63|128,c[l++]=w>>6&63|128,c[l++]=w&63|128):(c[l++]=w>>12|224,c[l++]=w>>6&63|128,c[l++]=w&63|128)}else for(v=0;v<t.length;v++)c[v]=t[v]|0;return c}utils.toArray=u;function d(t){for(var o="",c=0;c<t.length;c++)o+=x(t[c].toString(16));return o}utils.toHex=d;function s(t){var o=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return o>>>0}utils.htonl=s;function g(t,o){for(var c="",l=0;l<t.length;l++){var v=t[l];o==="little"&&(v=s(v)),c+=_(v.toString(16))}return c}utils.toHex32=g;function x(t){return t.length===1?"0"+t:t}utils.zero2=x;function _(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}utils.zero8=_;function S(t,o,c,l){var v=c-o;r(v%4===0);for(var w=new Array(v/4),M=0,m=o;M<w.length;M++,m+=4){var n;l==="big"?n=t[m]<<24|t[m+1]<<16|t[m+2]<<8|t[m+3]:n=t[m+3]<<24|t[m+2]<<16|t[m+1]<<8|t[m],w[M]=n>>>0}return w}utils.join32=S;function y(t,o){for(var c=new Array(t.length*4),l=0,v=0;l<t.length;l++,v+=4){var w=t[l];o==="big"?(c[v]=w>>>24,c[v+1]=w>>>16&255,c[v+2]=w>>>8&255,c[v+3]=w&255):(c[v+3]=w>>>24,c[v+2]=w>>>16&255,c[v+1]=w>>>8&255,c[v]=w&255)}return c}utils.split32=y;function A(t,o){return t>>>o|t<<32-o}utils.rotr32=A;function R(t,o){return t<<o|t>>>32-o}utils.rotl32=R;function B(t,o){return t+o>>>0}utils.sum32=B;function q(t,o,c){return t+o+c>>>0}utils.sum32_3=q;function C(t,o,c,l){return t+o+c+l>>>0}utils.sum32_4=C;function N(t,o,c,l,v){return t+o+c+l+v>>>0}utils.sum32_5=N;function k(t,o,c,l){var v=t[o],w=t[o+1],M=l+w>>>0,m=(M<l?1:0)+c+v;t[o]=m>>>0,t[o+1]=M}utils.sum64=k;function L(t,o,c,l){var v=o+l>>>0,w=(v<o?1:0)+t+c;return w>>>0}utils.sum64_hi=L;function U(t,o,c,l){var v=o+l;return v>>>0}utils.sum64_lo=U;function j(t,o,c,l,v,w,M,m){var n=0,b=o;b=b+l>>>0,n+=b<o?1:0,b=b+w>>>0,n+=b<w?1:0,b=b+m>>>0,n+=b<m?1:0;var P=t+c+v+M+n;return P>>>0}utils.sum64_4_hi=j;function ee(t,o,c,l,v,w,M,m){var n=o+l+w+m;return n>>>0}utils.sum64_4_lo=ee;function se(t,o,c,l,v,w,M,m,n,b){var P=0,I=o;I=I+l>>>0,P+=I<o?1:0,I=I+w>>>0,P+=I<w?1:0,I=I+m>>>0,P+=I<m?1:0,I=I+b>>>0,P+=I<b?1:0;var F=t+c+v+M+n+P;return F>>>0}utils.sum64_5_hi=se;function Ee(t,o,c,l,v,w,M,m,n,b){var P=o+l+w+m+b;return P>>>0}utils.sum64_5_lo=Ee;function ge(t,o,c){var l=o<<32-c|t>>>c;return l>>>0}utils.rotr64_hi=ge;function oe(t,o,c){var l=t<<32-c|o>>>c;return l>>>0}utils.rotr64_lo=oe;function Le(t,o,c){return t>>>c}utils.shr64_hi=Le;function E(t,o,c){var l=t<<32-c|o>>>c;return l>>>0}return utils.shr64_lo=E,utils}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var r=requireUtils(),e=requireMinimalisticAssert();function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=a,a.prototype.update=function(d,s){if(d=r.toArray(d,s),this.pending?this.pending=this.pending.concat(d):this.pending=d,this.pendingTotal+=d.length,this.pending.length>=this._delta8){d=this.pending;var g=d.length%this._delta8;this.pending=d.slice(d.length-g,d.length),this.pending.length===0&&(this.pending=null),d=r.join32(d,0,d.length-g,this.endian);for(var x=0;x<d.length;x+=this._delta32)this._update(d,x,x+this._delta32)}return this},a.prototype.digest=function(d){return this.update(this._pad()),e(this.pending===null),this._digest(d)},a.prototype._pad=function(){var d=this.pendingTotal,s=this._delta8,g=s-(d+this.padLength)%s,x=new Array(g+this.padLength);x[0]=128;for(var _=1;_<g;_++)x[_]=0;if(d<<=3,this.endian==="big"){for(var S=8;S<this.padLength;S++)x[_++]=0;x[_++]=0,x[_++]=0,x[_++]=0,x[_++]=0,x[_++]=d>>>24&255,x[_++]=d>>>16&255,x[_++]=d>>>8&255,x[_++]=d&255}else for(x[_++]=d&255,x[_++]=d>>>8&255,x[_++]=d>>>16&255,x[_++]=d>>>24&255,x[_++]=0,x[_++]=0,x[_++]=0,x[_++]=0,S=8;S<this.padLength;S++)x[_++]=0;return x},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var r=requireUtils(),e=r.rotr32;function a(y,A,R,B){if(y===0)return u(A,R,B);if(y===1||y===3)return s(A,R,B);if(y===2)return d(A,R,B)}common.ft_1=a;function u(y,A,R){return y&A^~y&R}common.ch32=u;function d(y,A,R){return y&A^y&R^A&R}common.maj32=d;function s(y,A,R){return y^A^R}common.p32=s;function g(y){return e(y,2)^e(y,13)^e(y,22)}common.s0_256=g;function x(y){return e(y,6)^e(y,11)^e(y,25)}common.s1_256=x;function _(y){return e(y,7)^e(y,18)^y>>>3}common.g0_256=_;function S(y){return e(y,17)^e(y,19)^y>>>10}return common.g1_256=S,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var r=requireUtils(),e=requireCommon$1(),a=requireCommon(),u=r.rotl32,d=r.sum32,s=r.sum32_5,g=a.ft_1,x=e.BlockHash,_=[1518500249,1859775393,2400959708,3395469782];function S(){if(!(this instanceof S))return new S;x.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(S,x),_1=S,S.blockSize=512,S.outSize=160,S.hmacStrength=80,S.padLength=64,S.prototype._update=function(A,R){for(var B=this.W,q=0;q<16;q++)B[q]=A[R+q];for(;q<B.length;q++)B[q]=u(B[q-3]^B[q-8]^B[q-14]^B[q-16],1);var C=this.h[0],N=this.h[1],k=this.h[2],L=this.h[3],U=this.h[4];for(q=0;q<B.length;q++){var j=~~(q/20),ee=s(u(C,5),g(j,N,k,L),U,B[q],_[j]);U=L,L=k,k=u(N,30),N=C,C=ee}this.h[0]=d(this.h[0],C),this.h[1]=d(this.h[1],N),this.h[2]=d(this.h[2],k),this.h[3]=d(this.h[3],L),this.h[4]=d(this.h[4],U)},S.prototype._digest=function(A){return A==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var r=requireUtils(),e=requireCommon$1(),a=requireCommon(),u=requireMinimalisticAssert(),d=r.sum32,s=r.sum32_4,g=r.sum32_5,x=a.ch32,_=a.maj32,S=a.s0_256,y=a.s1_256,A=a.g0_256,R=a.g1_256,B=e.BlockHash,q=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;B.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=q,this.W=new Array(64)}return r.inherits(C,B),_256=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(k,L){for(var U=this.W,j=0;j<16;j++)U[j]=k[L+j];for(;j<U.length;j++)U[j]=s(R(U[j-2]),U[j-7],A(U[j-15]),U[j-16]);var ee=this.h[0],se=this.h[1],Ee=this.h[2],ge=this.h[3],oe=this.h[4],Le=this.h[5],E=this.h[6],t=this.h[7];for(u(this.k.length===U.length),j=0;j<U.length;j++){var o=g(t,y(oe),x(oe,Le,E),this.k[j],U[j]),c=d(S(ee),_(ee,se,Ee));t=E,E=Le,Le=oe,oe=d(ge,o),ge=Ee,Ee=se,se=ee,ee=d(o,c)}this.h[0]=d(this.h[0],ee),this.h[1]=d(this.h[1],se),this.h[2]=d(this.h[2],Ee),this.h[3]=d(this.h[3],ge),this.h[4]=d(this.h[4],oe),this.h[5]=d(this.h[5],Le),this.h[6]=d(this.h[6],E),this.h[7]=d(this.h[7],t)},C.prototype._digest=function(k){return k==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var r=requireUtils(),e=require_256();function a(){if(!(this instanceof a))return new a;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(a,e),_224=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(d){return d==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var r=requireUtils(),e=requireCommon$1(),a=requireMinimalisticAssert(),u=r.rotr64_hi,d=r.rotr64_lo,s=r.shr64_hi,g=r.shr64_lo,x=r.sum64,_=r.sum64_hi,S=r.sum64_lo,y=r.sum64_4_hi,A=r.sum64_4_lo,R=r.sum64_5_hi,B=r.sum64_5_lo,q=e.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function N(){if(!(this instanceof N))return new N;q.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}r.inherits(N,q),_512=N,N.blockSize=1024,N.outSize=512,N.hmacStrength=192,N.padLength=128,N.prototype._prepareBlock=function(c,l){for(var v=this.W,w=0;w<32;w++)v[w]=c[l+w];for(;w<v.length;w+=2){var M=E(v[w-4],v[w-3]),m=t(v[w-4],v[w-3]),n=v[w-14],b=v[w-13],P=oe(v[w-30],v[w-29]),I=Le(v[w-30],v[w-29]),F=v[w-32],Y=v[w-31];v[w]=y(M,m,n,b,P,I,F,Y),v[w+1]=A(M,m,n,b,P,I,F,Y)}},N.prototype._update=function(c,l){this._prepareBlock(c,l);var v=this.W,w=this.h[0],M=this.h[1],m=this.h[2],n=this.h[3],b=this.h[4],P=this.h[5],I=this.h[6],F=this.h[7],Y=this.h[8],X=this.h[9],T=this.h[10],K=this.h[11],W=this.h[12],ne=this.h[13],ie=this.h[14],G=this.h[15];a(this.k.length===v.length);for(var H=0;H<v.length;H+=2){var fe=ie,he=G,ve=Ee(Y,X),ke=ge(Y,X),Me=k(Y,X,T,K,W),le=L(Y,X,T,K,W,ne),Ze=this.k[H],_e=this.k[H+1],Se=v[H],tt=v[H+1],Ae=R(fe,he,ve,ke,Me,le,Ze,_e,Se,tt),Pe=B(fe,he,ve,ke,Me,le,Ze,_e,Se,tt);fe=ee(w,M),he=se(w,M),ve=U(w,M,m,n,b),ke=j(w,M,m,n,b,P);var ot=_(fe,he,ve,ke),Oe=S(fe,he,ve,ke);ie=W,G=ne,W=T,ne=K,T=Y,K=X,Y=_(I,F,Ae,Pe),X=S(F,F,Ae,Pe),I=b,F=P,b=m,P=n,m=w,n=M,w=_(Ae,Pe,ot,Oe),M=S(Ae,Pe,ot,Oe)}x(this.h,0,w,M),x(this.h,2,m,n),x(this.h,4,b,P),x(this.h,6,I,F),x(this.h,8,Y,X),x(this.h,10,T,K),x(this.h,12,W,ne),x(this.h,14,ie,G)},N.prototype._digest=function(c){return c==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function k(o,c,l,v,w){var M=o&l^~o&w;return M<0&&(M+=4294967296),M}function L(o,c,l,v,w,M){var m=c&v^~c&M;return m<0&&(m+=4294967296),m}function U(o,c,l,v,w){var M=o&l^o&w^l&w;return M<0&&(M+=4294967296),M}function j(o,c,l,v,w,M){var m=c&v^c&M^v&M;return m<0&&(m+=4294967296),m}function ee(o,c){var l=u(o,c,28),v=u(c,o,2),w=u(c,o,7),M=l^v^w;return M<0&&(M+=4294967296),M}function se(o,c){var l=d(o,c,28),v=d(c,o,2),w=d(c,o,7),M=l^v^w;return M<0&&(M+=4294967296),M}function Ee(o,c){var l=u(o,c,14),v=u(o,c,18),w=u(c,o,9),M=l^v^w;return M<0&&(M+=4294967296),M}function ge(o,c){var l=d(o,c,14),v=d(o,c,18),w=d(c,o,9),M=l^v^w;return M<0&&(M+=4294967296),M}function oe(o,c){var l=u(o,c,1),v=u(o,c,8),w=s(o,c,7),M=l^v^w;return M<0&&(M+=4294967296),M}function Le(o,c){var l=d(o,c,1),v=d(o,c,8),w=g(o,c,7),M=l^v^w;return M<0&&(M+=4294967296),M}function E(o,c){var l=u(o,c,19),v=u(c,o,29),w=s(o,c,6),M=l^v^w;return M<0&&(M+=4294967296),M}function t(o,c){var l=d(o,c,19),v=d(c,o,29),w=g(o,c,6),M=l^v^w;return M<0&&(M+=4294967296),M}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var r=requireUtils(),e=require_512();function a(){if(!(this instanceof a))return new a;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(a,e),_384=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(d){return d==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var r=requireUtils(),e=requireCommon$1(),a=r.rotl32,u=r.sum32,d=r.sum32_3,s=r.sum32_4,g=e.BlockHash;function x(){if(!(this instanceof x))return new x;g.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(x,g),ripemd.ripemd160=x,x.blockSize=512,x.outSize=160,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(N,k){for(var L=this.h[0],U=this.h[1],j=this.h[2],ee=this.h[3],se=this.h[4],Ee=L,ge=U,oe=j,Le=ee,E=se,t=0;t<80;t++){var o=u(a(s(L,_(t,U,j,ee),N[A[t]+k],S(t)),B[t]),se);L=se,se=ee,ee=a(j,10),j=U,U=o,o=u(a(s(Ee,_(79-t,ge,oe,Le),N[R[t]+k],y(t)),q[t]),E),Ee=E,E=Le,Le=a(oe,10),oe=ge,ge=o}o=d(this.h[1],j,Le),this.h[1]=d(this.h[2],ee,E),this.h[2]=d(this.h[3],se,Ee),this.h[3]=d(this.h[4],L,ge),this.h[4]=d(this.h[0],U,oe),this.h[0]=o},x.prototype._digest=function(N){return N==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function _(C,N,k,L){return C<=15?N^k^L:C<=31?N&k|~N&L:C<=47?(N|~k)^L:C<=63?N&L|k&~L:N^(k|~L)}function S(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function y(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}var A=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],R=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],B=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],q=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var r=requireUtils(),e=requireMinimalisticAssert();function a(u,d,s){if(!(this instanceof a))return new a(u,d,s);this.Hash=u,this.blockSize=u.blockSize/8,this.outSize=u.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(d,s))}return hmac=a,a.prototype._init=function(d){d.length>this.blockSize&&(d=new this.Hash().update(d).digest()),e(d.length<=this.blockSize);for(var s=d.length;s<this.blockSize;s++)d.push(0);for(s=0;s<d.length;s++)d[s]^=54;for(this.inner=new this.Hash().update(d),s=0;s<d.length;s++)d[s]^=106;this.outer=new this.Hash().update(d)},a.prototype.update=function(d,s){return this.inner.update(d,s),this},a.prototype.digest=function(d){return this.outer.update(this.inner.digest()),this.outer.digest(d)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(r){var e=r;e.utils=requireUtils(),e.common=requireCommon$1(),e.sha=requireSha(),e.ripemd=requireRipemd(),e.hmac=requireHmac(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(r){var e=r,a=requireHash(),u=requireCurve$1(),d=requireUtils$1(),s=d.assert;function g(S){S.type==="short"?this.curve=new u.short(S):S.type==="edwards"?this.curve=new u.edwards(S):this.curve=new u.mont(S),this.g=this.curve.g,this.n=this.curve.n,this.hash=S.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=g;function x(S,y){Object.defineProperty(e,S,{configurable:!0,enumerable:!0,get:function(){var A=new g(y);return Object.defineProperty(e,S,{configurable:!0,enumerable:!0,value:A}),A}})}x("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),x("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),x("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),x("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),x("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),x("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),x("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var _;try{_=requireSecp256k1()}catch{_=void 0}x("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",_]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var r=requireHash(),e=requireUtils$2(),a=requireMinimalisticAssert();function u(d){if(!(this instanceof u))return new u(d);this.hash=d.hash,this.predResist=!!d.predResist,this.outLen=this.hash.outSize,this.minEntropy=d.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var s=e.toArray(d.entropy,d.entropyEnc||"hex"),g=e.toArray(d.nonce,d.nonceEnc||"hex"),x=e.toArray(d.pers,d.persEnc||"hex");a(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(s,g,x)}return hmacDrbg=u,u.prototype._init=function(s,g,x){var _=s.concat(g).concat(x);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var S=0;S<this.V.length;S++)this.K[S]=0,this.V[S]=1;this._update(_),this._reseed=1,this.reseedInterval=281474976710656},u.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},u.prototype._update=function(s){var g=this._hmac().update(this.V).update([0]);s&&(g=g.update(s)),this.K=g.digest(),this.V=this._hmac().update(this.V).digest(),s&&(this.K=this._hmac().update(this.V).update([1]).update(s).digest(),this.V=this._hmac().update(this.V).digest())},u.prototype.reseed=function(s,g,x,_){typeof g!="string"&&(_=x,x=g,g=null),s=e.toArray(s,g),x=e.toArray(x,_),a(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(s.concat(x||[])),this._reseed=1},u.prototype.generate=function(s,g,x,_){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof g!="string"&&(_=x,x=g,g=null),x&&(x=e.toArray(x,_||"hex"),this._update(x));for(var S=[];S.length<s;)this.V=this._hmac().update(this.V).digest(),S=S.concat(this.V);var y=S.slice(0,s);return this._update(x),this._reseed++,e.encode(y,g)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var r=requireBn$3(),e=requireUtils$1(),a=e.assert;function u(d,s){this.ec=d,this.priv=null,this.pub=null,s.priv&&this._importPrivate(s.priv,s.privEnc),s.pub&&this._importPublic(s.pub,s.pubEnc)}return key$1=u,u.fromPublic=function(s,g,x){return g instanceof u?g:new u(s,{pub:g,pubEnc:x})},u.fromPrivate=function(s,g,x){return g instanceof u?g:new u(s,{priv:g,privEnc:x})},u.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},u.prototype.getPublic=function(s,g){return typeof s=="string"&&(g=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),g?this.pub.encode(g,s):this.pub},u.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},u.prototype._importPrivate=function(s,g){this.priv=new r(s,g||16),this.priv=this.priv.umod(this.ec.curve.n)},u.prototype._importPublic=function(s,g){if(s.x||s.y){this.ec.curve.type==="mont"?a(s.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&a(s.x&&s.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(s.x,s.y);return}this.pub=this.ec.curve.decodePoint(s,g)},u.prototype.derive=function(s){return s.validate()||a(s.validate(),"public point not validated"),s.mul(this.priv).getX()},u.prototype.sign=function(s,g,x){return this.ec.sign(s,this,g,x)},u.prototype.verify=function(s,g){return this.ec.verify(s,g,this)},u.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var r=requireBn$3(),e=requireUtils$1(),a=e.assert;function u(_,S){if(_ instanceof u)return _;this._importDER(_,S)||(a(_.r&&_.s,"Signature without r or s"),this.r=new r(_.r,16),this.s=new r(_.s,16),_.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=_.recoveryParam)}signature$1=u;function d(){this.place=0}function s(_,S){var y=_[S.place++];if(!(y&128))return y;var A=y&15;if(A===0||A>4)return!1;for(var R=0,B=0,q=S.place;B<A;B++,q++)R<<=8,R|=_[q],R>>>=0;return R<=127?!1:(S.place=q,R)}function g(_){for(var S=0,y=_.length-1;!_[S]&&!(_[S+1]&128)&&S<y;)S++;return S===0?_:_.slice(S)}u.prototype._importDER=function(S,y){S=e.toArray(S,y);var A=new d;if(S[A.place++]!==48)return!1;var R=s(S,A);if(R===!1||R+A.place!==S.length||S[A.place++]!==2)return!1;var B=s(S,A);if(B===!1)return!1;var q=S.slice(A.place,B+A.place);if(A.place+=B,S[A.place++]!==2)return!1;var C=s(S,A);if(C===!1||S.length!==C+A.place)return!1;var N=S.slice(A.place,C+A.place);if(q[0]===0)if(q[1]&128)q=q.slice(1);else return!1;if(N[0]===0)if(N[1]&128)N=N.slice(1);else return!1;return this.r=new r(q),this.s=new r(N),this.recoveryParam=null,!0};function x(_,S){if(S<128){_.push(S);return}var y=1+(Math.log(S)/Math.LN2>>>3);for(_.push(y|128);--y;)_.push(S>>>(y<<3)&255);_.push(S)}return u.prototype.toDER=function(S){var y=this.r.toArray(),A=this.s.toArray();for(y[0]&128&&(y=[0].concat(y)),A[0]&128&&(A=[0].concat(A)),y=g(y),A=g(A);!A[0]&&!(A[1]&128);)A=A.slice(1);var R=[2];x(R,y.length),R=R.concat(y),R.push(2),x(R,A.length);var B=R.concat(A),q=[48];return x(q,B.length),q=q.concat(B),e.encode(q,S)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var r=requireBn$3(),e=requireHmacDrbg(),a=requireUtils$1(),u=requireCurves(),d=requireBrorand(),s=a.assert,g=requireKey$1(),x=requireSignature$1();function _(S){if(!(this instanceof _))return new _(S);typeof S=="string"&&(s(Object.prototype.hasOwnProperty.call(u,S),"Unknown curve "+S),S=u[S]),S instanceof u.PresetCurve&&(S={curve:S}),this.curve=S.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=S.curve.g,this.g.precompute(S.curve.n.bitLength()+1),this.hash=S.hash||S.curve.hash}return ec=_,_.prototype.keyPair=function(y){return new g(this,y)},_.prototype.keyFromPrivate=function(y,A){return g.fromPrivate(this,y,A)},_.prototype.keyFromPublic=function(y,A){return g.fromPublic(this,y,A)},_.prototype.genKeyPair=function(y){y||(y={});for(var A=new e({hash:this.hash,pers:y.pers,persEnc:y.persEnc||"utf8",entropy:y.entropy||d(this.hash.hmacStrength),entropyEnc:y.entropy&&y.entropyEnc||"utf8",nonce:this.n.toArray()}),R=this.n.byteLength(),B=this.n.sub(new r(2));;){var q=new r(A.generate(R));if(!(q.cmp(B)>0))return q.iaddn(1),this.keyFromPrivate(q)}},_.prototype._truncateToN=function(y,A){var R=y.byteLength()*8-this.n.bitLength();return R>0&&(y=y.ushrn(R)),!A&&y.cmp(this.n)>=0?y.sub(this.n):y},_.prototype.sign=function(y,A,R,B){typeof R=="object"&&(B=R,R=null),B||(B={}),A=this.keyFromPrivate(A,R),y=this._truncateToN(new r(y,16));for(var q=this.n.byteLength(),C=A.getPrivate().toArray("be",q),N=y.toArray("be",q),k=new e({hash:this.hash,entropy:C,nonce:N,pers:B.pers,persEnc:B.persEnc||"utf8"}),L=this.n.sub(new r(1)),U=0;;U++){var j=B.k?B.k(U):new r(k.generate(this.n.byteLength()));if(j=this._truncateToN(j,!0),!(j.cmpn(1)<=0||j.cmp(L)>=0)){var ee=this.g.mul(j);if(!ee.isInfinity()){var se=ee.getX(),Ee=se.umod(this.n);if(Ee.cmpn(0)!==0){var ge=j.invm(this.n).mul(Ee.mul(A.getPrivate()).iadd(y));if(ge=ge.umod(this.n),ge.cmpn(0)!==0){var oe=(ee.getY().isOdd()?1:0)|(se.cmp(Ee)!==0?2:0);return B.canonical&&ge.cmp(this.nh)>0&&(ge=this.n.sub(ge),oe^=1),new x({r:Ee,s:ge,recoveryParam:oe})}}}}}},_.prototype.verify=function(y,A,R,B){y=this._truncateToN(new r(y,16)),R=this.keyFromPublic(R,B),A=new x(A,"hex");var q=A.r,C=A.s;if(q.cmpn(1)<0||q.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var N=C.invm(this.n),k=N.mul(y).umod(this.n),L=N.mul(q).umod(this.n),U;return this.curve._maxwellTrick?(U=this.g.jmulAdd(k,R.getPublic(),L),U.isInfinity()?!1:U.eqXToP(q)):(U=this.g.mulAdd(k,R.getPublic(),L),U.isInfinity()?!1:U.getX().umod(this.n).cmp(q)===0)},_.prototype.recoverPubKey=function(S,y,A,R){s((3&A)===A,"The recovery param is more than two bits"),y=new x(y,R);var B=this.n,q=new r(S),C=y.r,N=y.s,k=A&1,L=A>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");L?C=this.curve.pointFromX(C.add(this.curve.n),k):C=this.curve.pointFromX(C,k);var U=y.r.invm(B),j=B.sub(q).mul(U).umod(B),ee=N.mul(U).umod(B);return this.g.mulAdd(j,C,ee)},_.prototype.getKeyRecoveryParam=function(S,y,A,R){if(y=new x(y,R),y.recoveryParam!==null)return y.recoveryParam;for(var B=0;B<4;B++){var q;try{q=this.recoverPubKey(S,y,B)}catch{continue}if(q.eq(A))return B}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var r=requireUtils$1(),e=r.assert,a=r.parseBytes,u=r.cachedProperty;function d(s,g){this.eddsa=s,this._secret=a(g.secret),s.isPoint(g.pub)?this._pub=g.pub:this._pubBytes=a(g.pub)}return d.fromPublic=function(g,x){return x instanceof d?x:new d(g,{pub:x})},d.fromSecret=function(g,x){return x instanceof d?x:new d(g,{secret:x})},d.prototype.secret=function(){return this._secret},u(d,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),u(d,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),u(d,"privBytes",function(){var g=this.eddsa,x=this.hash(),_=g.encodingLength-1,S=x.slice(0,g.encodingLength);return S[0]&=248,S[_]&=127,S[_]|=64,S}),u(d,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),u(d,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),u(d,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),d.prototype.sign=function(g){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(g,this)},d.prototype.verify=function(g,x){return this.eddsa.verify(g,x,this)},d.prototype.getSecret=function(g){return e(this._secret,"KeyPair is public only"),r.encode(this.secret(),g)},d.prototype.getPublic=function(g){return r.encode(this.pubBytes(),g)},key=d,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var r=requireBn$3(),e=requireUtils$1(),a=e.assert,u=e.cachedProperty,d=e.parseBytes;function s(g,x){this.eddsa=g,typeof x!="object"&&(x=d(x)),Array.isArray(x)&&(x={R:x.slice(0,g.encodingLength),S:x.slice(g.encodingLength)}),a(x.R&&x.S,"Signature without R or S"),g.isPoint(x.R)&&(this._R=x.R),x.S instanceof r&&(this._S=x.S),this._Rencoded=Array.isArray(x.R)?x.R:x.Rencoded,this._Sencoded=Array.isArray(x.S)?x.S:x.Sencoded}return u(s,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),u(s,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),u(s,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),u(s,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},signature=s,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var r=requireHash(),e=requireCurves(),a=requireUtils$1(),u=a.assert,d=a.parseBytes,s=requireKey(),g=requireSignature();function x(_){if(u(_==="ed25519","only tested with ed25519 so far"),!(this instanceof x))return new x(_);_=e[_].curve,this.curve=_,this.g=_.g,this.g.precompute(_.n.bitLength()+1),this.pointClass=_.point().constructor,this.encodingLength=Math.ceil(_.n.bitLength()/8),this.hash=r.sha512}return eddsa=x,x.prototype.sign=function(S,y){S=d(S);var A=this.keyFromSecret(y),R=this.hashInt(A.messagePrefix(),S),B=this.g.mul(R),q=this.encodePoint(B),C=this.hashInt(q,A.pubBytes(),S).mul(A.priv()),N=R.add(C).umod(this.curve.n);return this.makeSignature({R:B,S:N,Rencoded:q})},x.prototype.verify=function(S,y,A){S=d(S),y=this.makeSignature(y);var R=this.keyFromPublic(A),B=this.hashInt(y.Rencoded(),R.pubBytes(),S),q=this.g.mul(y.S()),C=y.R().add(R.pub().mul(B));return C.eq(q)},x.prototype.hashInt=function(){for(var S=this.hash(),y=0;y<arguments.length;y++)S.update(arguments[y]);return a.intFromLE(S.digest()).umod(this.curve.n)},x.prototype.keyFromPublic=function(S){return s.fromPublic(this,S)},x.prototype.keyFromSecret=function(S){return s.fromSecret(this,S)},x.prototype.makeSignature=function(S){return S instanceof g?S:new g(this,S)},x.prototype.encodePoint=function(S){var y=S.getY().toArray("le",this.encodingLength);return y[this.encodingLength-1]|=S.getX().isOdd()?128:0,y},x.prototype.decodePoint=function(S){S=a.parseBytes(S);var y=S.length-1,A=S.slice(0,y).concat(S[y]&-129),R=(S[y]&128)!==0,B=a.intFromLE(A);return this.curve.pointFromY(B,R)},x.prototype.encodeInt=function(S){return S.toArray("le",this.encodingLength)},x.prototype.decodeInt=function(S){return a.intFromLE(S)},x.prototype.isPoint=function(S){return S instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(r){var e=r;e.version=require$$0.version,e.utils=requireUtils$1(),e.rand=requireBrorand(),e.curve=requireCurve$1(),e.curves=requireCurves(),e.ec=requireEc(),e.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},bn$2={exports:{}};bn$2.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(r){(function(e,a){function u(E,t){if(!E)throw new Error(t||"Assertion failed")}function d(E,t){E.super_=t;var o=function(){};o.prototype=t.prototype,E.prototype=new o,E.prototype.constructor=E}function s(E,t,o){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((t==="le"||t==="be")&&(o=t,t=10),this._init(E||0,t||10,o||"be"))}typeof e=="object"?e.exports=s:a.BN=s,s.BN=s,s.wordSize=26;var g;try{typeof window<"u"&&typeof window.Buffer<"u"?g=window.Buffer:g=require$$0$1.Buffer}catch{}s.isBN=function(t){return t instanceof s?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,o){return t.cmp(o)>0?t:o},s.min=function(t,o){return t.cmp(o)<0?t:o},s.prototype._init=function(t,o,c){if(typeof t=="number")return this._initNumber(t,o,c);if(typeof t=="object")return this._initArray(t,o,c);o==="hex"&&(o=16),u(o===(o|0)&&o>=2&&o<=36),t=t.toString().replace(/\s+/g,"");var l=0;t[0]==="-"&&(l++,this.negative=1),l<t.length&&(o===16?this._parseHex(t,l,c):(this._parseBase(t,o,l),c==="le"&&this._initArray(this.toArray(),o,c)))},s.prototype._initNumber=function(t,o,c){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(u(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),o,c)},s.prototype._initArray=function(t,o,c){if(u(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var v,w,M=0;if(c==="be")for(l=t.length-1,v=0;l>=0;l-=3)w=t[l]|t[l-1]<<8|t[l-2]<<16,this.words[v]|=w<<M&67108863,this.words[v+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);else if(c==="le")for(l=0,v=0;l<t.length;l+=3)w=t[l]|t[l+1]<<8|t[l+2]<<16,this.words[v]|=w<<M&67108863,this.words[v+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);return this.strip()};function x(E,t){var o=E.charCodeAt(t);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function _(E,t,o){var c=x(E,o);return o-1>=t&&(c|=x(E,o-1)<<4),c}s.prototype._parseHex=function(t,o,c){this.length=Math.ceil((t.length-o)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var v=0,w=0,M;if(c==="be")for(l=t.length-1;l>=o;l-=2)M=_(t,o,l)<<v,this.words[w]|=M&67108863,v>=18?(v-=18,w+=1,this.words[w]|=M>>>26):v+=8;else{var m=t.length-o;for(l=m%2===0?o+1:o;l<t.length;l+=2)M=_(t,o,l)<<v,this.words[w]|=M&67108863,v>=18?(v-=18,w+=1,this.words[w]|=M>>>26):v+=8}this.strip()};function S(E,t,o,c){for(var l=0,v=Math.min(E.length,o),w=t;w<v;w++){var M=E.charCodeAt(w)-48;l*=c,M>=49?l+=M-49+10:M>=17?l+=M-17+10:l+=M}return l}s.prototype._parseBase=function(t,o,c){this.words=[0],this.length=1;for(var l=0,v=1;v<=67108863;v*=o)l++;l--,v=v/o|0;for(var w=t.length-c,M=w%l,m=Math.min(w,w-M)+c,n=0,b=c;b<m;b+=l)n=S(t,b,b+l,o),this.imuln(v),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n);if(M!==0){var P=1;for(n=S(t,b,t.length,o),b=0;b<M;b++)P*=o;this.imuln(P),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var o=0;o<this.length;o++)t.words[o]=this.words[o];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,o){t=t||10,o=o|0||1;var c;if(t===16||t==="hex"){c="";for(var l=0,v=0,w=0;w<this.length;w++){var M=this.words[w],m=((M<<l|v)&16777215).toString(16);v=M>>>24-l&16777215,v!==0||w!==this.length-1?c=y[6-m.length]+m+c:c=m+c,l+=2,l>=26&&(l-=26,w--)}for(v!==0&&(c=v.toString(16)+c);c.length%o!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(t===(t|0)&&t>=2&&t<=36){var n=A[t],b=R[t];c="";var P=this.clone();for(P.negative=0;!P.isZero();){var I=P.modn(b).toString(t);P=P.idivn(b),P.isZero()?c=I+c:c=y[n-I.length]+I+c}for(this.isZero()&&(c="0"+c);c.length%o!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}u(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,o){return u(typeof g<"u"),this.toArrayLike(g,t,o)},s.prototype.toArray=function(t,o){return this.toArrayLike(Array,t,o)},s.prototype.toArrayLike=function(t,o,c){var l=this.byteLength(),v=c||Math.max(1,l);u(l<=v,"byte array longer than desired length"),u(v>0,"Requested array length <= 0"),this.strip();var w=o==="le",M=new t(v),m,n,b=this.clone();if(w){for(n=0;!b.isZero();n++)m=b.andln(255),b.iushrn(8),M[n]=m;for(;n<v;n++)M[n]=0}else{for(n=0;n<v-l;n++)M[n]=0;for(n=0;!b.isZero();n++)m=b.andln(255),b.iushrn(8),M[v-n-1]=m}return M},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var o=t,c=0;return o>=4096&&(c+=13,o>>>=13),o>=64&&(c+=7,o>>>=7),o>=8&&(c+=4,o>>>=4),o>=2&&(c+=2,o>>>=2),c+o},s.prototype._zeroBits=function(t){if(t===0)return 26;var o=t,c=0;return o&8191||(c+=13,o>>>=13),o&127||(c+=7,o>>>=7),o&15||(c+=4,o>>>=4),o&3||(c+=2,o>>>=2),o&1||c++,c},s.prototype.bitLength=function(){var t=this.words[this.length-1],o=this._countBits(t);return(this.length-1)*26+o};function B(E){for(var t=new Array(E.bitLength()),o=0;o<t.length;o++){var c=o/26|0,l=o%26;t[o]=(E.words[c]&1<<l)>>>l}return t}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,o=0;o<this.length;o++){var c=this._zeroBits(this.words[o]);if(t+=c,c!==26)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]|t.words[o];return this.strip()},s.prototype.ior=function(t){return u((this.negative|t.negative)===0),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var o;this.length>t.length?o=t:o=this;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]&t.words[c];return this.length=o.length,this.strip()},s.prototype.iand=function(t){return u((this.negative|t.negative)===0),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var o,c;this.length>t.length?(o=this,c=t):(o=t,c=this);for(var l=0;l<c.length;l++)this.words[l]=o.words[l]^c.words[l];if(this!==o)for(;l<o.length;l++)this.words[l]=o.words[l];return this.length=o.length,this.strip()},s.prototype.ixor=function(t){return u((this.negative|t.negative)===0),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){u(typeof t=="number"&&t>=0);var o=Math.ceil(t/26)|0,c=t%26;this._expand(o),c>0&&o--;for(var l=0;l<o;l++)this.words[l]=~this.words[l]&67108863;return c>0&&(this.words[l]=~this.words[l]&67108863>>26-c),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,o){u(typeof t=="number"&&t>=0);var c=t/26|0,l=t%26;return this._expand(c+1),o?this.words[c]=this.words[c]|1<<l:this.words[c]=this.words[c]&~(1<<l),this.strip()},s.prototype.iadd=function(t){var o;if(this.negative!==0&&t.negative===0)return this.negative=0,o=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,o=this.isub(t),t.negative=1,o._normSign();var c,l;this.length>t.length?(c=this,l=t):(c=t,l=this);for(var v=0,w=0;w<l.length;w++)o=(c.words[w]|0)+(l.words[w]|0)+v,this.words[w]=o&67108863,v=o>>>26;for(;v!==0&&w<c.length;w++)o=(c.words[w]|0)+v,this.words[w]=o&67108863,v=o>>>26;if(this.length=c.length,v!==0)this.words[this.length]=v,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},s.prototype.add=function(t){var o;return t.negative!==0&&this.negative===0?(t.negative=0,o=this.sub(t),t.negative^=1,o):t.negative===0&&this.negative!==0?(this.negative=0,o=t.sub(this),this.negative=1,o):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var o=this.iadd(t);return t.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var c=this.cmp(t);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,v;c>0?(l=this,v=t):(l=t,v=this);for(var w=0,M=0;M<v.length;M++)o=(l.words[M]|0)-(v.words[M]|0)+w,w=o>>26,this.words[M]=o&67108863;for(;w!==0&&M<l.length;M++)o=(l.words[M]|0)+w,w=o>>26,this.words[M]=o&67108863;if(w===0&&M<l.length&&l!==this)for(;M<l.length;M++)this.words[M]=l.words[M];return this.length=Math.max(this.length,M),l!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};function q(E,t,o){o.negative=t.negative^E.negative;var c=E.length+t.length|0;o.length=c,c=c-1|0;var l=E.words[0]|0,v=t.words[0]|0,w=l*v,M=w&67108863,m=w/67108864|0;o.words[0]=M;for(var n=1;n<c;n++){for(var b=m>>>26,P=m&67108863,I=Math.min(n,t.length-1),F=Math.max(0,n-E.length+1);F<=I;F++){var Y=n-F|0;l=E.words[Y]|0,v=t.words[F]|0,w=l*v+P,b+=w/67108864|0,P=w&67108863}o.words[n]=P|0,m=b|0}return m!==0?o.words[n]=m|0:o.length--,o.strip()}var C=function(t,o,c){var l=t.words,v=o.words,w=c.words,M=0,m,n,b,P=l[0]|0,I=P&8191,F=P>>>13,Y=l[1]|0,X=Y&8191,T=Y>>>13,K=l[2]|0,W=K&8191,ne=K>>>13,ie=l[3]|0,G=ie&8191,H=ie>>>13,fe=l[4]|0,he=fe&8191,ve=fe>>>13,ke=l[5]|0,Me=ke&8191,le=ke>>>13,Ze=l[6]|0,_e=Ze&8191,Se=Ze>>>13,tt=l[7]|0,Ae=tt&8191,Pe=tt>>>13,ot=l[8]|0,Oe=ot&8191,He=ot>>>13,pt=l[9]|0,z=pt&8191,O=pt>>>13,D=v[0]|0,te=D&8191,ce=D>>>13,Fe=v[1]|0,be=Fe&8191,je=Fe>>>13,lt=v[2]|0,Ue=lt&8191,Ve=lt>>>13,dt=v[3]|0,Je=dt&8191,et=dt>>>13,bt=v[4]|0,Ge=bt&8191,Ye=bt>>>13,yt=v[5]|0,We=yt&8191,Xe=yt>>>13,gt=v[6]|0,Ke=gt&8191,Qe=gt>>>13,V=v[7]|0,J=V&8191,Z=V>>>13,$=v[8]|0,Q=$&8191,me=$>>>13,Ce=v[9]|0,we=Ce&8191,qe=Ce>>>13;c.negative=t.negative^o.negative,c.length=19,m=Math.imul(I,te),n=Math.imul(I,ce),n=n+Math.imul(F,te)|0,b=Math.imul(F,ce);var at=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(at>>>26)|0,at&=67108863,m=Math.imul(X,te),n=Math.imul(X,ce),n=n+Math.imul(T,te)|0,b=Math.imul(T,ce),m=m+Math.imul(I,be)|0,n=n+Math.imul(I,je)|0,n=n+Math.imul(F,be)|0,b=b+Math.imul(F,je)|0;var it=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(it>>>26)|0,it&=67108863,m=Math.imul(W,te),n=Math.imul(W,ce),n=n+Math.imul(ne,te)|0,b=Math.imul(ne,ce),m=m+Math.imul(X,be)|0,n=n+Math.imul(X,je)|0,n=n+Math.imul(T,be)|0,b=b+Math.imul(T,je)|0,m=m+Math.imul(I,Ue)|0,n=n+Math.imul(I,Ve)|0,n=n+Math.imul(F,Ue)|0,b=b+Math.imul(F,Ve)|0;var vt=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(G,te),n=Math.imul(G,ce),n=n+Math.imul(H,te)|0,b=Math.imul(H,ce),m=m+Math.imul(W,be)|0,n=n+Math.imul(W,je)|0,n=n+Math.imul(ne,be)|0,b=b+Math.imul(ne,je)|0,m=m+Math.imul(X,Ue)|0,n=n+Math.imul(X,Ve)|0,n=n+Math.imul(T,Ue)|0,b=b+Math.imul(T,Ve)|0,m=m+Math.imul(I,Je)|0,n=n+Math.imul(I,et)|0,n=n+Math.imul(F,Je)|0,b=b+Math.imul(F,et)|0;var ft=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(he,te),n=Math.imul(he,ce),n=n+Math.imul(ve,te)|0,b=Math.imul(ve,ce),m=m+Math.imul(G,be)|0,n=n+Math.imul(G,je)|0,n=n+Math.imul(H,be)|0,b=b+Math.imul(H,je)|0,m=m+Math.imul(W,Ue)|0,n=n+Math.imul(W,Ve)|0,n=n+Math.imul(ne,Ue)|0,b=b+Math.imul(ne,Ve)|0,m=m+Math.imul(X,Je)|0,n=n+Math.imul(X,et)|0,n=n+Math.imul(T,Je)|0,b=b+Math.imul(T,et)|0,m=m+Math.imul(I,Ge)|0,n=n+Math.imul(I,Ye)|0,n=n+Math.imul(F,Ge)|0,b=b+Math.imul(F,Ye)|0;var ht=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(Me,te),n=Math.imul(Me,ce),n=n+Math.imul(le,te)|0,b=Math.imul(le,ce),m=m+Math.imul(he,be)|0,n=n+Math.imul(he,je)|0,n=n+Math.imul(ve,be)|0,b=b+Math.imul(ve,je)|0,m=m+Math.imul(G,Ue)|0,n=n+Math.imul(G,Ve)|0,n=n+Math.imul(H,Ue)|0,b=b+Math.imul(H,Ve)|0,m=m+Math.imul(W,Je)|0,n=n+Math.imul(W,et)|0,n=n+Math.imul(ne,Je)|0,b=b+Math.imul(ne,et)|0,m=m+Math.imul(X,Ge)|0,n=n+Math.imul(X,Ye)|0,n=n+Math.imul(T,Ge)|0,b=b+Math.imul(T,Ye)|0,m=m+Math.imul(I,We)|0,n=n+Math.imul(I,Xe)|0,n=n+Math.imul(F,We)|0,b=b+Math.imul(F,Xe)|0;var ct=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ct>>>26)|0,ct&=67108863,m=Math.imul(_e,te),n=Math.imul(_e,ce),n=n+Math.imul(Se,te)|0,b=Math.imul(Se,ce),m=m+Math.imul(Me,be)|0,n=n+Math.imul(Me,je)|0,n=n+Math.imul(le,be)|0,b=b+Math.imul(le,je)|0,m=m+Math.imul(he,Ue)|0,n=n+Math.imul(he,Ve)|0,n=n+Math.imul(ve,Ue)|0,b=b+Math.imul(ve,Ve)|0,m=m+Math.imul(G,Je)|0,n=n+Math.imul(G,et)|0,n=n+Math.imul(H,Je)|0,b=b+Math.imul(H,et)|0,m=m+Math.imul(W,Ge)|0,n=n+Math.imul(W,Ye)|0,n=n+Math.imul(ne,Ge)|0,b=b+Math.imul(ne,Ye)|0,m=m+Math.imul(X,We)|0,n=n+Math.imul(X,Xe)|0,n=n+Math.imul(T,We)|0,b=b+Math.imul(T,Xe)|0,m=m+Math.imul(I,Ke)|0,n=n+Math.imul(I,Qe)|0,n=n+Math.imul(F,Ke)|0,b=b+Math.imul(F,Qe)|0;var re=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(re>>>26)|0,re&=67108863,m=Math.imul(Ae,te),n=Math.imul(Ae,ce),n=n+Math.imul(Pe,te)|0,b=Math.imul(Pe,ce),m=m+Math.imul(_e,be)|0,n=n+Math.imul(_e,je)|0,n=n+Math.imul(Se,be)|0,b=b+Math.imul(Se,je)|0,m=m+Math.imul(Me,Ue)|0,n=n+Math.imul(Me,Ve)|0,n=n+Math.imul(le,Ue)|0,b=b+Math.imul(le,Ve)|0,m=m+Math.imul(he,Je)|0,n=n+Math.imul(he,et)|0,n=n+Math.imul(ve,Je)|0,b=b+Math.imul(ve,et)|0,m=m+Math.imul(G,Ge)|0,n=n+Math.imul(G,Ye)|0,n=n+Math.imul(H,Ge)|0,b=b+Math.imul(H,Ye)|0,m=m+Math.imul(W,We)|0,n=n+Math.imul(W,Xe)|0,n=n+Math.imul(ne,We)|0,b=b+Math.imul(ne,Xe)|0,m=m+Math.imul(X,Ke)|0,n=n+Math.imul(X,Qe)|0,n=n+Math.imul(T,Ke)|0,b=b+Math.imul(T,Qe)|0,m=m+Math.imul(I,J)|0,n=n+Math.imul(I,Z)|0,n=n+Math.imul(F,J)|0,b=b+Math.imul(F,Z)|0;var ue=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ue>>>26)|0,ue&=67108863,m=Math.imul(Oe,te),n=Math.imul(Oe,ce),n=n+Math.imul(He,te)|0,b=Math.imul(He,ce),m=m+Math.imul(Ae,be)|0,n=n+Math.imul(Ae,je)|0,n=n+Math.imul(Pe,be)|0,b=b+Math.imul(Pe,je)|0,m=m+Math.imul(_e,Ue)|0,n=n+Math.imul(_e,Ve)|0,n=n+Math.imul(Se,Ue)|0,b=b+Math.imul(Se,Ve)|0,m=m+Math.imul(Me,Je)|0,n=n+Math.imul(Me,et)|0,n=n+Math.imul(le,Je)|0,b=b+Math.imul(le,et)|0,m=m+Math.imul(he,Ge)|0,n=n+Math.imul(he,Ye)|0,n=n+Math.imul(ve,Ge)|0,b=b+Math.imul(ve,Ye)|0,m=m+Math.imul(G,We)|0,n=n+Math.imul(G,Xe)|0,n=n+Math.imul(H,We)|0,b=b+Math.imul(H,Xe)|0,m=m+Math.imul(W,Ke)|0,n=n+Math.imul(W,Qe)|0,n=n+Math.imul(ne,Ke)|0,b=b+Math.imul(ne,Qe)|0,m=m+Math.imul(X,J)|0,n=n+Math.imul(X,Z)|0,n=n+Math.imul(T,J)|0,b=b+Math.imul(T,Z)|0,m=m+Math.imul(I,Q)|0,n=n+Math.imul(I,me)|0,n=n+Math.imul(F,Q)|0,b=b+Math.imul(F,me)|0;var ae=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ae>>>26)|0,ae&=67108863,m=Math.imul(z,te),n=Math.imul(z,ce),n=n+Math.imul(O,te)|0,b=Math.imul(O,ce),m=m+Math.imul(Oe,be)|0,n=n+Math.imul(Oe,je)|0,n=n+Math.imul(He,be)|0,b=b+Math.imul(He,je)|0,m=m+Math.imul(Ae,Ue)|0,n=n+Math.imul(Ae,Ve)|0,n=n+Math.imul(Pe,Ue)|0,b=b+Math.imul(Pe,Ve)|0,m=m+Math.imul(_e,Je)|0,n=n+Math.imul(_e,et)|0,n=n+Math.imul(Se,Je)|0,b=b+Math.imul(Se,et)|0,m=m+Math.imul(Me,Ge)|0,n=n+Math.imul(Me,Ye)|0,n=n+Math.imul(le,Ge)|0,b=b+Math.imul(le,Ye)|0,m=m+Math.imul(he,We)|0,n=n+Math.imul(he,Xe)|0,n=n+Math.imul(ve,We)|0,b=b+Math.imul(ve,Xe)|0,m=m+Math.imul(G,Ke)|0,n=n+Math.imul(G,Qe)|0,n=n+Math.imul(H,Ke)|0,b=b+Math.imul(H,Qe)|0,m=m+Math.imul(W,J)|0,n=n+Math.imul(W,Z)|0,n=n+Math.imul(ne,J)|0,b=b+Math.imul(ne,Z)|0,m=m+Math.imul(X,Q)|0,n=n+Math.imul(X,me)|0,n=n+Math.imul(T,Q)|0,b=b+Math.imul(T,me)|0,m=m+Math.imul(I,we)|0,n=n+Math.imul(I,qe)|0,n=n+Math.imul(F,we)|0,b=b+Math.imul(F,qe)|0;var pe=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(pe>>>26)|0,pe&=67108863,m=Math.imul(z,be),n=Math.imul(z,je),n=n+Math.imul(O,be)|0,b=Math.imul(O,je),m=m+Math.imul(Oe,Ue)|0,n=n+Math.imul(Oe,Ve)|0,n=n+Math.imul(He,Ue)|0,b=b+Math.imul(He,Ve)|0,m=m+Math.imul(Ae,Je)|0,n=n+Math.imul(Ae,et)|0,n=n+Math.imul(Pe,Je)|0,b=b+Math.imul(Pe,et)|0,m=m+Math.imul(_e,Ge)|0,n=n+Math.imul(_e,Ye)|0,n=n+Math.imul(Se,Ge)|0,b=b+Math.imul(Se,Ye)|0,m=m+Math.imul(Me,We)|0,n=n+Math.imul(Me,Xe)|0,n=n+Math.imul(le,We)|0,b=b+Math.imul(le,Xe)|0,m=m+Math.imul(he,Ke)|0,n=n+Math.imul(he,Qe)|0,n=n+Math.imul(ve,Ke)|0,b=b+Math.imul(ve,Qe)|0,m=m+Math.imul(G,J)|0,n=n+Math.imul(G,Z)|0,n=n+Math.imul(H,J)|0,b=b+Math.imul(H,Z)|0,m=m+Math.imul(W,Q)|0,n=n+Math.imul(W,me)|0,n=n+Math.imul(ne,Q)|0,b=b+Math.imul(ne,me)|0,m=m+Math.imul(X,we)|0,n=n+Math.imul(X,qe)|0,n=n+Math.imul(T,we)|0,b=b+Math.imul(T,qe)|0;var ye=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,m=Math.imul(z,Ue),n=Math.imul(z,Ve),n=n+Math.imul(O,Ue)|0,b=Math.imul(O,Ve),m=m+Math.imul(Oe,Je)|0,n=n+Math.imul(Oe,et)|0,n=n+Math.imul(He,Je)|0,b=b+Math.imul(He,et)|0,m=m+Math.imul(Ae,Ge)|0,n=n+Math.imul(Ae,Ye)|0,n=n+Math.imul(Pe,Ge)|0,b=b+Math.imul(Pe,Ye)|0,m=m+Math.imul(_e,We)|0,n=n+Math.imul(_e,Xe)|0,n=n+Math.imul(Se,We)|0,b=b+Math.imul(Se,Xe)|0,m=m+Math.imul(Me,Ke)|0,n=n+Math.imul(Me,Qe)|0,n=n+Math.imul(le,Ke)|0,b=b+Math.imul(le,Qe)|0,m=m+Math.imul(he,J)|0,n=n+Math.imul(he,Z)|0,n=n+Math.imul(ve,J)|0,b=b+Math.imul(ve,Z)|0,m=m+Math.imul(G,Q)|0,n=n+Math.imul(G,me)|0,n=n+Math.imul(H,Q)|0,b=b+Math.imul(H,me)|0,m=m+Math.imul(W,we)|0,n=n+Math.imul(W,qe)|0,n=n+Math.imul(ne,we)|0,b=b+Math.imul(ne,qe)|0;var xe=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,m=Math.imul(z,Je),n=Math.imul(z,et),n=n+Math.imul(O,Je)|0,b=Math.imul(O,et),m=m+Math.imul(Oe,Ge)|0,n=n+Math.imul(Oe,Ye)|0,n=n+Math.imul(He,Ge)|0,b=b+Math.imul(He,Ye)|0,m=m+Math.imul(Ae,We)|0,n=n+Math.imul(Ae,Xe)|0,n=n+Math.imul(Pe,We)|0,b=b+Math.imul(Pe,Xe)|0,m=m+Math.imul(_e,Ke)|0,n=n+Math.imul(_e,Qe)|0,n=n+Math.imul(Se,Ke)|0,b=b+Math.imul(Se,Qe)|0,m=m+Math.imul(Me,J)|0,n=n+Math.imul(Me,Z)|0,n=n+Math.imul(le,J)|0,b=b+Math.imul(le,Z)|0,m=m+Math.imul(he,Q)|0,n=n+Math.imul(he,me)|0,n=n+Math.imul(ve,Q)|0,b=b+Math.imul(ve,me)|0,m=m+Math.imul(G,we)|0,n=n+Math.imul(G,qe)|0,n=n+Math.imul(H,we)|0,b=b+Math.imul(H,qe)|0;var Ne=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,m=Math.imul(z,Ge),n=Math.imul(z,Ye),n=n+Math.imul(O,Ge)|0,b=Math.imul(O,Ye),m=m+Math.imul(Oe,We)|0,n=n+Math.imul(Oe,Xe)|0,n=n+Math.imul(He,We)|0,b=b+Math.imul(He,Xe)|0,m=m+Math.imul(Ae,Ke)|0,n=n+Math.imul(Ae,Qe)|0,n=n+Math.imul(Pe,Ke)|0,b=b+Math.imul(Pe,Qe)|0,m=m+Math.imul(_e,J)|0,n=n+Math.imul(_e,Z)|0,n=n+Math.imul(Se,J)|0,b=b+Math.imul(Se,Z)|0,m=m+Math.imul(Me,Q)|0,n=n+Math.imul(Me,me)|0,n=n+Math.imul(le,Q)|0,b=b+Math.imul(le,me)|0,m=m+Math.imul(he,we)|0,n=n+Math.imul(he,qe)|0,n=n+Math.imul(ve,we)|0,b=b+Math.imul(ve,qe)|0;var $e=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+($e>>>26)|0,$e&=67108863,m=Math.imul(z,We),n=Math.imul(z,Xe),n=n+Math.imul(O,We)|0,b=Math.imul(O,Xe),m=m+Math.imul(Oe,Ke)|0,n=n+Math.imul(Oe,Qe)|0,n=n+Math.imul(He,Ke)|0,b=b+Math.imul(He,Qe)|0,m=m+Math.imul(Ae,J)|0,n=n+Math.imul(Ae,Z)|0,n=n+Math.imul(Pe,J)|0,b=b+Math.imul(Pe,Z)|0,m=m+Math.imul(_e,Q)|0,n=n+Math.imul(_e,me)|0,n=n+Math.imul(Se,Q)|0,b=b+Math.imul(Se,me)|0,m=m+Math.imul(Me,we)|0,n=n+Math.imul(Me,qe)|0,n=n+Math.imul(le,we)|0,b=b+Math.imul(le,qe)|0;var Re=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,m=Math.imul(z,Ke),n=Math.imul(z,Qe),n=n+Math.imul(O,Ke)|0,b=Math.imul(O,Qe),m=m+Math.imul(Oe,J)|0,n=n+Math.imul(Oe,Z)|0,n=n+Math.imul(He,J)|0,b=b+Math.imul(He,Z)|0,m=m+Math.imul(Ae,Q)|0,n=n+Math.imul(Ae,me)|0,n=n+Math.imul(Pe,Q)|0,b=b+Math.imul(Pe,me)|0,m=m+Math.imul(_e,we)|0,n=n+Math.imul(_e,qe)|0,n=n+Math.imul(Se,we)|0,b=b+Math.imul(Se,qe)|0;var Ie=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,m=Math.imul(z,J),n=Math.imul(z,Z),n=n+Math.imul(O,J)|0,b=Math.imul(O,Z),m=m+Math.imul(Oe,Q)|0,n=n+Math.imul(Oe,me)|0,n=n+Math.imul(He,Q)|0,b=b+Math.imul(He,me)|0,m=m+Math.imul(Ae,we)|0,n=n+Math.imul(Ae,qe)|0,n=n+Math.imul(Pe,we)|0,b=b+Math.imul(Pe,qe)|0;var ze=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ze>>>26)|0,ze&=67108863,m=Math.imul(z,Q),n=Math.imul(z,me),n=n+Math.imul(O,Q)|0,b=Math.imul(O,me),m=m+Math.imul(Oe,we)|0,n=n+Math.imul(Oe,qe)|0,n=n+Math.imul(He,we)|0,b=b+Math.imul(He,qe)|0;var Te=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,m=Math.imul(z,we),n=Math.imul(z,qe),n=n+Math.imul(O,we)|0,b=Math.imul(O,qe);var De=(M+m|0)+((n&8191)<<13)|0;return M=(b+(n>>>13)|0)+(De>>>26)|0,De&=67108863,w[0]=at,w[1]=it,w[2]=vt,w[3]=ft,w[4]=ht,w[5]=ct,w[6]=re,w[7]=ue,w[8]=ae,w[9]=pe,w[10]=ye,w[11]=xe,w[12]=Ne,w[13]=$e,w[14]=Re,w[15]=Ie,w[16]=ze,w[17]=Te,w[18]=De,M!==0&&(w[19]=M,c.length++),c};Math.imul||(C=q);function N(E,t,o){o.negative=t.negative^E.negative,o.length=E.length+t.length;for(var c=0,l=0,v=0;v<o.length-1;v++){var w=l;l=0;for(var M=c&67108863,m=Math.min(v,t.length-1),n=Math.max(0,v-E.length+1);n<=m;n++){var b=v-n,P=E.words[b]|0,I=t.words[n]|0,F=P*I,Y=F&67108863;w=w+(F/67108864|0)|0,Y=Y+M|0,M=Y&67108863,w=w+(Y>>>26)|0,l+=w>>>26,w&=67108863}o.words[v]=M,c=w,w=l}return c!==0?o.words[v]=c:o.length--,o.strip()}function k(E,t,o){var c=new L;return c.mulp(E,t,o)}s.prototype.mulTo=function(t,o){var c,l=this.length+t.length;return this.length===10&&t.length===10?c=C(this,t,o):l<63?c=q(this,t,o):l<1024?c=N(this,t,o):c=k(this,t,o),c};function L(E,t){this.x=E,this.y=t}L.prototype.makeRBT=function(t){for(var o=new Array(t),c=s.prototype._countBits(t)-1,l=0;l<t;l++)o[l]=this.revBin(l,c,t);return o},L.prototype.revBin=function(t,o,c){if(t===0||t===c-1)return t;for(var l=0,v=0;v<o;v++)l|=(t&1)<<o-v-1,t>>=1;return l},L.prototype.permute=function(t,o,c,l,v,w){for(var M=0;M<w;M++)l[M]=o[t[M]],v[M]=c[t[M]]},L.prototype.transform=function(t,o,c,l,v,w){this.permute(w,t,o,c,l,v);for(var M=1;M<v;M<<=1)for(var m=M<<1,n=Math.cos(2*Math.PI/m),b=Math.sin(2*Math.PI/m),P=0;P<v;P+=m)for(var I=n,F=b,Y=0;Y<M;Y++){var X=c[P+Y],T=l[P+Y],K=c[P+Y+M],W=l[P+Y+M],ne=I*K-F*W;W=I*W+F*K,K=ne,c[P+Y]=X+K,l[P+Y]=T+W,c[P+Y+M]=X-K,l[P+Y+M]=T-W,Y!==m&&(ne=n*I-b*F,F=n*F+b*I,I=ne)}},L.prototype.guessLen13b=function(t,o){var c=Math.max(o,t)|1,l=c&1,v=0;for(c=c/2|0;c;c=c>>>1)v++;return 1<<v+1+l},L.prototype.conjugate=function(t,o,c){if(!(c<=1))for(var l=0;l<c/2;l++){var v=t[l];t[l]=t[c-l-1],t[c-l-1]=v,v=o[l],o[l]=-o[c-l-1],o[c-l-1]=-v}},L.prototype.normalize13b=function(t,o){for(var c=0,l=0;l<o/2;l++){var v=Math.round(t[2*l+1]/o)*8192+Math.round(t[2*l]/o)+c;t[l]=v&67108863,v<67108864?c=0:c=v/67108864|0}return t},L.prototype.convert13b=function(t,o,c,l){for(var v=0,w=0;w<o;w++)v=v+(t[w]|0),c[2*w]=v&8191,v=v>>>13,c[2*w+1]=v&8191,v=v>>>13;for(w=2*o;w<l;++w)c[w]=0;u(v===0),u((v&-8192)===0)},L.prototype.stub=function(t){for(var o=new Array(t),c=0;c<t;c++)o[c]=0;return o},L.prototype.mulp=function(t,o,c){var l=2*this.guessLen13b(t.length,o.length),v=this.makeRBT(l),w=this.stub(l),M=new Array(l),m=new Array(l),n=new Array(l),b=new Array(l),P=new Array(l),I=new Array(l),F=c.words;F.length=l,this.convert13b(t.words,t.length,M,l),this.convert13b(o.words,o.length,b,l),this.transform(M,w,m,n,l,v),this.transform(b,w,P,I,l,v);for(var Y=0;Y<l;Y++){var X=m[Y]*P[Y]-n[Y]*I[Y];n[Y]=m[Y]*I[Y]+n[Y]*P[Y],m[Y]=X}return this.conjugate(m,n,l),this.transform(m,n,F,w,l,v),this.conjugate(F,w,l),this.normalize13b(F,l),c.negative=t.negative^o.negative,c.length=t.length+o.length,c.strip()},s.prototype.mul=function(t){var o=new s(null);return o.words=new Array(this.length+t.length),this.mulTo(t,o)},s.prototype.mulf=function(t){var o=new s(null);return o.words=new Array(this.length+t.length),k(this,t,o)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){u(typeof t=="number"),u(t<67108864);for(var o=0,c=0;c<this.length;c++){var l=(this.words[c]|0)*t,v=(l&67108863)+(o&67108863);o>>=26,o+=l/67108864|0,o+=v>>>26,this.words[c]=v&67108863}return o!==0&&(this.words[c]=o,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var o=B(t);if(o.length===0)return new s(1);for(var c=this,l=0;l<o.length&&o[l]===0;l++,c=c.sqr());if(++l<o.length)for(var v=c.sqr();l<o.length;l++,v=v.sqr())o[l]!==0&&(c=c.mul(v));return c},s.prototype.iushln=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26,l=67108863>>>26-o<<26-o,v;if(o!==0){var w=0;for(v=0;v<this.length;v++){var M=this.words[v]&l,m=(this.words[v]|0)-M<<o;this.words[v]=m|w,w=M>>>26-o}w&&(this.words[v]=w,this.length++)}if(c!==0){for(v=this.length-1;v>=0;v--)this.words[v+c]=this.words[v];for(v=0;v<c;v++)this.words[v]=0;this.length+=c}return this.strip()},s.prototype.ishln=function(t){return u(this.negative===0),this.iushln(t)},s.prototype.iushrn=function(t,o,c){u(typeof t=="number"&&t>=0);var l;o?l=(o-o%26)/26:l=0;var v=t%26,w=Math.min((t-v)/26,this.length),M=67108863^67108863>>>v<<v,m=c;if(l-=w,l=Math.max(0,l),m){for(var n=0;n<w;n++)m.words[n]=this.words[n];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,n=0;n<this.length;n++)this.words[n]=this.words[n+w];else this.words[0]=0,this.length=1;var b=0;for(n=this.length-1;n>=0&&(b!==0||n>=l);n--){var P=this.words[n]|0;this.words[n]=b<<26-v|P>>>v,b=P&M}return m&&b!==0&&(m.words[m.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,o,c){return u(this.negative===0),this.iushrn(t,o,c)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26,l=1<<o;if(this.length<=c)return!1;var v=this.words[c];return!!(v&l)},s.prototype.imaskn=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(o!==0&&c++,this.length=Math.min(c,this.length),o!==0){var l=67108863^67108863>>>o<<o;this.words[this.length-1]&=l}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return u(typeof t=="number"),u(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},s.prototype.isubn=function(t){if(u(typeof t=="number"),u(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,o,c){var l=t.length+c,v;this._expand(l);var w,M=0;for(v=0;v<t.length;v++){w=(this.words[v+c]|0)+M;var m=(t.words[v]|0)*o;w-=m&67108863,M=(w>>26)-(m/67108864|0),this.words[v+c]=w&67108863}for(;v<this.length-c;v++)w=(this.words[v+c]|0)+M,M=w>>26,this.words[v+c]=w&67108863;if(M===0)return this.strip();for(u(M===-1),M=0,v=0;v<this.length;v++)w=-(this.words[v]|0)+M,M=w>>26,this.words[v]=w&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,o){var c=this.length-t.length,l=this.clone(),v=t,w=v.words[v.length-1]|0,M=this._countBits(w);c=26-M,c!==0&&(v=v.ushln(c),l.iushln(c),w=v.words[v.length-1]|0);var m=l.length-v.length,n;if(o!=="mod"){n=new s(null),n.length=m+1,n.words=new Array(n.length);for(var b=0;b<n.length;b++)n.words[b]=0}var P=l.clone()._ishlnsubmul(v,1,m);P.negative===0&&(l=P,n&&(n.words[m]=1));for(var I=m-1;I>=0;I--){var F=(l.words[v.length+I]|0)*67108864+(l.words[v.length+I-1]|0);for(F=Math.min(F/w|0,67108863),l._ishlnsubmul(v,F,I);l.negative!==0;)F--,l.negative=0,l._ishlnsubmul(v,1,I),l.isZero()||(l.negative^=1);n&&(n.words[I]=F)}return n&&n.strip(),l.strip(),o!=="div"&&c!==0&&l.iushrn(c),{div:n||null,mod:l}},s.prototype.divmod=function(t,o,c){if(u(!t.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var l,v,w;return this.negative!==0&&t.negative===0?(w=this.neg().divmod(t,o),o!=="mod"&&(l=w.div.neg()),o!=="div"&&(v=w.mod.neg(),c&&v.negative!==0&&v.iadd(t)),{div:l,mod:v}):this.negative===0&&t.negative!==0?(w=this.divmod(t.neg(),o),o!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&t.negative?(w=this.neg().divmod(t.neg(),o),o!=="div"&&(v=w.mod.neg(),c&&v.negative!==0&&v.isub(t)),{div:w.div,mod:v}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:t.length===1?o==="div"?{div:this.divn(t.words[0]),mod:null}:o==="mod"?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,o)},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var o=this.divmod(t);if(o.mod.isZero())return o.div;var c=o.div.negative!==0?o.mod.isub(t):o.mod,l=t.ushrn(1),v=t.andln(1),w=c.cmp(l);return w<0||v===1&&w===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},s.prototype.modn=function(t){u(t<=67108863);for(var o=(1<<26)%t,c=0,l=this.length-1;l>=0;l--)c=(o*c+(this.words[l]|0))%t;return c},s.prototype.idivn=function(t){u(t<=67108863);for(var o=0,c=this.length-1;c>=0;c--){var l=(this.words[c]|0)+o*67108864;this.words[c]=l/t|0,o=l%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){u(t.negative===0),u(!t.isZero());var o=this,c=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var l=new s(1),v=new s(0),w=new s(0),M=new s(1),m=0;o.isEven()&&c.isEven();)o.iushrn(1),c.iushrn(1),++m;for(var n=c.clone(),b=o.clone();!o.isZero();){for(var P=0,I=1;!(o.words[0]&I)&&P<26;++P,I<<=1);if(P>0)for(o.iushrn(P);P-- >0;)(l.isOdd()||v.isOdd())&&(l.iadd(n),v.isub(b)),l.iushrn(1),v.iushrn(1);for(var F=0,Y=1;!(c.words[0]&Y)&&F<26;++F,Y<<=1);if(F>0)for(c.iushrn(F);F-- >0;)(w.isOdd()||M.isOdd())&&(w.iadd(n),M.isub(b)),w.iushrn(1),M.iushrn(1);o.cmp(c)>=0?(o.isub(c),l.isub(w),v.isub(M)):(c.isub(o),w.isub(l),M.isub(v))}return{a:w,b:M,gcd:c.iushln(m)}},s.prototype._invmp=function(t){u(t.negative===0),u(!t.isZero());var o=this,c=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var l=new s(1),v=new s(0),w=c.clone();o.cmpn(1)>0&&c.cmpn(1)>0;){for(var M=0,m=1;!(o.words[0]&m)&&M<26;++M,m<<=1);if(M>0)for(o.iushrn(M);M-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var n=0,b=1;!(c.words[0]&b)&&n<26;++n,b<<=1);if(n>0)for(c.iushrn(n);n-- >0;)v.isOdd()&&v.iadd(w),v.iushrn(1);o.cmp(c)>=0?(o.isub(c),l.isub(v)):(c.isub(o),v.isub(l))}var P;return o.cmpn(1)===0?P=l:P=v,P.cmpn(0)<0&&P.iadd(t),P},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var o=this.clone(),c=t.clone();o.negative=0,c.negative=0;for(var l=0;o.isEven()&&c.isEven();l++)o.iushrn(1),c.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;c.isEven();)c.iushrn(1);var v=o.cmp(c);if(v<0){var w=o;o=c,c=w}else if(v===0||c.cmpn(1)===0)break;o.isub(c)}while(!0);return c.iushln(l)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){u(typeof t=="number");var o=t%26,c=(t-o)/26,l=1<<o;if(this.length<=c)return this._expand(c+1),this.words[c]|=l,this;for(var v=l,w=c;v!==0&&w<this.length;w++){var M=this.words[w]|0;M+=v,v=M>>>26,M&=67108863,this.words[w]=M}return v!==0&&(this.words[w]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(t){var o=t<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var c;if(this.length>1)c=1;else{o&&(t=-t),u(t<=67108863,"Number is too big");var l=this.words[0]|0;c=l===t?0:l<t?-1:1}return this.negative!==0?-c|0:c},s.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var o=this.ucmp(t);return this.negative!==0?-o|0:o},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var o=0,c=this.length-1;c>=0;c--){var l=this.words[c]|0,v=t.words[c]|0;if(l!==v){l<v?o=-1:l>v&&(o=1);break}}return o},s.prototype.gtn=function(t){return this.cmpn(t)===1},s.prototype.gt=function(t){return this.cmp(t)===1},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return this.cmpn(t)===-1},s.prototype.lt=function(t){return this.cmp(t)===-1},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return this.cmpn(t)===0},s.prototype.eq=function(t){return this.cmp(t)===0},s.red=function(t){return new oe(t)},s.prototype.toRed=function(t){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return u(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return u(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var U={k256:null,p224:null,p192:null,p25519:null};function j(E,t){this.name=E,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},j.prototype.ireduce=function(t){var o=t,c;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),c=o.bitLength();while(c>this.n);var l=c<this.n?-1:o.ucmp(this.p);return l===0?(o.words[0]=0,o.length=1):l>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},j.prototype.split=function(t,o){t.iushrn(this.n,0,o)},j.prototype.imulK=function(t){return t.imul(this.k)};function ee(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}d(ee,j),ee.prototype.split=function(t,o){for(var c=4194303,l=Math.min(t.length,9),v=0;v<l;v++)o.words[v]=t.words[v];if(o.length=l,t.length<=9){t.words[0]=0,t.length=1;return}var w=t.words[9];for(o.words[o.length++]=w&c,v=10;v<t.length;v++){var M=t.words[v]|0;t.words[v-10]=(M&c)<<4|w>>>22,w=M}w>>>=22,t.words[v-10]=w,w===0&&t.length>10?t.length-=10:t.length-=9},ee.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var o=0,c=0;c<t.length;c++){var l=t.words[c]|0;o+=l*977,t.words[c]=o&67108863,o=l*64+(o/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function se(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}d(se,j);function Ee(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}d(Ee,j);function ge(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}d(ge,j),ge.prototype.imulK=function(t){for(var o=0,c=0;c<t.length;c++){var l=(t.words[c]|0)*19+o,v=l&67108863;l>>>=26,t.words[c]=v,o=l}return o!==0&&(t.words[t.length++]=o),t},s._prime=function(t){if(U[t])return U[t];var o;if(t==="k256")o=new ee;else if(t==="p224")o=new se;else if(t==="p192")o=new Ee;else if(t==="p25519")o=new ge;else throw new Error("Unknown prime "+t);return U[t]=o,o};function oe(E){if(typeof E=="string"){var t=s._prime(E);this.m=t.p,this.prime=t}else u(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}oe.prototype._verify1=function(t){u(t.negative===0,"red works only with positives"),u(t.red,"red works only with red numbers")},oe.prototype._verify2=function(t,o){u((t.negative|o.negative)===0,"red works only with positives"),u(t.red&&t.red===o.red,"red works only with red numbers")},oe.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},oe.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},oe.prototype.add=function(t,o){this._verify2(t,o);var c=t.add(o);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},oe.prototype.iadd=function(t,o){this._verify2(t,o);var c=t.iadd(o);return c.cmp(this.m)>=0&&c.isub(this.m),c},oe.prototype.sub=function(t,o){this._verify2(t,o);var c=t.sub(o);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},oe.prototype.isub=function(t,o){this._verify2(t,o);var c=t.isub(o);return c.cmpn(0)<0&&c.iadd(this.m),c},oe.prototype.shl=function(t,o){return this._verify1(t),this.imod(t.ushln(o))},oe.prototype.imul=function(t,o){return this._verify2(t,o),this.imod(t.imul(o))},oe.prototype.mul=function(t,o){return this._verify2(t,o),this.imod(t.mul(o))},oe.prototype.isqr=function(t){return this.imul(t,t.clone())},oe.prototype.sqr=function(t){return this.mul(t,t)},oe.prototype.sqrt=function(t){if(t.isZero())return t.clone();var o=this.m.andln(3);if(u(o%2===1),o===3){var c=this.m.add(new s(1)).iushrn(2);return this.pow(t,c)}for(var l=this.m.subn(1),v=0;!l.isZero()&&l.andln(1)===0;)v++,l.iushrn(1);u(!l.isZero());var w=new s(1).toRed(this),M=w.redNeg(),m=this.m.subn(1).iushrn(1),n=this.m.bitLength();for(n=new s(2*n*n).toRed(this);this.pow(n,m).cmp(M)!==0;)n.redIAdd(M);for(var b=this.pow(n,l),P=this.pow(t,l.addn(1).iushrn(1)),I=this.pow(t,l),F=v;I.cmp(w)!==0;){for(var Y=I,X=0;Y.cmp(w)!==0;X++)Y=Y.redSqr();u(X<F);var T=this.pow(b,new s(1).iushln(F-X-1));P=P.redMul(T),b=T.redSqr(),I=I.redMul(b),F=X}return P},oe.prototype.invm=function(t){var o=t._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},oe.prototype.pow=function(t,o){if(o.isZero())return new s(1).toRed(this);if(o.cmpn(1)===0)return t.clone();var c=4,l=new Array(1<<c);l[0]=new s(1).toRed(this),l[1]=t;for(var v=2;v<l.length;v++)l[v]=this.mul(l[v-1],t);var w=l[0],M=0,m=0,n=o.bitLength()%26;for(n===0&&(n=26),v=o.length-1;v>=0;v--){for(var b=o.words[v],P=n-1;P>=0;P--){var I=b>>P&1;if(w!==l[0]&&(w=this.sqr(w)),I===0&&M===0){m=0;continue}M<<=1,M|=I,m++,!(m!==c&&(v!==0||P!==0))&&(w=this.mul(w,l[M]),m=0,M=0)}n=26}return w},oe.prototype.convertTo=function(t){var o=t.umod(this.m);return o===t?o.clone():o},oe.prototype.convertFrom=function(t){var o=t.clone();return o.red=null,o},s.mont=function(t){return new Le(t)};function Le(E){oe.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}d(Le,oe),Le.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Le.prototype.convertFrom=function(t){var o=this.imod(t.mul(this.rinv));return o.red=null,o},Le.prototype.imul=function(t,o){if(t.isZero()||o.isZero())return t.words[0]=0,t.length=1,t;var c=t.imul(o),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(l).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},Le.prototype.mul=function(t,o){if(t.isZero()||o.isZero())return new s(0)._forceRed(this);var c=t.mul(o),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(l).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},Le.prototype.invm=function(t){var o=this.imod(t._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,commonjsGlobal)}(bn$2)),bn$2.exports}var api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(r,e){if(r.indexOf)return r.indexOf(e);for(var a=0;a<r.length;a++)if(r[a]===e)return a;return-1},Object_keys=function(r){if(Object.keys)return Object.keys(r);var e=[];for(var a in r)e.push(a);return e},forEach=function(r,e){if(r.forEach)return r.forEach(e);for(var a=0;a<r.length;a++)e(r[a],a,r)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(r,e,a){Object.defineProperty(r,e,{writable:!0,enumerable:!1,configurable:!0,value:a})}}catch{return function(e,a,u){e[a]=u}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(r){if(!(r instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var a=e.contentWindow,u=a.eval,d=a.execScript;!u&&d&&(d.call(a,"null"),u=a.eval),forEach(Object_keys(r),function(x){a[x]=r[x]}),forEach(globals,function(x){r[x]&&(a[x]=r[x])});var s=Object_keys(a),g=u.call(a,this.code);return forEach(Object_keys(a),function(x){(x in r||indexOf(s,x)===-1)&&(r[x]=a[x])}),forEach(globals,function(x){x in r||defineProp(r,x,a[x])}),document.body.removeChild(e),g},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(r){var e=Script.createContext(r),a=this.runInContext(e);return r&&forEach(Object_keys(e),function(u){r[u]=e[u]}),a},forEach(Object_keys(Script.prototype),function(r){exports[r]=Script[r]=function(e){var a=Script(e);return a[r].apply(a,[].slice.call(arguments,1))}}),exports.isContext=function(r){return r instanceof Context},exports.createScript=function(r){return exports.Script(r)},exports.createContext=Script.createContext=function(r){var e=new Context;return typeof r=="object"&&forEach(Object_keys(r),function(a){e[a]=r[a]}),e}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(r){var e=requireAsn1$1(),a=requireInherits_browser(),u=r;u.define=function(g,x){return new d(g,x)};function d(s,g){this.name=s,this.body=g,this.decoders={},this.encoders={}}d.prototype._createNamed=function(g){var x;try{x=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{x=function(S){this._initNamed(S)}}return a(x,g),x.prototype._initNamed=function(S){g.call(this,S)},new x(this)},d.prototype._getDecoder=function(g){return g=g||"der",this.decoders.hasOwnProperty(g)||(this.decoders[g]=this._createNamed(e.decoders[g])),this.decoders[g]},d.prototype.decode=function(g,x,_){return this._getDecoder(x).decode(g,_)},d.prototype._getEncoder=function(g){return g=g||"der",this.encoders.hasOwnProperty(g)||(this.encoders[g]=this._createNamed(e.encoders[g])),this.encoders[g]},d.prototype.encode=function(g,x,_){return this._getEncoder(x).encode(g,_)}}(api)),api}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var r=requireInherits_browser();function e(u){this._reporterState={obj:null,path:[],options:u||{},errors:[]}}reporter.Reporter=e,e.prototype.isError=function(d){return d instanceof a},e.prototype.save=function(){var d=this._reporterState;return{obj:d.obj,pathLen:d.path.length}},e.prototype.restore=function(d){var s=this._reporterState;s.obj=d.obj,s.path=s.path.slice(0,d.pathLen)},e.prototype.enterKey=function(d){return this._reporterState.path.push(d)},e.prototype.exitKey=function(d){var s=this._reporterState;s.path=s.path.slice(0,d-1)},e.prototype.leaveKey=function(d,s,g){var x=this._reporterState;this.exitKey(d),x.obj!==null&&(x.obj[s]=g)},e.prototype.path=function(){return this._reporterState.path.join("/")},e.prototype.enterObject=function(){var d=this._reporterState,s=d.obj;return d.obj={},s},e.prototype.leaveObject=function(d){var s=this._reporterState,g=s.obj;return s.obj=d,g},e.prototype.error=function(d){var s,g=this._reporterState,x=d instanceof a;if(x?s=d:s=new a(g.path.map(function(_){return"["+JSON.stringify(_)+"]"}).join(""),d.message||d,d.stack),!g.options.partial)throw s;return x||g.errors.push(s),s},e.prototype.wrapResult=function(d){var s=this._reporterState;return s.options.partial?{result:this.isError(d)?null:d,errors:s.errors}:d};function a(u,d){this.path=u,this.rethrow(d)}return r(a,Error),a.prototype.rethrow=function(d){if(this.message=d+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(s){this.stack=s.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var r=requireInherits_browser(),e=requireBase().Reporter,a=require$$0$1.Buffer;function u(s,g){if(e.call(this,g),!a.isBuffer(s)){this.error("Input not Buffer");return}this.base=s,this.offset=0,this.length=s.length}r(u,e),buffer.DecoderBuffer=u,u.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},u.prototype.restore=function(g){var x=new u(this.base);return x.offset=g.offset,x.length=this.offset,this.offset=g.offset,e.prototype.restore.call(this,g.reporter),x},u.prototype.isEmpty=function(){return this.offset===this.length},u.prototype.readUInt8=function(g){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(g||"DecoderBuffer overrun")},u.prototype.skip=function(g,x){if(!(this.offset+g<=this.length))return this.error(x||"DecoderBuffer overrun");var _=new u(this.base);return _._reporterState=this._reporterState,_.offset=this.offset,_.length=this.offset+g,this.offset+=g,_},u.prototype.raw=function(g){return this.base.slice(g?g.offset:this.offset,this.length)};function d(s,g){if(Array.isArray(s))this.length=0,this.value=s.map(function(x){return x instanceof d||(x=new d(x,g)),this.length+=x.length,x},this);else if(typeof s=="number"){if(!(0<=s&&s<=255))return g.error("non-byte EncoderBuffer value");this.value=s,this.length=1}else if(typeof s=="string")this.value=s,this.length=a.byteLength(s);else if(a.isBuffer(s))this.value=s,this.length=s.length;else return g.error("Unsupported type: "+typeof s)}return buffer.EncoderBuffer=d,d.prototype.join=function(g,x){return g||(g=new a(this.length)),x||(x=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(_){_.join(g,x),x+=_.length}):(typeof this.value=="number"?g[x]=this.value:typeof this.value=="string"?g.write(this.value,x):a.isBuffer(this.value)&&this.value.copy(g,x),x+=this.length)),g},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var r=requireBase().Reporter,e=requireBase().EncoderBuffer,a=requireBase().DecoderBuffer,u=requireMinimalisticAssert(),d=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],s=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(d),g=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function x(S,y){var A={};this._baseState=A,A.enc=S,A.parent=y||null,A.children=null,A.tag=null,A.args=null,A.reverseArgs=null,A.choice=null,A.optional=!1,A.any=!1,A.obj=!1,A.use=null,A.useDecoder=null,A.key=null,A.default=null,A.explicit=null,A.implicit=null,A.contains=null,A.parent||(A.children=[],this._wrap())}node=x;var _=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return x.prototype.clone=function(){var y=this._baseState,A={};_.forEach(function(B){A[B]=y[B]});var R=new this.constructor(A.parent);return R._baseState=A,R},x.prototype._wrap=function(){var y=this._baseState;s.forEach(function(A){this[A]=function(){var B=new this.constructor(this);return y.children.push(B),B[A].apply(B,arguments)}},this)},x.prototype._init=function(y){var A=this._baseState;u(A.parent===null),y.call(this),A.children=A.children.filter(function(R){return R._baseState.parent===this},this),u.equal(A.children.length,1,"Root node can have only one child")},x.prototype._useArgs=function(y){var A=this._baseState,R=y.filter(function(B){return B instanceof this.constructor},this);y=y.filter(function(B){return!(B instanceof this.constructor)},this),R.length!==0&&(u(A.children===null),A.children=R,R.forEach(function(B){B._baseState.parent=this},this)),y.length!==0&&(u(A.args===null),A.args=y,A.reverseArgs=y.map(function(B){if(typeof B!="object"||B.constructor!==Object)return B;var q={};return Object.keys(B).forEach(function(C){C==(C|0)&&(C|=0);var N=B[C];q[N]=C}),q}))},g.forEach(function(S){x.prototype[S]=function(){var A=this._baseState;throw new Error(S+" not implemented for encoding: "+A.enc)}}),d.forEach(function(S){x.prototype[S]=function(){var A=this._baseState,R=Array.prototype.slice.call(arguments);return u(A.tag===null),A.tag=S,this._useArgs(R),this}}),x.prototype.use=function(y){u(y);var A=this._baseState;return u(A.use===null),A.use=y,this},x.prototype.optional=function(){var y=this._baseState;return y.optional=!0,this},x.prototype.def=function(y){var A=this._baseState;return u(A.default===null),A.default=y,A.optional=!0,this},x.prototype.explicit=function(y){var A=this._baseState;return u(A.explicit===null&&A.implicit===null),A.explicit=y,this},x.prototype.implicit=function(y){var A=this._baseState;return u(A.explicit===null&&A.implicit===null),A.implicit=y,this},x.prototype.obj=function(){var y=this._baseState,A=Array.prototype.slice.call(arguments);return y.obj=!0,A.length!==0&&this._useArgs(A),this},x.prototype.key=function(y){var A=this._baseState;return u(A.key===null),A.key=y,this},x.prototype.any=function(){var y=this._baseState;return y.any=!0,this},x.prototype.choice=function(y){var A=this._baseState;return u(A.choice===null),A.choice=y,this._useArgs(Object.keys(y).map(function(R){return y[R]})),this},x.prototype.contains=function(y){var A=this._baseState;return u(A.use===null),A.contains=y,this},x.prototype._decode=function(y,A){var R=this._baseState;if(R.parent===null)return y.wrapResult(R.children[0]._decode(y,A));var B=R.default,q=!0,C=null;if(R.key!==null&&(C=y.enterKey(R.key)),R.optional){var N=null;if(R.explicit!==null?N=R.explicit:R.implicit!==null?N=R.implicit:R.tag!==null&&(N=R.tag),N===null&&!R.any){var k=y.save();try{R.choice===null?this._decodeGeneric(R.tag,y,A):this._decodeChoice(y,A),q=!0}catch{q=!1}y.restore(k)}else if(q=this._peekTag(y,N,R.any),y.isError(q))return q}var L;if(R.obj&&q&&(L=y.enterObject()),q){if(R.explicit!==null){var U=this._decodeTag(y,R.explicit);if(y.isError(U))return U;y=U}var j=y.offset;if(R.use===null&&R.choice===null){if(R.any)var k=y.save();var ee=this._decodeTag(y,R.implicit!==null?R.implicit:R.tag,R.any);if(y.isError(ee))return ee;R.any?B=y.raw(k):y=ee}if(A&&A.track&&R.tag!==null&&A.track(y.path(),j,y.length,"tagged"),A&&A.track&&R.tag!==null&&A.track(y.path(),y.offset,y.length,"content"),R.any?B=B:R.choice===null?B=this._decodeGeneric(R.tag,y,A):B=this._decodeChoice(y,A),y.isError(B))return B;if(!R.any&&R.choice===null&&R.children!==null&&R.children.forEach(function(ge){ge._decode(y,A)}),R.contains&&(R.tag==="octstr"||R.tag==="bitstr")){var se=new a(B);B=this._getUse(R.contains,y._reporterState.obj)._decode(se,A)}}return R.obj&&q&&(B=y.leaveObject(L)),R.key!==null&&(B!==null||q===!0)?y.leaveKey(C,R.key,B):C!==null&&y.exitKey(C),B},x.prototype._decodeGeneric=function(y,A,R){var B=this._baseState;return y==="seq"||y==="set"?null:y==="seqof"||y==="setof"?this._decodeList(A,y,B.args[0],R):/str$/.test(y)?this._decodeStr(A,y,R):y==="objid"&&B.args?this._decodeObjid(A,B.args[0],B.args[1],R):y==="objid"?this._decodeObjid(A,null,null,R):y==="gentime"||y==="utctime"?this._decodeTime(A,y,R):y==="null_"?this._decodeNull(A,R):y==="bool"?this._decodeBool(A,R):y==="objDesc"?this._decodeStr(A,y,R):y==="int"||y==="enum"?this._decodeInt(A,B.args&&B.args[0],R):B.use!==null?this._getUse(B.use,A._reporterState.obj)._decode(A,R):A.error("unknown tag: "+y)},x.prototype._getUse=function(y,A){var R=this._baseState;return R.useDecoder=this._use(y,A),u(R.useDecoder._baseState.parent===null),R.useDecoder=R.useDecoder._baseState.children[0],R.implicit!==R.useDecoder._baseState.implicit&&(R.useDecoder=R.useDecoder.clone(),R.useDecoder._baseState.implicit=R.implicit),R.useDecoder},x.prototype._decodeChoice=function(y,A){var R=this._baseState,B=null,q=!1;return Object.keys(R.choice).some(function(C){var N=y.save(),k=R.choice[C];try{var L=k._decode(y,A);if(y.isError(L))return!1;B={type:C,value:L},q=!0}catch{return y.restore(N),!1}return!0},this),q?B:y.error("Choice not matched")},x.prototype._createEncoderBuffer=function(y){return new e(y,this.reporter)},x.prototype._encode=function(y,A,R){var B=this._baseState;if(!(B.default!==null&&B.default===y)){var q=this._encodeValue(y,A,R);if(q!==void 0&&!this._skipDefault(q,A,R))return q}},x.prototype._encodeValue=function(y,A,R){var B=this._baseState;if(B.parent===null)return B.children[0]._encode(y,A||new r);var k=null;if(this.reporter=A,B.optional&&y===void 0)if(B.default!==null)y=B.default;else return;var q=null,C=!1;if(B.any)k=this._createEncoderBuffer(y);else if(B.choice)k=this._encodeChoice(y,A);else if(B.contains)q=this._getUse(B.contains,R)._encode(y,A),C=!0;else if(B.children)q=B.children.map(function(j){if(j._baseState.tag==="null_")return j._encode(null,A,y);if(j._baseState.key===null)return A.error("Child should have a key");var ee=A.enterKey(j._baseState.key);if(typeof y!="object")return A.error("Child expected, but input is not object");var se=j._encode(y[j._baseState.key],A,y);return A.leaveKey(ee),se},this).filter(function(j){return j}),q=this._createEncoderBuffer(q);else if(B.tag==="seqof"||B.tag==="setof"){if(!(B.args&&B.args.length===1))return A.error("Too many args for : "+B.tag);if(!Array.isArray(y))return A.error("seqof/setof, but data is not Array");var N=this.clone();N._baseState.implicit=null,q=this._createEncoderBuffer(y.map(function(j){var ee=this._baseState;return this._getUse(ee.args[0],y)._encode(j,A)},N))}else B.use!==null?k=this._getUse(B.use,R)._encode(y,A):(q=this._encodePrimitive(B.tag,y),C=!0);var k;if(!B.any&&B.choice===null){var L=B.implicit!==null?B.implicit:B.tag,U=B.implicit===null?"universal":"context";L===null?B.use===null&&A.error("Tag could be omitted only for .use()"):B.use===null&&(k=this._encodeComposite(L,C,U,q))}return B.explicit!==null&&(k=this._encodeComposite(B.explicit,!1,"context",k)),k},x.prototype._encodeChoice=function(y,A){var R=this._baseState,B=R.choice[y.type];return B||u(!1,y.type+" not found in "+JSON.stringify(Object.keys(R.choice))),B._encode(y.value,A)},x.prototype._encodePrimitive=function(y,A){var R=this._baseState;if(/str$/.test(y))return this._encodeStr(A,y);if(y==="objid"&&R.args)return this._encodeObjid(A,R.reverseArgs[0],R.args[1]);if(y==="objid")return this._encodeObjid(A,null,null);if(y==="gentime"||y==="utctime")return this._encodeTime(A,y);if(y==="null_")return this._encodeNull();if(y==="int"||y==="enum")return this._encodeInt(A,R.args&&R.reverseArgs[0]);if(y==="bool")return this._encodeBool(A);if(y==="objDesc")return this._encodeStr(A,y);throw new Error("Unsupported tag: "+y)},x.prototype._isNumstr=function(y){return/^[0-9 ]*$/.test(y)},x.prototype._isPrintstr=function(y){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(y)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(r){var e=r;e.Reporter=requireReporter().Reporter,e.DecoderBuffer=requireBuffer().DecoderBuffer,e.EncoderBuffer=requireBuffer().EncoderBuffer,e.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(r){var e=requireConstants();r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=e._reverse(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=e._reverse(r.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(r){var e=r;e._reverse=function(u){var d={};return Object.keys(u).forEach(function(s){(s|0)==s&&(s=s|0);var g=u[s];d[g]=s}),d},e.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var r=requireInherits_browser(),e=requireAsn1$1(),a=e.base,u=e.bignum,d=e.constants.der;function s(S){this.enc="der",this.name=S.name,this.entity=S,this.tree=new g,this.tree._init(S.body)}der_1$1=s,s.prototype.decode=function(y,A){return y instanceof a.DecoderBuffer||(y=new a.DecoderBuffer(y,A)),this.tree._decode(y,A)};function g(S){a.Node.call(this,"der",S)}r(g,a.Node),g.prototype._peekTag=function(y,A,R){if(y.isEmpty())return!1;var B=y.save(),q=x(y,'Failed to peek tag: "'+A+'"');return y.isError(q)?q:(y.restore(B),q.tag===A||q.tagStr===A||q.tagStr+"of"===A||R)},g.prototype._decodeTag=function(y,A,R){var B=x(y,'Failed to decode tag of "'+A+'"');if(y.isError(B))return B;var q=_(y,B.primitive,'Failed to get length of "'+A+'"');if(y.isError(q))return q;if(!R&&B.tag!==A&&B.tagStr!==A&&B.tagStr+"of"!==A)return y.error('Failed to match tag: "'+A+'"');if(B.primitive||q!==null)return y.skip(q,'Failed to match body of: "'+A+'"');var C=y.save(),N=this._skipUntilEnd(y,'Failed to skip indefinite length body: "'+this.tag+'"');return y.isError(N)?N:(q=y.offset-C.offset,y.restore(C),y.skip(q,'Failed to match body of: "'+A+'"'))},g.prototype._skipUntilEnd=function(y,A){for(;;){var R=x(y,A);if(y.isError(R))return R;var B=_(y,R.primitive,A);if(y.isError(B))return B;var q;if(R.primitive||B!==null?q=y.skip(B):q=this._skipUntilEnd(y,A),y.isError(q))return q;if(R.tagStr==="end")break}},g.prototype._decodeList=function(y,A,R,B){for(var q=[];!y.isEmpty();){var C=this._peekTag(y,"end");if(y.isError(C))return C;var N=R.decode(y,"der",B);if(y.isError(N)&&C)break;q.push(N)}return q},g.prototype._decodeStr=function(y,A){if(A==="bitstr"){var R=y.readUInt8();return y.isError(R)?R:{unused:R,data:y.raw()}}else if(A==="bmpstr"){var B=y.raw();if(B.length%2===1)return y.error("Decoding of string type: bmpstr length mismatch");for(var q="",C=0;C<B.length/2;C++)q+=String.fromCharCode(B.readUInt16BE(C*2));return q}else if(A==="numstr"){var N=y.raw().toString("ascii");return this._isNumstr(N)?N:y.error("Decoding of string type: numstr unsupported characters")}else{if(A==="octstr")return y.raw();if(A==="objDesc")return y.raw();if(A==="printstr"){var k=y.raw().toString("ascii");return this._isPrintstr(k)?k:y.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(A)?y.raw().toString():y.error("Decoding of string type: "+A+" unsupported")}},g.prototype._decodeObjid=function(y,A,R){for(var B,q=[],C=0;!y.isEmpty();){var N=y.readUInt8();C<<=7,C|=N&127,N&128||(q.push(C),C=0)}N&128&&q.push(C);var k=q[0]/40|0,L=q[0]%40;if(R?B=q:B=[k,L].concat(q.slice(1)),A){var U=A[B.join(" ")];U===void 0&&(U=A[B.join(".")]),U!==void 0&&(B=U)}return B},g.prototype._decodeTime=function(y,A){var R=y.raw().toString();if(A==="gentime")var B=R.slice(0,4)|0,q=R.slice(4,6)|0,C=R.slice(6,8)|0,N=R.slice(8,10)|0,k=R.slice(10,12)|0,L=R.slice(12,14)|0;else if(A==="utctime"){var B=R.slice(0,2)|0,q=R.slice(2,4)|0,C=R.slice(4,6)|0,N=R.slice(6,8)|0,k=R.slice(8,10)|0,L=R.slice(10,12)|0;B<70?B=2e3+B:B=1900+B}else return y.error("Decoding "+A+" time is not supported yet");return Date.UTC(B,q-1,C,N,k,L,0)},g.prototype._decodeNull=function(y){return null},g.prototype._decodeBool=function(y){var A=y.readUInt8();return y.isError(A)?A:A!==0},g.prototype._decodeInt=function(y,A){var R=y.raw(),B=new u(R);return A&&(B=A[B.toString(10)]||B),B},g.prototype._use=function(y,A){return typeof y=="function"&&(y=y(A)),y._getDecoder("der").tree};function x(S,y){var A=S.readUInt8(y);if(S.isError(A))return A;var R=d.tagClass[A>>6],B=(A&32)===0;if((A&31)===31){var q=A;for(A=0;(q&128)===128;){if(q=S.readUInt8(y),S.isError(q))return q;A<<=7,A|=q&127}}else A&=31;var C=d.tag[A];return{cls:R,primitive:B,tag:A,tagStr:C}}function _(S,y,A){var R=S.readUInt8(A);if(S.isError(R))return R;if(!y&&R===128)return null;if(!(R&128))return R;var B=R&127;if(B>4)return S.error("length octect is too long");R=0;for(var q=0;q<B;q++){R<<=8;var C=S.readUInt8(A);if(S.isError(C))return C;R|=C}return R}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var r=requireInherits_browser(),e=require$$0$1.Buffer,a=requireDer$1();function u(d){a.call(this,d),this.enc="pem"}return r(u,a),pem$1=u,u.prototype.decode=function(s,g){for(var x=s.toString().split(/[\r\n]+/g),_=g.label.toUpperCase(),S=/^-----(BEGIN|END) ([^-]+)-----$/,y=-1,A=-1,R=0;R<x.length;R++){var B=x[R].match(S);if(B!==null&&B[2]===_)if(y===-1){if(B[1]!=="BEGIN")break;y=R}else{if(B[1]!=="END")break;A=R;break}}if(y===-1||A===-1)throw new Error("PEM section not found for: "+_);var q=x.slice(y+1,A).join("");q.replace(/[^a-z0-9\+\/=]+/gi,"");var C=new e(q,"base64");return a.prototype.decode.call(this,C,g)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(r){var e=r;e.der=requireDer$1(),e.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var r=requireInherits_browser(),e=require$$0$1.Buffer,a=requireAsn1$1(),u=a.base,d=a.constants.der;function s(S){this.enc="der",this.name=S.name,this.entity=S,this.tree=new g,this.tree._init(S.body)}der_1=s,s.prototype.encode=function(y,A){return this.tree._encode(y,A).join()};function g(S){u.Node.call(this,"der",S)}r(g,u.Node),g.prototype._encodeComposite=function(y,A,R,B){var q=_(y,A,R,this.reporter);if(B.length<128){var k=new e(2);return k[0]=q,k[1]=B.length,this._createEncoderBuffer([k,B])}for(var C=1,N=B.length;N>=256;N>>=8)C++;var k=new e(2+C);k[0]=q,k[1]=128|C;for(var N=1+C,L=B.length;L>0;N--,L>>=8)k[N]=L&255;return this._createEncoderBuffer([k,B])},g.prototype._encodeStr=function(y,A){if(A==="bitstr")return this._createEncoderBuffer([y.unused|0,y.data]);if(A==="bmpstr"){for(var R=new e(y.length*2),B=0;B<y.length;B++)R.writeUInt16BE(y.charCodeAt(B),B*2);return this._createEncoderBuffer(R)}else return A==="numstr"?this._isNumstr(y)?this._createEncoderBuffer(y):this.reporter.error("Encoding of string type: numstr supports only digits and space"):A==="printstr"?this._isPrintstr(y)?this._createEncoderBuffer(y):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(A)?this._createEncoderBuffer(y):A==="objDesc"?this._createEncoderBuffer(y):this.reporter.error("Encoding of string type: "+A+" unsupported")},g.prototype._encodeObjid=function(y,A,R){if(typeof y=="string"){if(!A)return this.reporter.error("string objid given, but no values map found");if(!A.hasOwnProperty(y))return this.reporter.error("objid not found in values map");y=A[y].split(/[\s\.]+/g);for(var B=0;B<y.length;B++)y[B]|=0}else if(Array.isArray(y)){y=y.slice();for(var B=0;B<y.length;B++)y[B]|=0}if(!Array.isArray(y))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(y));if(!R){if(y[1]>=40)return this.reporter.error("Second objid identifier OOB");y.splice(0,2,y[0]*40+y[1])}for(var q=0,B=0;B<y.length;B++){var C=y[B];for(q++;C>=128;C>>=7)q++}for(var N=new e(q),k=N.length-1,B=y.length-1;B>=0;B--){var C=y[B];for(N[k--]=C&127;(C>>=7)>0;)N[k--]=128|C&127}return this._createEncoderBuffer(N)};function x(S){return S<10?"0"+S:S}g.prototype._encodeTime=function(y,A){var R,B=new Date(y);return A==="gentime"?R=[x(B.getFullYear()),x(B.getUTCMonth()+1),x(B.getUTCDate()),x(B.getUTCHours()),x(B.getUTCMinutes()),x(B.getUTCSeconds()),"Z"].join(""):A==="utctime"?R=[x(B.getFullYear()%100),x(B.getUTCMonth()+1),x(B.getUTCDate()),x(B.getUTCHours()),x(B.getUTCMinutes()),x(B.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+A+" time is not supported yet"),this._encodeStr(R,"octstr")},g.prototype._encodeNull=function(){return this._createEncoderBuffer("")},g.prototype._encodeInt=function(y,A){if(typeof y=="string"){if(!A)return this.reporter.error("String int or enum given, but no values map");if(!A.hasOwnProperty(y))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(y));y=A[y]}if(typeof y!="number"&&!e.isBuffer(y)){var R=y.toArray();!y.sign&&R[0]&128&&R.unshift(0),y=new e(R)}if(e.isBuffer(y)){var B=y.length;y.length===0&&B++;var C=new e(B);return y.copy(C),y.length===0&&(C[0]=0),this._createEncoderBuffer(C)}if(y<128)return this._createEncoderBuffer(y);if(y<256)return this._createEncoderBuffer([0,y]);for(var B=1,q=y;q>=256;q>>=8)B++;for(var C=new Array(B),q=C.length-1;q>=0;q--)C[q]=y&255,y>>=8;return C[0]&128&&C.unshift(0),this._createEncoderBuffer(new e(C))},g.prototype._encodeBool=function(y){return this._createEncoderBuffer(y?255:0)},g.prototype._use=function(y,A){return typeof y=="function"&&(y=y(A)),y._getEncoder("der").tree},g.prototype._skipDefault=function(y,A,R){var B=this._baseState,q;if(B.default===null)return!1;var C=y.join();if(B.defaultBuffer===void 0&&(B.defaultBuffer=this._encodeValue(B.default,A,R).join()),C.length!==B.defaultBuffer.length)return!1;for(q=0;q<C.length;q++)if(C[q]!==B.defaultBuffer[q])return!1;return!0};function _(S,y,A,R){var B;if(S==="seqof"?S="seq":S==="setof"&&(S="set"),d.tagByName.hasOwnProperty(S))B=d.tagByName[S];else if(typeof S=="number"&&(S|0)===S)B=S;else return R.error("Unknown tag: "+S);return B>=31?R.error("Multi-octet tag encoding unsupported"):(y||(B|=32),B|=d.tagClassByName[A||"universal"]<<6,B)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var r=requireInherits_browser(),e=requireDer();function a(u){e.call(this,u),this.enc="pem"}return r(a,e),pem=a,a.prototype.encode=function(d,s){for(var g=e.prototype.encode.call(this,d),x=g.toString("base64"),_=["-----BEGIN "+s.label+"-----"],S=0;S<x.length;S+=64)_.push(x.slice(S,S+64));return _.push("-----END "+s.label+"-----"),_.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(r){var e=r;e.der=requireDer(),e.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(r){var e=r;e.bignum=requireBn$2(),e.define=requireApi().define,e.base=requireBase(),e.constants=requireConstants(),e.decoders=requireDecoders(),e.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var r=requireAsn1$1(),e=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),u=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),d=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())}),s=r.define("RelativeDistinguishedName",function(){this.setof(a)}),g=r.define("RDNSequence",function(){this.seqof(s)}),x=r.define("Name",function(){this.choice({rdnSequence:this.use(g)})}),_=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),S=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),y=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(u),this.key("issuer").use(x),this.key("validity").use(_),this.key("subject").use(x),this.key("subjectPublicKeyInfo").use(d),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(S).optional())}),A=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(u),this.key("signatureValue").bitstr())});return certificate=A,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var r=requireAsn1$1();asn1$1.certificate=requireCertificate();var e=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=e;var a=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=a;var u=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),d=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=d;var s=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(u),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=s;var g=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=g;var x=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=x,asn1$1.DSAparam=r.define("DSAparam",function(){this.int()});var _=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),S=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(_),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=S,asn1$1.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,u=requireEvp_bytestokey(),d=requireBrowser$6(),s=requireSafeBuffer$1().Buffer;return fixProc=function(g,x){var _=g.toString(),S=_.match(r),y;if(S){var R="aes"+S[1],B=s.from(S[2],"hex"),q=s.from(S[3].replace(/[\r\n]/g,""),"base64"),C=u(x,B.slice(0,8),parseInt(S[1],10)).key,N=[],k=d.createDecipheriv(R,C,B);N.push(k.update(q)),N.push(k.final()),y=s.concat(N)}else{var A=_.match(a);y=s.from(A[2].replace(/[\r\n]/g,""),"base64")}var L=_.match(e)[1];return{tag:L,data:y}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var r=requireAsn1(),e=require$$1,a=requireFixProc(),u=requireBrowser$6(),d=requireBrowser$7(),s=requireSafeBuffer$1().Buffer;function g(_,S){var y=_.algorithm.decrypt.kde.kdeparams.salt,A=parseInt(_.algorithm.decrypt.kde.kdeparams.iters.toString(),10),R=e[_.algorithm.decrypt.cipher.algo.join(".")],B=_.algorithm.decrypt.cipher.iv,q=_.subjectPrivateKey,C=parseInt(R.split("-")[1],10)/8,N=d.pbkdf2Sync(S,y,A,C,"sha1"),k=u.createDecipheriv(R,N,B),L=[];return L.push(k.update(q)),L.push(k.final()),s.concat(L)}function x(_){var S;typeof _=="object"&&!s.isBuffer(_)&&(S=_.passphrase,_=_.key),typeof _=="string"&&(_=s.from(_));var y=a(_,S),A=y.tag,R=y.data,B,q;switch(A){case"CERTIFICATE":q=r.certificate.decode(R,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(q||(q=r.PublicKey.decode(R,"der")),B=q.algorithm.algorithm.join("."),B){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(q.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return q.subjectPrivateKey=q.subjectPublicKey,{type:"ec",data:q};case"1.2.840.10040.4.1":return q.algorithm.params.pub_key=r.DSAparam.decode(q.subjectPublicKey.data,"der"),{type:"dsa",data:q.algorithm.params};default:throw new Error("unknown key id "+B)}case"ENCRYPTED PRIVATE KEY":R=r.EncryptedPrivateKey.decode(R,"der"),R=g(R,S);case"PRIVATE KEY":switch(q=r.PrivateKey.decode(R,"der"),B=q.algorithm.algorithm.join("."),B){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(q.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:q.algorithm.curve,privateKey:r.ECPrivateKey.decode(q.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return q.algorithm.params.priv_key=r.DSAparam.decode(q.subjectPrivateKey,"der"),{type:"dsa",params:q.algorithm.params};default:throw new Error("unknown key id "+B)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(R,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(R,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(R,"der")};case"EC PRIVATE KEY":return R=r.ECPrivateKey.decode(R,"der"),{curve:R.parameters.value,privateKey:R.privateKey};default:throw new Error("unknown key type "+A)}}return x.signature=r.signature,parseAsn1=x,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var r=requireSafeBuffer$1().Buffer,e=requireBrowser$8(),a=requireBrowserifyRsa(),u=requireElliptic().ec,d=requireBn$4(),s=requireParseAsn1(),g=require$$4,x=1;function _(k,L,U,j,ee){var se=s(L);if(se.curve){if(j!=="ecdsa"&&j!=="ecdsa/rsa")throw new Error("wrong private key type");return S(k,se)}else if(se.type==="dsa"){if(j!=="dsa")throw new Error("wrong private key type");return y(k,se,U)}if(j!=="rsa"&&j!=="ecdsa/rsa")throw new Error("wrong private key type");if(L.padding!==void 0&&L.padding!==x)throw new Error("illegal or unsupported padding mode");k=r.concat([ee,k]);for(var Ee=se.modulus.byteLength(),ge=[0,1];k.length+ge.length+1<Ee;)ge.push(255);ge.push(0);for(var oe=-1;++oe<k.length;)ge.push(k[oe]);var Le=a(ge,se);return Le}function S(k,L){var U=g[L.curve.join(".")];if(!U)throw new Error("unknown curve "+L.curve.join("."));var j=new u(U),ee=j.keyFromPrivate(L.privateKey),se=ee.sign(k);return r.from(se.toDER())}function y(k,L,U){for(var j=L.params.priv_key,ee=L.params.p,se=L.params.q,Ee=L.params.g,ge=new d(0),oe,Le=B(k,se).mod(se),E=!1,t=R(j,se,k,U);E===!1;)oe=C(se,t,U),ge=N(Ee,oe,ee,se),E=oe.invm(se).imul(Le.add(j.mul(ge))).mod(se),E.cmpn(0)===0&&(E=!1,ge=new d(0));return A(ge,E)}function A(k,L){k=k.toArray(),L=L.toArray(),k[0]&128&&(k=[0].concat(k)),L[0]&128&&(L=[0].concat(L));var U=k.length+L.length+4,j=[48,U,2,k.length];return j=j.concat(k,[2,L.length],L),r.from(j)}function R(k,L,U,j){if(k=r.from(k.toArray()),k.length<L.byteLength()){var ee=r.alloc(L.byteLength()-k.length);k=r.concat([ee,k])}var se=U.length,Ee=q(U,L),ge=r.alloc(se);ge.fill(1);var oe=r.alloc(se);return oe=e(j,oe).update(ge).update(r.from([0])).update(k).update(Ee).digest(),ge=e(j,oe).update(ge).digest(),oe=e(j,oe).update(ge).update(r.from([1])).update(k).update(Ee).digest(),ge=e(j,oe).update(ge).digest(),{k:oe,v:ge}}function B(k,L){var U=new d(k),j=(k.length<<3)-L.bitLength();return j>0&&U.ishrn(j),U}function q(k,L){k=B(k,L),k=k.mod(L);var U=r.from(k.toArray());if(U.length<L.byteLength()){var j=r.alloc(L.byteLength()-U.length);U=r.concat([j,U])}return U}function C(k,L,U){var j,ee;do{for(j=r.alloc(0);j.length*8<k.bitLength();)L.v=e(U,L.k).update(L.v).digest(),j=r.concat([j,L.v]);ee=B(j,k),L.k=e(U,L.k).update(L.v).update(r.from([0])).digest(),L.v=e(U,L.k).update(L.v).digest()}while(ee.cmp(k)!==-1);return ee}function N(k,L,U,j){return k.toRed(d.mont(U)).redPow(L).fromRed().mod(j)}return sign.exports=_,sign.exports.getKey=R,sign.exports.makeKey=C,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var r=requireSafeBuffer$1().Buffer,e=requireBn$4(),a=requireElliptic().ec,u=requireParseAsn1(),d=require$$4;function s(S,y,A,R,B){var q=u(A);if(q.type==="ec"){if(R!=="ecdsa"&&R!=="ecdsa/rsa")throw new Error("wrong public key type");return g(S,y,q)}else if(q.type==="dsa"){if(R!=="dsa")throw new Error("wrong public key type");return x(S,y,q)}if(R!=="rsa"&&R!=="ecdsa/rsa")throw new Error("wrong public key type");y=r.concat([B,y]);for(var C=q.modulus.byteLength(),N=[1],k=0;y.length+N.length+2<C;)N.push(255),k+=1;N.push(0);for(var L=-1;++L<y.length;)N.push(y[L]);N=r.from(N);var U=e.mont(q.modulus);S=new e(S).toRed(U),S=S.redPow(new e(q.publicExponent)),S=r.from(S.fromRed().toArray());var j=k<8?1:0;for(C=Math.min(S.length,N.length),S.length!==N.length&&(j=1),L=-1;++L<C;)j|=S[L]^N[L];return j===0}function g(S,y,A){var R=d[A.data.algorithm.curve.join(".")];if(!R)throw new Error("unknown curve "+A.data.algorithm.curve.join("."));var B=new a(R),q=A.data.subjectPrivateKey.data;return B.verify(y,S,q)}function x(S,y,A){var R=A.data.p,B=A.data.q,q=A.data.g,C=A.data.pub_key,N=u.signature.decode(S,"der"),k=N.s,L=N.r;_(k,B),_(L,B);var U=e.mont(R),j=k.invm(B),ee=q.toRed(U).redPow(new e(y).mul(j).mod(B)).fromRed().mul(C.toRed(U).redPow(L.mul(j).mod(B)).fromRed()).mod(R).mod(B);return ee.cmp(L)===0}function _(S,y){if(S.cmpn(0)<=0)throw new Error("invalid sig");if(S.cmp(y)>=0)throw new Error("invalid sig")}return verify_1=s,verify_1}var browser$3,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var r=requireSafeBuffer$1().Buffer,e=requireBrowser$9(),a=requireReadableBrowser(),u=requireInherits_browser(),d=requireSign(),s=requireVerify(),g=require$$6;Object.keys(g).forEach(function(A){g[A].id=r.from(g[A].id,"hex"),g[A.toLowerCase()]=g[A]});function x(A){a.Writable.call(this);var R=g[A];if(!R)throw new Error("Unknown message digest");this._hashType=R.hash,this._hash=e(R.hash),this._tag=R.id,this._signType=R.sign}u(x,a.Writable),x.prototype._write=function(R,B,q){this._hash.update(R),q()},x.prototype.update=function(R,B){return this._hash.update(typeof R=="string"?r.from(R,B):R),this},x.prototype.sign=function(R,B){this.end();var q=this._hash.digest(),C=d(q,R,this._hashType,this._signType,this._tag);return B?C.toString(B):C};function _(A){a.Writable.call(this);var R=g[A];if(!R)throw new Error("Unknown message digest");this._hash=e(R.hash),this._tag=R.id,this._signType=R.sign}u(_,a.Writable),_.prototype._write=function(R,B,q){this._hash.update(R),q()},_.prototype.update=function(R,B){return this._hash.update(typeof R=="string"?r.from(R,B):R),this},_.prototype.verify=function(R,B,q){var C=typeof B=="string"?r.from(B,q):B;this.end();var N=this._hash.digest();return s(C,N,R,this._signType,this._tag)};function S(A){return new x(A)}function y(A){return new _(A)}return browser$3={Sign:S,Verify:y,createSign:S,createVerify:y},browser$3}var bn$1={exports:{}};bn$1.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(r){(function(e,a){function u(E,t){if(!E)throw new Error(t||"Assertion failed")}function d(E,t){E.super_=t;var o=function(){};o.prototype=t.prototype,E.prototype=new o,E.prototype.constructor=E}function s(E,t,o){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((t==="le"||t==="be")&&(o=t,t=10),this._init(E||0,t||10,o||"be"))}typeof e=="object"?e.exports=s:a.BN=s,s.BN=s,s.wordSize=26;var g;try{typeof window<"u"&&typeof window.Buffer<"u"?g=window.Buffer:g=require$$0$1.Buffer}catch{}s.isBN=function(t){return t instanceof s?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,o){return t.cmp(o)>0?t:o},s.min=function(t,o){return t.cmp(o)<0?t:o},s.prototype._init=function(t,o,c){if(typeof t=="number")return this._initNumber(t,o,c);if(typeof t=="object")return this._initArray(t,o,c);o==="hex"&&(o=16),u(o===(o|0)&&o>=2&&o<=36),t=t.toString().replace(/\s+/g,"");var l=0;t[0]==="-"&&(l++,this.negative=1),l<t.length&&(o===16?this._parseHex(t,l,c):(this._parseBase(t,o,l),c==="le"&&this._initArray(this.toArray(),o,c)))},s.prototype._initNumber=function(t,o,c){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(u(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),o,c)},s.prototype._initArray=function(t,o,c){if(u(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var v,w,M=0;if(c==="be")for(l=t.length-1,v=0;l>=0;l-=3)w=t[l]|t[l-1]<<8|t[l-2]<<16,this.words[v]|=w<<M&67108863,this.words[v+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);else if(c==="le")for(l=0,v=0;l<t.length;l+=3)w=t[l]|t[l+1]<<8|t[l+2]<<16,this.words[v]|=w<<M&67108863,this.words[v+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);return this.strip()};function x(E,t){var o=E.charCodeAt(t);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function _(E,t,o){var c=x(E,o);return o-1>=t&&(c|=x(E,o-1)<<4),c}s.prototype._parseHex=function(t,o,c){this.length=Math.ceil((t.length-o)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var v=0,w=0,M;if(c==="be")for(l=t.length-1;l>=o;l-=2)M=_(t,o,l)<<v,this.words[w]|=M&67108863,v>=18?(v-=18,w+=1,this.words[w]|=M>>>26):v+=8;else{var m=t.length-o;for(l=m%2===0?o+1:o;l<t.length;l+=2)M=_(t,o,l)<<v,this.words[w]|=M&67108863,v>=18?(v-=18,w+=1,this.words[w]|=M>>>26):v+=8}this.strip()};function S(E,t,o,c){for(var l=0,v=Math.min(E.length,o),w=t;w<v;w++){var M=E.charCodeAt(w)-48;l*=c,M>=49?l+=M-49+10:M>=17?l+=M-17+10:l+=M}return l}s.prototype._parseBase=function(t,o,c){this.words=[0],this.length=1;for(var l=0,v=1;v<=67108863;v*=o)l++;l--,v=v/o|0;for(var w=t.length-c,M=w%l,m=Math.min(w,w-M)+c,n=0,b=c;b<m;b+=l)n=S(t,b,b+l,o),this.imuln(v),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n);if(M!==0){var P=1;for(n=S(t,b,t.length,o),b=0;b<M;b++)P*=o;this.imuln(P),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var o=0;o<this.length;o++)t.words[o]=this.words[o];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,o){t=t||10,o=o|0||1;var c;if(t===16||t==="hex"){c="";for(var l=0,v=0,w=0;w<this.length;w++){var M=this.words[w],m=((M<<l|v)&16777215).toString(16);v=M>>>24-l&16777215,v!==0||w!==this.length-1?c=y[6-m.length]+m+c:c=m+c,l+=2,l>=26&&(l-=26,w--)}for(v!==0&&(c=v.toString(16)+c);c.length%o!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(t===(t|0)&&t>=2&&t<=36){var n=A[t],b=R[t];c="";var P=this.clone();for(P.negative=0;!P.isZero();){var I=P.modn(b).toString(t);P=P.idivn(b),P.isZero()?c=I+c:c=y[n-I.length]+I+c}for(this.isZero()&&(c="0"+c);c.length%o!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}u(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,o){return u(typeof g<"u"),this.toArrayLike(g,t,o)},s.prototype.toArray=function(t,o){return this.toArrayLike(Array,t,o)},s.prototype.toArrayLike=function(t,o,c){var l=this.byteLength(),v=c||Math.max(1,l);u(l<=v,"byte array longer than desired length"),u(v>0,"Requested array length <= 0"),this.strip();var w=o==="le",M=new t(v),m,n,b=this.clone();if(w){for(n=0;!b.isZero();n++)m=b.andln(255),b.iushrn(8),M[n]=m;for(;n<v;n++)M[n]=0}else{for(n=0;n<v-l;n++)M[n]=0;for(n=0;!b.isZero();n++)m=b.andln(255),b.iushrn(8),M[v-n-1]=m}return M},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var o=t,c=0;return o>=4096&&(c+=13,o>>>=13),o>=64&&(c+=7,o>>>=7),o>=8&&(c+=4,o>>>=4),o>=2&&(c+=2,o>>>=2),c+o},s.prototype._zeroBits=function(t){if(t===0)return 26;var o=t,c=0;return o&8191||(c+=13,o>>>=13),o&127||(c+=7,o>>>=7),o&15||(c+=4,o>>>=4),o&3||(c+=2,o>>>=2),o&1||c++,c},s.prototype.bitLength=function(){var t=this.words[this.length-1],o=this._countBits(t);return(this.length-1)*26+o};function B(E){for(var t=new Array(E.bitLength()),o=0;o<t.length;o++){var c=o/26|0,l=o%26;t[o]=(E.words[c]&1<<l)>>>l}return t}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,o=0;o<this.length;o++){var c=this._zeroBits(this.words[o]);if(t+=c,c!==26)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]|t.words[o];return this.strip()},s.prototype.ior=function(t){return u((this.negative|t.negative)===0),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var o;this.length>t.length?o=t:o=this;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]&t.words[c];return this.length=o.length,this.strip()},s.prototype.iand=function(t){return u((this.negative|t.negative)===0),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var o,c;this.length>t.length?(o=this,c=t):(o=t,c=this);for(var l=0;l<c.length;l++)this.words[l]=o.words[l]^c.words[l];if(this!==o)for(;l<o.length;l++)this.words[l]=o.words[l];return this.length=o.length,this.strip()},s.prototype.ixor=function(t){return u((this.negative|t.negative)===0),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){u(typeof t=="number"&&t>=0);var o=Math.ceil(t/26)|0,c=t%26;this._expand(o),c>0&&o--;for(var l=0;l<o;l++)this.words[l]=~this.words[l]&67108863;return c>0&&(this.words[l]=~this.words[l]&67108863>>26-c),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,o){u(typeof t=="number"&&t>=0);var c=t/26|0,l=t%26;return this._expand(c+1),o?this.words[c]=this.words[c]|1<<l:this.words[c]=this.words[c]&~(1<<l),this.strip()},s.prototype.iadd=function(t){var o;if(this.negative!==0&&t.negative===0)return this.negative=0,o=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,o=this.isub(t),t.negative=1,o._normSign();var c,l;this.length>t.length?(c=this,l=t):(c=t,l=this);for(var v=0,w=0;w<l.length;w++)o=(c.words[w]|0)+(l.words[w]|0)+v,this.words[w]=o&67108863,v=o>>>26;for(;v!==0&&w<c.length;w++)o=(c.words[w]|0)+v,this.words[w]=o&67108863,v=o>>>26;if(this.length=c.length,v!==0)this.words[this.length]=v,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},s.prototype.add=function(t){var o;return t.negative!==0&&this.negative===0?(t.negative=0,o=this.sub(t),t.negative^=1,o):t.negative===0&&this.negative!==0?(this.negative=0,o=t.sub(this),this.negative=1,o):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var o=this.iadd(t);return t.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var c=this.cmp(t);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,v;c>0?(l=this,v=t):(l=t,v=this);for(var w=0,M=0;M<v.length;M++)o=(l.words[M]|0)-(v.words[M]|0)+w,w=o>>26,this.words[M]=o&67108863;for(;w!==0&&M<l.length;M++)o=(l.words[M]|0)+w,w=o>>26,this.words[M]=o&67108863;if(w===0&&M<l.length&&l!==this)for(;M<l.length;M++)this.words[M]=l.words[M];return this.length=Math.max(this.length,M),l!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};function q(E,t,o){o.negative=t.negative^E.negative;var c=E.length+t.length|0;o.length=c,c=c-1|0;var l=E.words[0]|0,v=t.words[0]|0,w=l*v,M=w&67108863,m=w/67108864|0;o.words[0]=M;for(var n=1;n<c;n++){for(var b=m>>>26,P=m&67108863,I=Math.min(n,t.length-1),F=Math.max(0,n-E.length+1);F<=I;F++){var Y=n-F|0;l=E.words[Y]|0,v=t.words[F]|0,w=l*v+P,b+=w/67108864|0,P=w&67108863}o.words[n]=P|0,m=b|0}return m!==0?o.words[n]=m|0:o.length--,o.strip()}var C=function(t,o,c){var l=t.words,v=o.words,w=c.words,M=0,m,n,b,P=l[0]|0,I=P&8191,F=P>>>13,Y=l[1]|0,X=Y&8191,T=Y>>>13,K=l[2]|0,W=K&8191,ne=K>>>13,ie=l[3]|0,G=ie&8191,H=ie>>>13,fe=l[4]|0,he=fe&8191,ve=fe>>>13,ke=l[5]|0,Me=ke&8191,le=ke>>>13,Ze=l[6]|0,_e=Ze&8191,Se=Ze>>>13,tt=l[7]|0,Ae=tt&8191,Pe=tt>>>13,ot=l[8]|0,Oe=ot&8191,He=ot>>>13,pt=l[9]|0,z=pt&8191,O=pt>>>13,D=v[0]|0,te=D&8191,ce=D>>>13,Fe=v[1]|0,be=Fe&8191,je=Fe>>>13,lt=v[2]|0,Ue=lt&8191,Ve=lt>>>13,dt=v[3]|0,Je=dt&8191,et=dt>>>13,bt=v[4]|0,Ge=bt&8191,Ye=bt>>>13,yt=v[5]|0,We=yt&8191,Xe=yt>>>13,gt=v[6]|0,Ke=gt&8191,Qe=gt>>>13,V=v[7]|0,J=V&8191,Z=V>>>13,$=v[8]|0,Q=$&8191,me=$>>>13,Ce=v[9]|0,we=Ce&8191,qe=Ce>>>13;c.negative=t.negative^o.negative,c.length=19,m=Math.imul(I,te),n=Math.imul(I,ce),n=n+Math.imul(F,te)|0,b=Math.imul(F,ce);var at=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(at>>>26)|0,at&=67108863,m=Math.imul(X,te),n=Math.imul(X,ce),n=n+Math.imul(T,te)|0,b=Math.imul(T,ce),m=m+Math.imul(I,be)|0,n=n+Math.imul(I,je)|0,n=n+Math.imul(F,be)|0,b=b+Math.imul(F,je)|0;var it=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(it>>>26)|0,it&=67108863,m=Math.imul(W,te),n=Math.imul(W,ce),n=n+Math.imul(ne,te)|0,b=Math.imul(ne,ce),m=m+Math.imul(X,be)|0,n=n+Math.imul(X,je)|0,n=n+Math.imul(T,be)|0,b=b+Math.imul(T,je)|0,m=m+Math.imul(I,Ue)|0,n=n+Math.imul(I,Ve)|0,n=n+Math.imul(F,Ue)|0,b=b+Math.imul(F,Ve)|0;var vt=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(G,te),n=Math.imul(G,ce),n=n+Math.imul(H,te)|0,b=Math.imul(H,ce),m=m+Math.imul(W,be)|0,n=n+Math.imul(W,je)|0,n=n+Math.imul(ne,be)|0,b=b+Math.imul(ne,je)|0,m=m+Math.imul(X,Ue)|0,n=n+Math.imul(X,Ve)|0,n=n+Math.imul(T,Ue)|0,b=b+Math.imul(T,Ve)|0,m=m+Math.imul(I,Je)|0,n=n+Math.imul(I,et)|0,n=n+Math.imul(F,Je)|0,b=b+Math.imul(F,et)|0;var ft=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(he,te),n=Math.imul(he,ce),n=n+Math.imul(ve,te)|0,b=Math.imul(ve,ce),m=m+Math.imul(G,be)|0,n=n+Math.imul(G,je)|0,n=n+Math.imul(H,be)|0,b=b+Math.imul(H,je)|0,m=m+Math.imul(W,Ue)|0,n=n+Math.imul(W,Ve)|0,n=n+Math.imul(ne,Ue)|0,b=b+Math.imul(ne,Ve)|0,m=m+Math.imul(X,Je)|0,n=n+Math.imul(X,et)|0,n=n+Math.imul(T,Je)|0,b=b+Math.imul(T,et)|0,m=m+Math.imul(I,Ge)|0,n=n+Math.imul(I,Ye)|0,n=n+Math.imul(F,Ge)|0,b=b+Math.imul(F,Ye)|0;var ht=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(Me,te),n=Math.imul(Me,ce),n=n+Math.imul(le,te)|0,b=Math.imul(le,ce),m=m+Math.imul(he,be)|0,n=n+Math.imul(he,je)|0,n=n+Math.imul(ve,be)|0,b=b+Math.imul(ve,je)|0,m=m+Math.imul(G,Ue)|0,n=n+Math.imul(G,Ve)|0,n=n+Math.imul(H,Ue)|0,b=b+Math.imul(H,Ve)|0,m=m+Math.imul(W,Je)|0,n=n+Math.imul(W,et)|0,n=n+Math.imul(ne,Je)|0,b=b+Math.imul(ne,et)|0,m=m+Math.imul(X,Ge)|0,n=n+Math.imul(X,Ye)|0,n=n+Math.imul(T,Ge)|0,b=b+Math.imul(T,Ye)|0,m=m+Math.imul(I,We)|0,n=n+Math.imul(I,Xe)|0,n=n+Math.imul(F,We)|0,b=b+Math.imul(F,Xe)|0;var ct=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ct>>>26)|0,ct&=67108863,m=Math.imul(_e,te),n=Math.imul(_e,ce),n=n+Math.imul(Se,te)|0,b=Math.imul(Se,ce),m=m+Math.imul(Me,be)|0,n=n+Math.imul(Me,je)|0,n=n+Math.imul(le,be)|0,b=b+Math.imul(le,je)|0,m=m+Math.imul(he,Ue)|0,n=n+Math.imul(he,Ve)|0,n=n+Math.imul(ve,Ue)|0,b=b+Math.imul(ve,Ve)|0,m=m+Math.imul(G,Je)|0,n=n+Math.imul(G,et)|0,n=n+Math.imul(H,Je)|0,b=b+Math.imul(H,et)|0,m=m+Math.imul(W,Ge)|0,n=n+Math.imul(W,Ye)|0,n=n+Math.imul(ne,Ge)|0,b=b+Math.imul(ne,Ye)|0,m=m+Math.imul(X,We)|0,n=n+Math.imul(X,Xe)|0,n=n+Math.imul(T,We)|0,b=b+Math.imul(T,Xe)|0,m=m+Math.imul(I,Ke)|0,n=n+Math.imul(I,Qe)|0,n=n+Math.imul(F,Ke)|0,b=b+Math.imul(F,Qe)|0;var re=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(re>>>26)|0,re&=67108863,m=Math.imul(Ae,te),n=Math.imul(Ae,ce),n=n+Math.imul(Pe,te)|0,b=Math.imul(Pe,ce),m=m+Math.imul(_e,be)|0,n=n+Math.imul(_e,je)|0,n=n+Math.imul(Se,be)|0,b=b+Math.imul(Se,je)|0,m=m+Math.imul(Me,Ue)|0,n=n+Math.imul(Me,Ve)|0,n=n+Math.imul(le,Ue)|0,b=b+Math.imul(le,Ve)|0,m=m+Math.imul(he,Je)|0,n=n+Math.imul(he,et)|0,n=n+Math.imul(ve,Je)|0,b=b+Math.imul(ve,et)|0,m=m+Math.imul(G,Ge)|0,n=n+Math.imul(G,Ye)|0,n=n+Math.imul(H,Ge)|0,b=b+Math.imul(H,Ye)|0,m=m+Math.imul(W,We)|0,n=n+Math.imul(W,Xe)|0,n=n+Math.imul(ne,We)|0,b=b+Math.imul(ne,Xe)|0,m=m+Math.imul(X,Ke)|0,n=n+Math.imul(X,Qe)|0,n=n+Math.imul(T,Ke)|0,b=b+Math.imul(T,Qe)|0,m=m+Math.imul(I,J)|0,n=n+Math.imul(I,Z)|0,n=n+Math.imul(F,J)|0,b=b+Math.imul(F,Z)|0;var ue=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ue>>>26)|0,ue&=67108863,m=Math.imul(Oe,te),n=Math.imul(Oe,ce),n=n+Math.imul(He,te)|0,b=Math.imul(He,ce),m=m+Math.imul(Ae,be)|0,n=n+Math.imul(Ae,je)|0,n=n+Math.imul(Pe,be)|0,b=b+Math.imul(Pe,je)|0,m=m+Math.imul(_e,Ue)|0,n=n+Math.imul(_e,Ve)|0,n=n+Math.imul(Se,Ue)|0,b=b+Math.imul(Se,Ve)|0,m=m+Math.imul(Me,Je)|0,n=n+Math.imul(Me,et)|0,n=n+Math.imul(le,Je)|0,b=b+Math.imul(le,et)|0,m=m+Math.imul(he,Ge)|0,n=n+Math.imul(he,Ye)|0,n=n+Math.imul(ve,Ge)|0,b=b+Math.imul(ve,Ye)|0,m=m+Math.imul(G,We)|0,n=n+Math.imul(G,Xe)|0,n=n+Math.imul(H,We)|0,b=b+Math.imul(H,Xe)|0,m=m+Math.imul(W,Ke)|0,n=n+Math.imul(W,Qe)|0,n=n+Math.imul(ne,Ke)|0,b=b+Math.imul(ne,Qe)|0,m=m+Math.imul(X,J)|0,n=n+Math.imul(X,Z)|0,n=n+Math.imul(T,J)|0,b=b+Math.imul(T,Z)|0,m=m+Math.imul(I,Q)|0,n=n+Math.imul(I,me)|0,n=n+Math.imul(F,Q)|0,b=b+Math.imul(F,me)|0;var ae=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ae>>>26)|0,ae&=67108863,m=Math.imul(z,te),n=Math.imul(z,ce),n=n+Math.imul(O,te)|0,b=Math.imul(O,ce),m=m+Math.imul(Oe,be)|0,n=n+Math.imul(Oe,je)|0,n=n+Math.imul(He,be)|0,b=b+Math.imul(He,je)|0,m=m+Math.imul(Ae,Ue)|0,n=n+Math.imul(Ae,Ve)|0,n=n+Math.imul(Pe,Ue)|0,b=b+Math.imul(Pe,Ve)|0,m=m+Math.imul(_e,Je)|0,n=n+Math.imul(_e,et)|0,n=n+Math.imul(Se,Je)|0,b=b+Math.imul(Se,et)|0,m=m+Math.imul(Me,Ge)|0,n=n+Math.imul(Me,Ye)|0,n=n+Math.imul(le,Ge)|0,b=b+Math.imul(le,Ye)|0,m=m+Math.imul(he,We)|0,n=n+Math.imul(he,Xe)|0,n=n+Math.imul(ve,We)|0,b=b+Math.imul(ve,Xe)|0,m=m+Math.imul(G,Ke)|0,n=n+Math.imul(G,Qe)|0,n=n+Math.imul(H,Ke)|0,b=b+Math.imul(H,Qe)|0,m=m+Math.imul(W,J)|0,n=n+Math.imul(W,Z)|0,n=n+Math.imul(ne,J)|0,b=b+Math.imul(ne,Z)|0,m=m+Math.imul(X,Q)|0,n=n+Math.imul(X,me)|0,n=n+Math.imul(T,Q)|0,b=b+Math.imul(T,me)|0,m=m+Math.imul(I,we)|0,n=n+Math.imul(I,qe)|0,n=n+Math.imul(F,we)|0,b=b+Math.imul(F,qe)|0;var pe=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(pe>>>26)|0,pe&=67108863,m=Math.imul(z,be),n=Math.imul(z,je),n=n+Math.imul(O,be)|0,b=Math.imul(O,je),m=m+Math.imul(Oe,Ue)|0,n=n+Math.imul(Oe,Ve)|0,n=n+Math.imul(He,Ue)|0,b=b+Math.imul(He,Ve)|0,m=m+Math.imul(Ae,Je)|0,n=n+Math.imul(Ae,et)|0,n=n+Math.imul(Pe,Je)|0,b=b+Math.imul(Pe,et)|0,m=m+Math.imul(_e,Ge)|0,n=n+Math.imul(_e,Ye)|0,n=n+Math.imul(Se,Ge)|0,b=b+Math.imul(Se,Ye)|0,m=m+Math.imul(Me,We)|0,n=n+Math.imul(Me,Xe)|0,n=n+Math.imul(le,We)|0,b=b+Math.imul(le,Xe)|0,m=m+Math.imul(he,Ke)|0,n=n+Math.imul(he,Qe)|0,n=n+Math.imul(ve,Ke)|0,b=b+Math.imul(ve,Qe)|0,m=m+Math.imul(G,J)|0,n=n+Math.imul(G,Z)|0,n=n+Math.imul(H,J)|0,b=b+Math.imul(H,Z)|0,m=m+Math.imul(W,Q)|0,n=n+Math.imul(W,me)|0,n=n+Math.imul(ne,Q)|0,b=b+Math.imul(ne,me)|0,m=m+Math.imul(X,we)|0,n=n+Math.imul(X,qe)|0,n=n+Math.imul(T,we)|0,b=b+Math.imul(T,qe)|0;var ye=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,m=Math.imul(z,Ue),n=Math.imul(z,Ve),n=n+Math.imul(O,Ue)|0,b=Math.imul(O,Ve),m=m+Math.imul(Oe,Je)|0,n=n+Math.imul(Oe,et)|0,n=n+Math.imul(He,Je)|0,b=b+Math.imul(He,et)|0,m=m+Math.imul(Ae,Ge)|0,n=n+Math.imul(Ae,Ye)|0,n=n+Math.imul(Pe,Ge)|0,b=b+Math.imul(Pe,Ye)|0,m=m+Math.imul(_e,We)|0,n=n+Math.imul(_e,Xe)|0,n=n+Math.imul(Se,We)|0,b=b+Math.imul(Se,Xe)|0,m=m+Math.imul(Me,Ke)|0,n=n+Math.imul(Me,Qe)|0,n=n+Math.imul(le,Ke)|0,b=b+Math.imul(le,Qe)|0,m=m+Math.imul(he,J)|0,n=n+Math.imul(he,Z)|0,n=n+Math.imul(ve,J)|0,b=b+Math.imul(ve,Z)|0,m=m+Math.imul(G,Q)|0,n=n+Math.imul(G,me)|0,n=n+Math.imul(H,Q)|0,b=b+Math.imul(H,me)|0,m=m+Math.imul(W,we)|0,n=n+Math.imul(W,qe)|0,n=n+Math.imul(ne,we)|0,b=b+Math.imul(ne,qe)|0;var xe=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,m=Math.imul(z,Je),n=Math.imul(z,et),n=n+Math.imul(O,Je)|0,b=Math.imul(O,et),m=m+Math.imul(Oe,Ge)|0,n=n+Math.imul(Oe,Ye)|0,n=n+Math.imul(He,Ge)|0,b=b+Math.imul(He,Ye)|0,m=m+Math.imul(Ae,We)|0,n=n+Math.imul(Ae,Xe)|0,n=n+Math.imul(Pe,We)|0,b=b+Math.imul(Pe,Xe)|0,m=m+Math.imul(_e,Ke)|0,n=n+Math.imul(_e,Qe)|0,n=n+Math.imul(Se,Ke)|0,b=b+Math.imul(Se,Qe)|0,m=m+Math.imul(Me,J)|0,n=n+Math.imul(Me,Z)|0,n=n+Math.imul(le,J)|0,b=b+Math.imul(le,Z)|0,m=m+Math.imul(he,Q)|0,n=n+Math.imul(he,me)|0,n=n+Math.imul(ve,Q)|0,b=b+Math.imul(ve,me)|0,m=m+Math.imul(G,we)|0,n=n+Math.imul(G,qe)|0,n=n+Math.imul(H,we)|0,b=b+Math.imul(H,qe)|0;var Ne=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,m=Math.imul(z,Ge),n=Math.imul(z,Ye),n=n+Math.imul(O,Ge)|0,b=Math.imul(O,Ye),m=m+Math.imul(Oe,We)|0,n=n+Math.imul(Oe,Xe)|0,n=n+Math.imul(He,We)|0,b=b+Math.imul(He,Xe)|0,m=m+Math.imul(Ae,Ke)|0,n=n+Math.imul(Ae,Qe)|0,n=n+Math.imul(Pe,Ke)|0,b=b+Math.imul(Pe,Qe)|0,m=m+Math.imul(_e,J)|0,n=n+Math.imul(_e,Z)|0,n=n+Math.imul(Se,J)|0,b=b+Math.imul(Se,Z)|0,m=m+Math.imul(Me,Q)|0,n=n+Math.imul(Me,me)|0,n=n+Math.imul(le,Q)|0,b=b+Math.imul(le,me)|0,m=m+Math.imul(he,we)|0,n=n+Math.imul(he,qe)|0,n=n+Math.imul(ve,we)|0,b=b+Math.imul(ve,qe)|0;var $e=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+($e>>>26)|0,$e&=67108863,m=Math.imul(z,We),n=Math.imul(z,Xe),n=n+Math.imul(O,We)|0,b=Math.imul(O,Xe),m=m+Math.imul(Oe,Ke)|0,n=n+Math.imul(Oe,Qe)|0,n=n+Math.imul(He,Ke)|0,b=b+Math.imul(He,Qe)|0,m=m+Math.imul(Ae,J)|0,n=n+Math.imul(Ae,Z)|0,n=n+Math.imul(Pe,J)|0,b=b+Math.imul(Pe,Z)|0,m=m+Math.imul(_e,Q)|0,n=n+Math.imul(_e,me)|0,n=n+Math.imul(Se,Q)|0,b=b+Math.imul(Se,me)|0,m=m+Math.imul(Me,we)|0,n=n+Math.imul(Me,qe)|0,n=n+Math.imul(le,we)|0,b=b+Math.imul(le,qe)|0;var Re=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,m=Math.imul(z,Ke),n=Math.imul(z,Qe),n=n+Math.imul(O,Ke)|0,b=Math.imul(O,Qe),m=m+Math.imul(Oe,J)|0,n=n+Math.imul(Oe,Z)|0,n=n+Math.imul(He,J)|0,b=b+Math.imul(He,Z)|0,m=m+Math.imul(Ae,Q)|0,n=n+Math.imul(Ae,me)|0,n=n+Math.imul(Pe,Q)|0,b=b+Math.imul(Pe,me)|0,m=m+Math.imul(_e,we)|0,n=n+Math.imul(_e,qe)|0,n=n+Math.imul(Se,we)|0,b=b+Math.imul(Se,qe)|0;var Ie=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,m=Math.imul(z,J),n=Math.imul(z,Z),n=n+Math.imul(O,J)|0,b=Math.imul(O,Z),m=m+Math.imul(Oe,Q)|0,n=n+Math.imul(Oe,me)|0,n=n+Math.imul(He,Q)|0,b=b+Math.imul(He,me)|0,m=m+Math.imul(Ae,we)|0,n=n+Math.imul(Ae,qe)|0,n=n+Math.imul(Pe,we)|0,b=b+Math.imul(Pe,qe)|0;var ze=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ze>>>26)|0,ze&=67108863,m=Math.imul(z,Q),n=Math.imul(z,me),n=n+Math.imul(O,Q)|0,b=Math.imul(O,me),m=m+Math.imul(Oe,we)|0,n=n+Math.imul(Oe,qe)|0,n=n+Math.imul(He,we)|0,b=b+Math.imul(He,qe)|0;var Te=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,m=Math.imul(z,we),n=Math.imul(z,qe),n=n+Math.imul(O,we)|0,b=Math.imul(O,qe);var De=(M+m|0)+((n&8191)<<13)|0;return M=(b+(n>>>13)|0)+(De>>>26)|0,De&=67108863,w[0]=at,w[1]=it,w[2]=vt,w[3]=ft,w[4]=ht,w[5]=ct,w[6]=re,w[7]=ue,w[8]=ae,w[9]=pe,w[10]=ye,w[11]=xe,w[12]=Ne,w[13]=$e,w[14]=Re,w[15]=Ie,w[16]=ze,w[17]=Te,w[18]=De,M!==0&&(w[19]=M,c.length++),c};Math.imul||(C=q);function N(E,t,o){o.negative=t.negative^E.negative,o.length=E.length+t.length;for(var c=0,l=0,v=0;v<o.length-1;v++){var w=l;l=0;for(var M=c&67108863,m=Math.min(v,t.length-1),n=Math.max(0,v-E.length+1);n<=m;n++){var b=v-n,P=E.words[b]|0,I=t.words[n]|0,F=P*I,Y=F&67108863;w=w+(F/67108864|0)|0,Y=Y+M|0,M=Y&67108863,w=w+(Y>>>26)|0,l+=w>>>26,w&=67108863}o.words[v]=M,c=w,w=l}return c!==0?o.words[v]=c:o.length--,o.strip()}function k(E,t,o){var c=new L;return c.mulp(E,t,o)}s.prototype.mulTo=function(t,o){var c,l=this.length+t.length;return this.length===10&&t.length===10?c=C(this,t,o):l<63?c=q(this,t,o):l<1024?c=N(this,t,o):c=k(this,t,o),c};function L(E,t){this.x=E,this.y=t}L.prototype.makeRBT=function(t){for(var o=new Array(t),c=s.prototype._countBits(t)-1,l=0;l<t;l++)o[l]=this.revBin(l,c,t);return o},L.prototype.revBin=function(t,o,c){if(t===0||t===c-1)return t;for(var l=0,v=0;v<o;v++)l|=(t&1)<<o-v-1,t>>=1;return l},L.prototype.permute=function(t,o,c,l,v,w){for(var M=0;M<w;M++)l[M]=o[t[M]],v[M]=c[t[M]]},L.prototype.transform=function(t,o,c,l,v,w){this.permute(w,t,o,c,l,v);for(var M=1;M<v;M<<=1)for(var m=M<<1,n=Math.cos(2*Math.PI/m),b=Math.sin(2*Math.PI/m),P=0;P<v;P+=m)for(var I=n,F=b,Y=0;Y<M;Y++){var X=c[P+Y],T=l[P+Y],K=c[P+Y+M],W=l[P+Y+M],ne=I*K-F*W;W=I*W+F*K,K=ne,c[P+Y]=X+K,l[P+Y]=T+W,c[P+Y+M]=X-K,l[P+Y+M]=T-W,Y!==m&&(ne=n*I-b*F,F=n*F+b*I,I=ne)}},L.prototype.guessLen13b=function(t,o){var c=Math.max(o,t)|1,l=c&1,v=0;for(c=c/2|0;c;c=c>>>1)v++;return 1<<v+1+l},L.prototype.conjugate=function(t,o,c){if(!(c<=1))for(var l=0;l<c/2;l++){var v=t[l];t[l]=t[c-l-1],t[c-l-1]=v,v=o[l],o[l]=-o[c-l-1],o[c-l-1]=-v}},L.prototype.normalize13b=function(t,o){for(var c=0,l=0;l<o/2;l++){var v=Math.round(t[2*l+1]/o)*8192+Math.round(t[2*l]/o)+c;t[l]=v&67108863,v<67108864?c=0:c=v/67108864|0}return t},L.prototype.convert13b=function(t,o,c,l){for(var v=0,w=0;w<o;w++)v=v+(t[w]|0),c[2*w]=v&8191,v=v>>>13,c[2*w+1]=v&8191,v=v>>>13;for(w=2*o;w<l;++w)c[w]=0;u(v===0),u((v&-8192)===0)},L.prototype.stub=function(t){for(var o=new Array(t),c=0;c<t;c++)o[c]=0;return o},L.prototype.mulp=function(t,o,c){var l=2*this.guessLen13b(t.length,o.length),v=this.makeRBT(l),w=this.stub(l),M=new Array(l),m=new Array(l),n=new Array(l),b=new Array(l),P=new Array(l),I=new Array(l),F=c.words;F.length=l,this.convert13b(t.words,t.length,M,l),this.convert13b(o.words,o.length,b,l),this.transform(M,w,m,n,l,v),this.transform(b,w,P,I,l,v);for(var Y=0;Y<l;Y++){var X=m[Y]*P[Y]-n[Y]*I[Y];n[Y]=m[Y]*I[Y]+n[Y]*P[Y],m[Y]=X}return this.conjugate(m,n,l),this.transform(m,n,F,w,l,v),this.conjugate(F,w,l),this.normalize13b(F,l),c.negative=t.negative^o.negative,c.length=t.length+o.length,c.strip()},s.prototype.mul=function(t){var o=new s(null);return o.words=new Array(this.length+t.length),this.mulTo(t,o)},s.prototype.mulf=function(t){var o=new s(null);return o.words=new Array(this.length+t.length),k(this,t,o)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){u(typeof t=="number"),u(t<67108864);for(var o=0,c=0;c<this.length;c++){var l=(this.words[c]|0)*t,v=(l&67108863)+(o&67108863);o>>=26,o+=l/67108864|0,o+=v>>>26,this.words[c]=v&67108863}return o!==0&&(this.words[c]=o,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var o=B(t);if(o.length===0)return new s(1);for(var c=this,l=0;l<o.length&&o[l]===0;l++,c=c.sqr());if(++l<o.length)for(var v=c.sqr();l<o.length;l++,v=v.sqr())o[l]!==0&&(c=c.mul(v));return c},s.prototype.iushln=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26,l=67108863>>>26-o<<26-o,v;if(o!==0){var w=0;for(v=0;v<this.length;v++){var M=this.words[v]&l,m=(this.words[v]|0)-M<<o;this.words[v]=m|w,w=M>>>26-o}w&&(this.words[v]=w,this.length++)}if(c!==0){for(v=this.length-1;v>=0;v--)this.words[v+c]=this.words[v];for(v=0;v<c;v++)this.words[v]=0;this.length+=c}return this.strip()},s.prototype.ishln=function(t){return u(this.negative===0),this.iushln(t)},s.prototype.iushrn=function(t,o,c){u(typeof t=="number"&&t>=0);var l;o?l=(o-o%26)/26:l=0;var v=t%26,w=Math.min((t-v)/26,this.length),M=67108863^67108863>>>v<<v,m=c;if(l-=w,l=Math.max(0,l),m){for(var n=0;n<w;n++)m.words[n]=this.words[n];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,n=0;n<this.length;n++)this.words[n]=this.words[n+w];else this.words[0]=0,this.length=1;var b=0;for(n=this.length-1;n>=0&&(b!==0||n>=l);n--){var P=this.words[n]|0;this.words[n]=b<<26-v|P>>>v,b=P&M}return m&&b!==0&&(m.words[m.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,o,c){return u(this.negative===0),this.iushrn(t,o,c)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26,l=1<<o;if(this.length<=c)return!1;var v=this.words[c];return!!(v&l)},s.prototype.imaskn=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(o!==0&&c++,this.length=Math.min(c,this.length),o!==0){var l=67108863^67108863>>>o<<o;this.words[this.length-1]&=l}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return u(typeof t=="number"),u(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},s.prototype.isubn=function(t){if(u(typeof t=="number"),u(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,o,c){var l=t.length+c,v;this._expand(l);var w,M=0;for(v=0;v<t.length;v++){w=(this.words[v+c]|0)+M;var m=(t.words[v]|0)*o;w-=m&67108863,M=(w>>26)-(m/67108864|0),this.words[v+c]=w&67108863}for(;v<this.length-c;v++)w=(this.words[v+c]|0)+M,M=w>>26,this.words[v+c]=w&67108863;if(M===0)return this.strip();for(u(M===-1),M=0,v=0;v<this.length;v++)w=-(this.words[v]|0)+M,M=w>>26,this.words[v]=w&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,o){var c=this.length-t.length,l=this.clone(),v=t,w=v.words[v.length-1]|0,M=this._countBits(w);c=26-M,c!==0&&(v=v.ushln(c),l.iushln(c),w=v.words[v.length-1]|0);var m=l.length-v.length,n;if(o!=="mod"){n=new s(null),n.length=m+1,n.words=new Array(n.length);for(var b=0;b<n.length;b++)n.words[b]=0}var P=l.clone()._ishlnsubmul(v,1,m);P.negative===0&&(l=P,n&&(n.words[m]=1));for(var I=m-1;I>=0;I--){var F=(l.words[v.length+I]|0)*67108864+(l.words[v.length+I-1]|0);for(F=Math.min(F/w|0,67108863),l._ishlnsubmul(v,F,I);l.negative!==0;)F--,l.negative=0,l._ishlnsubmul(v,1,I),l.isZero()||(l.negative^=1);n&&(n.words[I]=F)}return n&&n.strip(),l.strip(),o!=="div"&&c!==0&&l.iushrn(c),{div:n||null,mod:l}},s.prototype.divmod=function(t,o,c){if(u(!t.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var l,v,w;return this.negative!==0&&t.negative===0?(w=this.neg().divmod(t,o),o!=="mod"&&(l=w.div.neg()),o!=="div"&&(v=w.mod.neg(),c&&v.negative!==0&&v.iadd(t)),{div:l,mod:v}):this.negative===0&&t.negative!==0?(w=this.divmod(t.neg(),o),o!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&t.negative?(w=this.neg().divmod(t.neg(),o),o!=="div"&&(v=w.mod.neg(),c&&v.negative!==0&&v.isub(t)),{div:w.div,mod:v}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:t.length===1?o==="div"?{div:this.divn(t.words[0]),mod:null}:o==="mod"?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,o)},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var o=this.divmod(t);if(o.mod.isZero())return o.div;var c=o.div.negative!==0?o.mod.isub(t):o.mod,l=t.ushrn(1),v=t.andln(1),w=c.cmp(l);return w<0||v===1&&w===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},s.prototype.modn=function(t){u(t<=67108863);for(var o=(1<<26)%t,c=0,l=this.length-1;l>=0;l--)c=(o*c+(this.words[l]|0))%t;return c},s.prototype.idivn=function(t){u(t<=67108863);for(var o=0,c=this.length-1;c>=0;c--){var l=(this.words[c]|0)+o*67108864;this.words[c]=l/t|0,o=l%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){u(t.negative===0),u(!t.isZero());var o=this,c=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var l=new s(1),v=new s(0),w=new s(0),M=new s(1),m=0;o.isEven()&&c.isEven();)o.iushrn(1),c.iushrn(1),++m;for(var n=c.clone(),b=o.clone();!o.isZero();){for(var P=0,I=1;!(o.words[0]&I)&&P<26;++P,I<<=1);if(P>0)for(o.iushrn(P);P-- >0;)(l.isOdd()||v.isOdd())&&(l.iadd(n),v.isub(b)),l.iushrn(1),v.iushrn(1);for(var F=0,Y=1;!(c.words[0]&Y)&&F<26;++F,Y<<=1);if(F>0)for(c.iushrn(F);F-- >0;)(w.isOdd()||M.isOdd())&&(w.iadd(n),M.isub(b)),w.iushrn(1),M.iushrn(1);o.cmp(c)>=0?(o.isub(c),l.isub(w),v.isub(M)):(c.isub(o),w.isub(l),M.isub(v))}return{a:w,b:M,gcd:c.iushln(m)}},s.prototype._invmp=function(t){u(t.negative===0),u(!t.isZero());var o=this,c=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var l=new s(1),v=new s(0),w=c.clone();o.cmpn(1)>0&&c.cmpn(1)>0;){for(var M=0,m=1;!(o.words[0]&m)&&M<26;++M,m<<=1);if(M>0)for(o.iushrn(M);M-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var n=0,b=1;!(c.words[0]&b)&&n<26;++n,b<<=1);if(n>0)for(c.iushrn(n);n-- >0;)v.isOdd()&&v.iadd(w),v.iushrn(1);o.cmp(c)>=0?(o.isub(c),l.isub(v)):(c.isub(o),v.isub(l))}var P;return o.cmpn(1)===0?P=l:P=v,P.cmpn(0)<0&&P.iadd(t),P},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var o=this.clone(),c=t.clone();o.negative=0,c.negative=0;for(var l=0;o.isEven()&&c.isEven();l++)o.iushrn(1),c.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;c.isEven();)c.iushrn(1);var v=o.cmp(c);if(v<0){var w=o;o=c,c=w}else if(v===0||c.cmpn(1)===0)break;o.isub(c)}while(!0);return c.iushln(l)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){u(typeof t=="number");var o=t%26,c=(t-o)/26,l=1<<o;if(this.length<=c)return this._expand(c+1),this.words[c]|=l,this;for(var v=l,w=c;v!==0&&w<this.length;w++){var M=this.words[w]|0;M+=v,v=M>>>26,M&=67108863,this.words[w]=M}return v!==0&&(this.words[w]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(t){var o=t<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var c;if(this.length>1)c=1;else{o&&(t=-t),u(t<=67108863,"Number is too big");var l=this.words[0]|0;c=l===t?0:l<t?-1:1}return this.negative!==0?-c|0:c},s.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var o=this.ucmp(t);return this.negative!==0?-o|0:o},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var o=0,c=this.length-1;c>=0;c--){var l=this.words[c]|0,v=t.words[c]|0;if(l!==v){l<v?o=-1:l>v&&(o=1);break}}return o},s.prototype.gtn=function(t){return this.cmpn(t)===1},s.prototype.gt=function(t){return this.cmp(t)===1},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return this.cmpn(t)===-1},s.prototype.lt=function(t){return this.cmp(t)===-1},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return this.cmpn(t)===0},s.prototype.eq=function(t){return this.cmp(t)===0},s.red=function(t){return new oe(t)},s.prototype.toRed=function(t){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return u(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return u(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var U={k256:null,p224:null,p192:null,p25519:null};function j(E,t){this.name=E,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},j.prototype.ireduce=function(t){var o=t,c;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),c=o.bitLength();while(c>this.n);var l=c<this.n?-1:o.ucmp(this.p);return l===0?(o.words[0]=0,o.length=1):l>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},j.prototype.split=function(t,o){t.iushrn(this.n,0,o)},j.prototype.imulK=function(t){return t.imul(this.k)};function ee(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}d(ee,j),ee.prototype.split=function(t,o){for(var c=4194303,l=Math.min(t.length,9),v=0;v<l;v++)o.words[v]=t.words[v];if(o.length=l,t.length<=9){t.words[0]=0,t.length=1;return}var w=t.words[9];for(o.words[o.length++]=w&c,v=10;v<t.length;v++){var M=t.words[v]|0;t.words[v-10]=(M&c)<<4|w>>>22,w=M}w>>>=22,t.words[v-10]=w,w===0&&t.length>10?t.length-=10:t.length-=9},ee.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var o=0,c=0;c<t.length;c++){var l=t.words[c]|0;o+=l*977,t.words[c]=o&67108863,o=l*64+(o/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function se(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}d(se,j);function Ee(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}d(Ee,j);function ge(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}d(ge,j),ge.prototype.imulK=function(t){for(var o=0,c=0;c<t.length;c++){var l=(t.words[c]|0)*19+o,v=l&67108863;l>>>=26,t.words[c]=v,o=l}return o!==0&&(t.words[t.length++]=o),t},s._prime=function(t){if(U[t])return U[t];var o;if(t==="k256")o=new ee;else if(t==="p224")o=new se;else if(t==="p192")o=new Ee;else if(t==="p25519")o=new ge;else throw new Error("Unknown prime "+t);return U[t]=o,o};function oe(E){if(typeof E=="string"){var t=s._prime(E);this.m=t.p,this.prime=t}else u(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}oe.prototype._verify1=function(t){u(t.negative===0,"red works only with positives"),u(t.red,"red works only with red numbers")},oe.prototype._verify2=function(t,o){u((t.negative|o.negative)===0,"red works only with positives"),u(t.red&&t.red===o.red,"red works only with red numbers")},oe.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},oe.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},oe.prototype.add=function(t,o){this._verify2(t,o);var c=t.add(o);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},oe.prototype.iadd=function(t,o){this._verify2(t,o);var c=t.iadd(o);return c.cmp(this.m)>=0&&c.isub(this.m),c},oe.prototype.sub=function(t,o){this._verify2(t,o);var c=t.sub(o);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},oe.prototype.isub=function(t,o){this._verify2(t,o);var c=t.isub(o);return c.cmpn(0)<0&&c.iadd(this.m),c},oe.prototype.shl=function(t,o){return this._verify1(t),this.imod(t.ushln(o))},oe.prototype.imul=function(t,o){return this._verify2(t,o),this.imod(t.imul(o))},oe.prototype.mul=function(t,o){return this._verify2(t,o),this.imod(t.mul(o))},oe.prototype.isqr=function(t){return this.imul(t,t.clone())},oe.prototype.sqr=function(t){return this.mul(t,t)},oe.prototype.sqrt=function(t){if(t.isZero())return t.clone();var o=this.m.andln(3);if(u(o%2===1),o===3){var c=this.m.add(new s(1)).iushrn(2);return this.pow(t,c)}for(var l=this.m.subn(1),v=0;!l.isZero()&&l.andln(1)===0;)v++,l.iushrn(1);u(!l.isZero());var w=new s(1).toRed(this),M=w.redNeg(),m=this.m.subn(1).iushrn(1),n=this.m.bitLength();for(n=new s(2*n*n).toRed(this);this.pow(n,m).cmp(M)!==0;)n.redIAdd(M);for(var b=this.pow(n,l),P=this.pow(t,l.addn(1).iushrn(1)),I=this.pow(t,l),F=v;I.cmp(w)!==0;){for(var Y=I,X=0;Y.cmp(w)!==0;X++)Y=Y.redSqr();u(X<F);var T=this.pow(b,new s(1).iushln(F-X-1));P=P.redMul(T),b=T.redSqr(),I=I.redMul(b),F=X}return P},oe.prototype.invm=function(t){var o=t._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},oe.prototype.pow=function(t,o){if(o.isZero())return new s(1).toRed(this);if(o.cmpn(1)===0)return t.clone();var c=4,l=new Array(1<<c);l[0]=new s(1).toRed(this),l[1]=t;for(var v=2;v<l.length;v++)l[v]=this.mul(l[v-1],t);var w=l[0],M=0,m=0,n=o.bitLength()%26;for(n===0&&(n=26),v=o.length-1;v>=0;v--){for(var b=o.words[v],P=n-1;P>=0;P--){var I=b>>P&1;if(w!==l[0]&&(w=this.sqr(w)),I===0&&M===0){m=0;continue}M<<=1,M|=I,m++,!(m!==c&&(v!==0||P!==0))&&(w=this.mul(w,l[M]),m=0,M=0)}n=26}return w},oe.prototype.convertTo=function(t){var o=t.umod(this.m);return o===t?o.clone():o},oe.prototype.convertFrom=function(t){var o=t.clone();return o.red=null,o},s.mont=function(t){return new Le(t)};function Le(E){oe.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}d(Le,oe),Le.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Le.prototype.convertFrom=function(t){var o=this.imod(t.mul(this.rinv));return o.red=null,o},Le.prototype.imul=function(t,o){if(t.isZero()||o.isZero())return t.words[0]=0,t.length=1,t;var c=t.imul(o),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(l).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},Le.prototype.mul=function(t,o){if(t.isZero()||o.isZero())return new s(0)._forceRed(this);var c=t.mul(o),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(l).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},Le.prototype.invm=function(t){var o=this.imod(t._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,commonjsGlobal)}(bn$1)),bn$1.exports}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var r=requireElliptic(),e=requireBn$1();browser$2=function(g){return new u(g)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1;function u(s){this.curveType=a[s],this.curveType||(this.curveType={name:s}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}u.prototype.generateKeys=function(s,g){return this.keys=this.curve.genKeyPair(),this.getPublicKey(s,g)},u.prototype.computeSecret=function(s,g,x){g=g||"utf8",Buffer.isBuffer(s)||(s=new Buffer(s,g));var _=this.curve.keyFromPublic(s).getPublic(),S=_.mul(this.keys.getPrivate()).getX();return d(S,x,this.curveType.byteLength)},u.prototype.getPublicKey=function(s,g){var x=this.keys.getPublic(g==="compressed",!0);return g==="hybrid"&&(x[x.length-1]%2?x[0]=7:x[0]=6),d(x,s)},u.prototype.getPrivateKey=function(s){return d(this.keys.getPrivate(),s)},u.prototype.setPublicKey=function(s,g){return g=g||"utf8",Buffer.isBuffer(s)||(s=new Buffer(s,g)),this.keys._importPublic(s),this},u.prototype.setPrivateKey=function(s,g){g=g||"utf8",Buffer.isBuffer(s)||(s=new Buffer(s,g));var x=new e(s);return x=x.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(x),this};function d(s,g,x){Array.isArray(s)||(s=s.toArray());var _=new Buffer(s);if(x&&_.length<x){var S=new Buffer(x-_.length);S.fill(0),_=Buffer.concat([S,_])}return g?_.toString(g):_}return browser$2}var browser$1={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var r=requireBrowser$9(),e=requireSafeBuffer$1().Buffer;mgf=function(u,d){for(var s=e.alloc(0),g=0,x;s.length<d;)x=a(g++),s=e.concat([s,r("sha1").update(u).update(x).digest()]);return s.slice(0,d)};function a(u){var d=e.allocUnsafe(4);return d.writeUInt32BE(u,0),d}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(e,a){for(var u=e.length,d=-1;++d<u;)e[d]^=a[d];return e}),xor}var bn={exports:{}};bn.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(r){(function(e,a){function u(E,t){if(!E)throw new Error(t||"Assertion failed")}function d(E,t){E.super_=t;var o=function(){};o.prototype=t.prototype,E.prototype=new o,E.prototype.constructor=E}function s(E,t,o){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((t==="le"||t==="be")&&(o=t,t=10),this._init(E||0,t||10,o||"be"))}typeof e=="object"?e.exports=s:a.BN=s,s.BN=s,s.wordSize=26;var g;try{typeof window<"u"&&typeof window.Buffer<"u"?g=window.Buffer:g=require$$0$1.Buffer}catch{}s.isBN=function(t){return t instanceof s?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,o){return t.cmp(o)>0?t:o},s.min=function(t,o){return t.cmp(o)<0?t:o},s.prototype._init=function(t,o,c){if(typeof t=="number")return this._initNumber(t,o,c);if(typeof t=="object")return this._initArray(t,o,c);o==="hex"&&(o=16),u(o===(o|0)&&o>=2&&o<=36),t=t.toString().replace(/\s+/g,"");var l=0;t[0]==="-"&&(l++,this.negative=1),l<t.length&&(o===16?this._parseHex(t,l,c):(this._parseBase(t,o,l),c==="le"&&this._initArray(this.toArray(),o,c)))},s.prototype._initNumber=function(t,o,c){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(u(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),o,c)},s.prototype._initArray=function(t,o,c){if(u(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var v,w,M=0;if(c==="be")for(l=t.length-1,v=0;l>=0;l-=3)w=t[l]|t[l-1]<<8|t[l-2]<<16,this.words[v]|=w<<M&67108863,this.words[v+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);else if(c==="le")for(l=0,v=0;l<t.length;l+=3)w=t[l]|t[l+1]<<8|t[l+2]<<16,this.words[v]|=w<<M&67108863,this.words[v+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);return this.strip()};function x(E,t){var o=E.charCodeAt(t);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function _(E,t,o){var c=x(E,o);return o-1>=t&&(c|=x(E,o-1)<<4),c}s.prototype._parseHex=function(t,o,c){this.length=Math.ceil((t.length-o)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var v=0,w=0,M;if(c==="be")for(l=t.length-1;l>=o;l-=2)M=_(t,o,l)<<v,this.words[w]|=M&67108863,v>=18?(v-=18,w+=1,this.words[w]|=M>>>26):v+=8;else{var m=t.length-o;for(l=m%2===0?o+1:o;l<t.length;l+=2)M=_(t,o,l)<<v,this.words[w]|=M&67108863,v>=18?(v-=18,w+=1,this.words[w]|=M>>>26):v+=8}this.strip()};function S(E,t,o,c){for(var l=0,v=Math.min(E.length,o),w=t;w<v;w++){var M=E.charCodeAt(w)-48;l*=c,M>=49?l+=M-49+10:M>=17?l+=M-17+10:l+=M}return l}s.prototype._parseBase=function(t,o,c){this.words=[0],this.length=1;for(var l=0,v=1;v<=67108863;v*=o)l++;l--,v=v/o|0;for(var w=t.length-c,M=w%l,m=Math.min(w,w-M)+c,n=0,b=c;b<m;b+=l)n=S(t,b,b+l,o),this.imuln(v),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n);if(M!==0){var P=1;for(n=S(t,b,t.length,o),b=0;b<M;b++)P*=o;this.imuln(P),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var o=0;o<this.length;o++)t.words[o]=this.words[o];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,o){t=t||10,o=o|0||1;var c;if(t===16||t==="hex"){c="";for(var l=0,v=0,w=0;w<this.length;w++){var M=this.words[w],m=((M<<l|v)&16777215).toString(16);v=M>>>24-l&16777215,v!==0||w!==this.length-1?c=y[6-m.length]+m+c:c=m+c,l+=2,l>=26&&(l-=26,w--)}for(v!==0&&(c=v.toString(16)+c);c.length%o!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(t===(t|0)&&t>=2&&t<=36){var n=A[t],b=R[t];c="";var P=this.clone();for(P.negative=0;!P.isZero();){var I=P.modn(b).toString(t);P=P.idivn(b),P.isZero()?c=I+c:c=y[n-I.length]+I+c}for(this.isZero()&&(c="0"+c);c.length%o!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}u(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,o){return u(typeof g<"u"),this.toArrayLike(g,t,o)},s.prototype.toArray=function(t,o){return this.toArrayLike(Array,t,o)},s.prototype.toArrayLike=function(t,o,c){var l=this.byteLength(),v=c||Math.max(1,l);u(l<=v,"byte array longer than desired length"),u(v>0,"Requested array length <= 0"),this.strip();var w=o==="le",M=new t(v),m,n,b=this.clone();if(w){for(n=0;!b.isZero();n++)m=b.andln(255),b.iushrn(8),M[n]=m;for(;n<v;n++)M[n]=0}else{for(n=0;n<v-l;n++)M[n]=0;for(n=0;!b.isZero();n++)m=b.andln(255),b.iushrn(8),M[v-n-1]=m}return M},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var o=t,c=0;return o>=4096&&(c+=13,o>>>=13),o>=64&&(c+=7,o>>>=7),o>=8&&(c+=4,o>>>=4),o>=2&&(c+=2,o>>>=2),c+o},s.prototype._zeroBits=function(t){if(t===0)return 26;var o=t,c=0;return o&8191||(c+=13,o>>>=13),o&127||(c+=7,o>>>=7),o&15||(c+=4,o>>>=4),o&3||(c+=2,o>>>=2),o&1||c++,c},s.prototype.bitLength=function(){var t=this.words[this.length-1],o=this._countBits(t);return(this.length-1)*26+o};function B(E){for(var t=new Array(E.bitLength()),o=0;o<t.length;o++){var c=o/26|0,l=o%26;t[o]=(E.words[c]&1<<l)>>>l}return t}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,o=0;o<this.length;o++){var c=this._zeroBits(this.words[o]);if(t+=c,c!==26)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]|t.words[o];return this.strip()},s.prototype.ior=function(t){return u((this.negative|t.negative)===0),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var o;this.length>t.length?o=t:o=this;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]&t.words[c];return this.length=o.length,this.strip()},s.prototype.iand=function(t){return u((this.negative|t.negative)===0),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var o,c;this.length>t.length?(o=this,c=t):(o=t,c=this);for(var l=0;l<c.length;l++)this.words[l]=o.words[l]^c.words[l];if(this!==o)for(;l<o.length;l++)this.words[l]=o.words[l];return this.length=o.length,this.strip()},s.prototype.ixor=function(t){return u((this.negative|t.negative)===0),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){u(typeof t=="number"&&t>=0);var o=Math.ceil(t/26)|0,c=t%26;this._expand(o),c>0&&o--;for(var l=0;l<o;l++)this.words[l]=~this.words[l]&67108863;return c>0&&(this.words[l]=~this.words[l]&67108863>>26-c),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,o){u(typeof t=="number"&&t>=0);var c=t/26|0,l=t%26;return this._expand(c+1),o?this.words[c]=this.words[c]|1<<l:this.words[c]=this.words[c]&~(1<<l),this.strip()},s.prototype.iadd=function(t){var o;if(this.negative!==0&&t.negative===0)return this.negative=0,o=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,o=this.isub(t),t.negative=1,o._normSign();var c,l;this.length>t.length?(c=this,l=t):(c=t,l=this);for(var v=0,w=0;w<l.length;w++)o=(c.words[w]|0)+(l.words[w]|0)+v,this.words[w]=o&67108863,v=o>>>26;for(;v!==0&&w<c.length;w++)o=(c.words[w]|0)+v,this.words[w]=o&67108863,v=o>>>26;if(this.length=c.length,v!==0)this.words[this.length]=v,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},s.prototype.add=function(t){var o;return t.negative!==0&&this.negative===0?(t.negative=0,o=this.sub(t),t.negative^=1,o):t.negative===0&&this.negative!==0?(this.negative=0,o=t.sub(this),this.negative=1,o):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var o=this.iadd(t);return t.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var c=this.cmp(t);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,v;c>0?(l=this,v=t):(l=t,v=this);for(var w=0,M=0;M<v.length;M++)o=(l.words[M]|0)-(v.words[M]|0)+w,w=o>>26,this.words[M]=o&67108863;for(;w!==0&&M<l.length;M++)o=(l.words[M]|0)+w,w=o>>26,this.words[M]=o&67108863;if(w===0&&M<l.length&&l!==this)for(;M<l.length;M++)this.words[M]=l.words[M];return this.length=Math.max(this.length,M),l!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};function q(E,t,o){o.negative=t.negative^E.negative;var c=E.length+t.length|0;o.length=c,c=c-1|0;var l=E.words[0]|0,v=t.words[0]|0,w=l*v,M=w&67108863,m=w/67108864|0;o.words[0]=M;for(var n=1;n<c;n++){for(var b=m>>>26,P=m&67108863,I=Math.min(n,t.length-1),F=Math.max(0,n-E.length+1);F<=I;F++){var Y=n-F|0;l=E.words[Y]|0,v=t.words[F]|0,w=l*v+P,b+=w/67108864|0,P=w&67108863}o.words[n]=P|0,m=b|0}return m!==0?o.words[n]=m|0:o.length--,o.strip()}var C=function(t,o,c){var l=t.words,v=o.words,w=c.words,M=0,m,n,b,P=l[0]|0,I=P&8191,F=P>>>13,Y=l[1]|0,X=Y&8191,T=Y>>>13,K=l[2]|0,W=K&8191,ne=K>>>13,ie=l[3]|0,G=ie&8191,H=ie>>>13,fe=l[4]|0,he=fe&8191,ve=fe>>>13,ke=l[5]|0,Me=ke&8191,le=ke>>>13,Ze=l[6]|0,_e=Ze&8191,Se=Ze>>>13,tt=l[7]|0,Ae=tt&8191,Pe=tt>>>13,ot=l[8]|0,Oe=ot&8191,He=ot>>>13,pt=l[9]|0,z=pt&8191,O=pt>>>13,D=v[0]|0,te=D&8191,ce=D>>>13,Fe=v[1]|0,be=Fe&8191,je=Fe>>>13,lt=v[2]|0,Ue=lt&8191,Ve=lt>>>13,dt=v[3]|0,Je=dt&8191,et=dt>>>13,bt=v[4]|0,Ge=bt&8191,Ye=bt>>>13,yt=v[5]|0,We=yt&8191,Xe=yt>>>13,gt=v[6]|0,Ke=gt&8191,Qe=gt>>>13,V=v[7]|0,J=V&8191,Z=V>>>13,$=v[8]|0,Q=$&8191,me=$>>>13,Ce=v[9]|0,we=Ce&8191,qe=Ce>>>13;c.negative=t.negative^o.negative,c.length=19,m=Math.imul(I,te),n=Math.imul(I,ce),n=n+Math.imul(F,te)|0,b=Math.imul(F,ce);var at=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(at>>>26)|0,at&=67108863,m=Math.imul(X,te),n=Math.imul(X,ce),n=n+Math.imul(T,te)|0,b=Math.imul(T,ce),m=m+Math.imul(I,be)|0,n=n+Math.imul(I,je)|0,n=n+Math.imul(F,be)|0,b=b+Math.imul(F,je)|0;var it=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(it>>>26)|0,it&=67108863,m=Math.imul(W,te),n=Math.imul(W,ce),n=n+Math.imul(ne,te)|0,b=Math.imul(ne,ce),m=m+Math.imul(X,be)|0,n=n+Math.imul(X,je)|0,n=n+Math.imul(T,be)|0,b=b+Math.imul(T,je)|0,m=m+Math.imul(I,Ue)|0,n=n+Math.imul(I,Ve)|0,n=n+Math.imul(F,Ue)|0,b=b+Math.imul(F,Ve)|0;var vt=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(G,te),n=Math.imul(G,ce),n=n+Math.imul(H,te)|0,b=Math.imul(H,ce),m=m+Math.imul(W,be)|0,n=n+Math.imul(W,je)|0,n=n+Math.imul(ne,be)|0,b=b+Math.imul(ne,je)|0,m=m+Math.imul(X,Ue)|0,n=n+Math.imul(X,Ve)|0,n=n+Math.imul(T,Ue)|0,b=b+Math.imul(T,Ve)|0,m=m+Math.imul(I,Je)|0,n=n+Math.imul(I,et)|0,n=n+Math.imul(F,Je)|0,b=b+Math.imul(F,et)|0;var ft=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(he,te),n=Math.imul(he,ce),n=n+Math.imul(ve,te)|0,b=Math.imul(ve,ce),m=m+Math.imul(G,be)|0,n=n+Math.imul(G,je)|0,n=n+Math.imul(H,be)|0,b=b+Math.imul(H,je)|0,m=m+Math.imul(W,Ue)|0,n=n+Math.imul(W,Ve)|0,n=n+Math.imul(ne,Ue)|0,b=b+Math.imul(ne,Ve)|0,m=m+Math.imul(X,Je)|0,n=n+Math.imul(X,et)|0,n=n+Math.imul(T,Je)|0,b=b+Math.imul(T,et)|0,m=m+Math.imul(I,Ge)|0,n=n+Math.imul(I,Ye)|0,n=n+Math.imul(F,Ge)|0,b=b+Math.imul(F,Ye)|0;var ht=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(Me,te),n=Math.imul(Me,ce),n=n+Math.imul(le,te)|0,b=Math.imul(le,ce),m=m+Math.imul(he,be)|0,n=n+Math.imul(he,je)|0,n=n+Math.imul(ve,be)|0,b=b+Math.imul(ve,je)|0,m=m+Math.imul(G,Ue)|0,n=n+Math.imul(G,Ve)|0,n=n+Math.imul(H,Ue)|0,b=b+Math.imul(H,Ve)|0,m=m+Math.imul(W,Je)|0,n=n+Math.imul(W,et)|0,n=n+Math.imul(ne,Je)|0,b=b+Math.imul(ne,et)|0,m=m+Math.imul(X,Ge)|0,n=n+Math.imul(X,Ye)|0,n=n+Math.imul(T,Ge)|0,b=b+Math.imul(T,Ye)|0,m=m+Math.imul(I,We)|0,n=n+Math.imul(I,Xe)|0,n=n+Math.imul(F,We)|0,b=b+Math.imul(F,Xe)|0;var ct=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ct>>>26)|0,ct&=67108863,m=Math.imul(_e,te),n=Math.imul(_e,ce),n=n+Math.imul(Se,te)|0,b=Math.imul(Se,ce),m=m+Math.imul(Me,be)|0,n=n+Math.imul(Me,je)|0,n=n+Math.imul(le,be)|0,b=b+Math.imul(le,je)|0,m=m+Math.imul(he,Ue)|0,n=n+Math.imul(he,Ve)|0,n=n+Math.imul(ve,Ue)|0,b=b+Math.imul(ve,Ve)|0,m=m+Math.imul(G,Je)|0,n=n+Math.imul(G,et)|0,n=n+Math.imul(H,Je)|0,b=b+Math.imul(H,et)|0,m=m+Math.imul(W,Ge)|0,n=n+Math.imul(W,Ye)|0,n=n+Math.imul(ne,Ge)|0,b=b+Math.imul(ne,Ye)|0,m=m+Math.imul(X,We)|0,n=n+Math.imul(X,Xe)|0,n=n+Math.imul(T,We)|0,b=b+Math.imul(T,Xe)|0,m=m+Math.imul(I,Ke)|0,n=n+Math.imul(I,Qe)|0,n=n+Math.imul(F,Ke)|0,b=b+Math.imul(F,Qe)|0;var re=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(re>>>26)|0,re&=67108863,m=Math.imul(Ae,te),n=Math.imul(Ae,ce),n=n+Math.imul(Pe,te)|0,b=Math.imul(Pe,ce),m=m+Math.imul(_e,be)|0,n=n+Math.imul(_e,je)|0,n=n+Math.imul(Se,be)|0,b=b+Math.imul(Se,je)|0,m=m+Math.imul(Me,Ue)|0,n=n+Math.imul(Me,Ve)|0,n=n+Math.imul(le,Ue)|0,b=b+Math.imul(le,Ve)|0,m=m+Math.imul(he,Je)|0,n=n+Math.imul(he,et)|0,n=n+Math.imul(ve,Je)|0,b=b+Math.imul(ve,et)|0,m=m+Math.imul(G,Ge)|0,n=n+Math.imul(G,Ye)|0,n=n+Math.imul(H,Ge)|0,b=b+Math.imul(H,Ye)|0,m=m+Math.imul(W,We)|0,n=n+Math.imul(W,Xe)|0,n=n+Math.imul(ne,We)|0,b=b+Math.imul(ne,Xe)|0,m=m+Math.imul(X,Ke)|0,n=n+Math.imul(X,Qe)|0,n=n+Math.imul(T,Ke)|0,b=b+Math.imul(T,Qe)|0,m=m+Math.imul(I,J)|0,n=n+Math.imul(I,Z)|0,n=n+Math.imul(F,J)|0,b=b+Math.imul(F,Z)|0;var ue=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ue>>>26)|0,ue&=67108863,m=Math.imul(Oe,te),n=Math.imul(Oe,ce),n=n+Math.imul(He,te)|0,b=Math.imul(He,ce),m=m+Math.imul(Ae,be)|0,n=n+Math.imul(Ae,je)|0,n=n+Math.imul(Pe,be)|0,b=b+Math.imul(Pe,je)|0,m=m+Math.imul(_e,Ue)|0,n=n+Math.imul(_e,Ve)|0,n=n+Math.imul(Se,Ue)|0,b=b+Math.imul(Se,Ve)|0,m=m+Math.imul(Me,Je)|0,n=n+Math.imul(Me,et)|0,n=n+Math.imul(le,Je)|0,b=b+Math.imul(le,et)|0,m=m+Math.imul(he,Ge)|0,n=n+Math.imul(he,Ye)|0,n=n+Math.imul(ve,Ge)|0,b=b+Math.imul(ve,Ye)|0,m=m+Math.imul(G,We)|0,n=n+Math.imul(G,Xe)|0,n=n+Math.imul(H,We)|0,b=b+Math.imul(H,Xe)|0,m=m+Math.imul(W,Ke)|0,n=n+Math.imul(W,Qe)|0,n=n+Math.imul(ne,Ke)|0,b=b+Math.imul(ne,Qe)|0,m=m+Math.imul(X,J)|0,n=n+Math.imul(X,Z)|0,n=n+Math.imul(T,J)|0,b=b+Math.imul(T,Z)|0,m=m+Math.imul(I,Q)|0,n=n+Math.imul(I,me)|0,n=n+Math.imul(F,Q)|0,b=b+Math.imul(F,me)|0;var ae=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ae>>>26)|0,ae&=67108863,m=Math.imul(z,te),n=Math.imul(z,ce),n=n+Math.imul(O,te)|0,b=Math.imul(O,ce),m=m+Math.imul(Oe,be)|0,n=n+Math.imul(Oe,je)|0,n=n+Math.imul(He,be)|0,b=b+Math.imul(He,je)|0,m=m+Math.imul(Ae,Ue)|0,n=n+Math.imul(Ae,Ve)|0,n=n+Math.imul(Pe,Ue)|0,b=b+Math.imul(Pe,Ve)|0,m=m+Math.imul(_e,Je)|0,n=n+Math.imul(_e,et)|0,n=n+Math.imul(Se,Je)|0,b=b+Math.imul(Se,et)|0,m=m+Math.imul(Me,Ge)|0,n=n+Math.imul(Me,Ye)|0,n=n+Math.imul(le,Ge)|0,b=b+Math.imul(le,Ye)|0,m=m+Math.imul(he,We)|0,n=n+Math.imul(he,Xe)|0,n=n+Math.imul(ve,We)|0,b=b+Math.imul(ve,Xe)|0,m=m+Math.imul(G,Ke)|0,n=n+Math.imul(G,Qe)|0,n=n+Math.imul(H,Ke)|0,b=b+Math.imul(H,Qe)|0,m=m+Math.imul(W,J)|0,n=n+Math.imul(W,Z)|0,n=n+Math.imul(ne,J)|0,b=b+Math.imul(ne,Z)|0,m=m+Math.imul(X,Q)|0,n=n+Math.imul(X,me)|0,n=n+Math.imul(T,Q)|0,b=b+Math.imul(T,me)|0,m=m+Math.imul(I,we)|0,n=n+Math.imul(I,qe)|0,n=n+Math.imul(F,we)|0,b=b+Math.imul(F,qe)|0;var pe=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(pe>>>26)|0,pe&=67108863,m=Math.imul(z,be),n=Math.imul(z,je),n=n+Math.imul(O,be)|0,b=Math.imul(O,je),m=m+Math.imul(Oe,Ue)|0,n=n+Math.imul(Oe,Ve)|0,n=n+Math.imul(He,Ue)|0,b=b+Math.imul(He,Ve)|0,m=m+Math.imul(Ae,Je)|0,n=n+Math.imul(Ae,et)|0,n=n+Math.imul(Pe,Je)|0,b=b+Math.imul(Pe,et)|0,m=m+Math.imul(_e,Ge)|0,n=n+Math.imul(_e,Ye)|0,n=n+Math.imul(Se,Ge)|0,b=b+Math.imul(Se,Ye)|0,m=m+Math.imul(Me,We)|0,n=n+Math.imul(Me,Xe)|0,n=n+Math.imul(le,We)|0,b=b+Math.imul(le,Xe)|0,m=m+Math.imul(he,Ke)|0,n=n+Math.imul(he,Qe)|0,n=n+Math.imul(ve,Ke)|0,b=b+Math.imul(ve,Qe)|0,m=m+Math.imul(G,J)|0,n=n+Math.imul(G,Z)|0,n=n+Math.imul(H,J)|0,b=b+Math.imul(H,Z)|0,m=m+Math.imul(W,Q)|0,n=n+Math.imul(W,me)|0,n=n+Math.imul(ne,Q)|0,b=b+Math.imul(ne,me)|0,m=m+Math.imul(X,we)|0,n=n+Math.imul(X,qe)|0,n=n+Math.imul(T,we)|0,b=b+Math.imul(T,qe)|0;var ye=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,m=Math.imul(z,Ue),n=Math.imul(z,Ve),n=n+Math.imul(O,Ue)|0,b=Math.imul(O,Ve),m=m+Math.imul(Oe,Je)|0,n=n+Math.imul(Oe,et)|0,n=n+Math.imul(He,Je)|0,b=b+Math.imul(He,et)|0,m=m+Math.imul(Ae,Ge)|0,n=n+Math.imul(Ae,Ye)|0,n=n+Math.imul(Pe,Ge)|0,b=b+Math.imul(Pe,Ye)|0,m=m+Math.imul(_e,We)|0,n=n+Math.imul(_e,Xe)|0,n=n+Math.imul(Se,We)|0,b=b+Math.imul(Se,Xe)|0,m=m+Math.imul(Me,Ke)|0,n=n+Math.imul(Me,Qe)|0,n=n+Math.imul(le,Ke)|0,b=b+Math.imul(le,Qe)|0,m=m+Math.imul(he,J)|0,n=n+Math.imul(he,Z)|0,n=n+Math.imul(ve,J)|0,b=b+Math.imul(ve,Z)|0,m=m+Math.imul(G,Q)|0,n=n+Math.imul(G,me)|0,n=n+Math.imul(H,Q)|0,b=b+Math.imul(H,me)|0,m=m+Math.imul(W,we)|0,n=n+Math.imul(W,qe)|0,n=n+Math.imul(ne,we)|0,b=b+Math.imul(ne,qe)|0;var xe=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,m=Math.imul(z,Je),n=Math.imul(z,et),n=n+Math.imul(O,Je)|0,b=Math.imul(O,et),m=m+Math.imul(Oe,Ge)|0,n=n+Math.imul(Oe,Ye)|0,n=n+Math.imul(He,Ge)|0,b=b+Math.imul(He,Ye)|0,m=m+Math.imul(Ae,We)|0,n=n+Math.imul(Ae,Xe)|0,n=n+Math.imul(Pe,We)|0,b=b+Math.imul(Pe,Xe)|0,m=m+Math.imul(_e,Ke)|0,n=n+Math.imul(_e,Qe)|0,n=n+Math.imul(Se,Ke)|0,b=b+Math.imul(Se,Qe)|0,m=m+Math.imul(Me,J)|0,n=n+Math.imul(Me,Z)|0,n=n+Math.imul(le,J)|0,b=b+Math.imul(le,Z)|0,m=m+Math.imul(he,Q)|0,n=n+Math.imul(he,me)|0,n=n+Math.imul(ve,Q)|0,b=b+Math.imul(ve,me)|0,m=m+Math.imul(G,we)|0,n=n+Math.imul(G,qe)|0,n=n+Math.imul(H,we)|0,b=b+Math.imul(H,qe)|0;var Ne=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,m=Math.imul(z,Ge),n=Math.imul(z,Ye),n=n+Math.imul(O,Ge)|0,b=Math.imul(O,Ye),m=m+Math.imul(Oe,We)|0,n=n+Math.imul(Oe,Xe)|0,n=n+Math.imul(He,We)|0,b=b+Math.imul(He,Xe)|0,m=m+Math.imul(Ae,Ke)|0,n=n+Math.imul(Ae,Qe)|0,n=n+Math.imul(Pe,Ke)|0,b=b+Math.imul(Pe,Qe)|0,m=m+Math.imul(_e,J)|0,n=n+Math.imul(_e,Z)|0,n=n+Math.imul(Se,J)|0,b=b+Math.imul(Se,Z)|0,m=m+Math.imul(Me,Q)|0,n=n+Math.imul(Me,me)|0,n=n+Math.imul(le,Q)|0,b=b+Math.imul(le,me)|0,m=m+Math.imul(he,we)|0,n=n+Math.imul(he,qe)|0,n=n+Math.imul(ve,we)|0,b=b+Math.imul(ve,qe)|0;var $e=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+($e>>>26)|0,$e&=67108863,m=Math.imul(z,We),n=Math.imul(z,Xe),n=n+Math.imul(O,We)|0,b=Math.imul(O,Xe),m=m+Math.imul(Oe,Ke)|0,n=n+Math.imul(Oe,Qe)|0,n=n+Math.imul(He,Ke)|0,b=b+Math.imul(He,Qe)|0,m=m+Math.imul(Ae,J)|0,n=n+Math.imul(Ae,Z)|0,n=n+Math.imul(Pe,J)|0,b=b+Math.imul(Pe,Z)|0,m=m+Math.imul(_e,Q)|0,n=n+Math.imul(_e,me)|0,n=n+Math.imul(Se,Q)|0,b=b+Math.imul(Se,me)|0,m=m+Math.imul(Me,we)|0,n=n+Math.imul(Me,qe)|0,n=n+Math.imul(le,we)|0,b=b+Math.imul(le,qe)|0;var Re=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,m=Math.imul(z,Ke),n=Math.imul(z,Qe),n=n+Math.imul(O,Ke)|0,b=Math.imul(O,Qe),m=m+Math.imul(Oe,J)|0,n=n+Math.imul(Oe,Z)|0,n=n+Math.imul(He,J)|0,b=b+Math.imul(He,Z)|0,m=m+Math.imul(Ae,Q)|0,n=n+Math.imul(Ae,me)|0,n=n+Math.imul(Pe,Q)|0,b=b+Math.imul(Pe,me)|0,m=m+Math.imul(_e,we)|0,n=n+Math.imul(_e,qe)|0,n=n+Math.imul(Se,we)|0,b=b+Math.imul(Se,qe)|0;var Ie=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,m=Math.imul(z,J),n=Math.imul(z,Z),n=n+Math.imul(O,J)|0,b=Math.imul(O,Z),m=m+Math.imul(Oe,Q)|0,n=n+Math.imul(Oe,me)|0,n=n+Math.imul(He,Q)|0,b=b+Math.imul(He,me)|0,m=m+Math.imul(Ae,we)|0,n=n+Math.imul(Ae,qe)|0,n=n+Math.imul(Pe,we)|0,b=b+Math.imul(Pe,qe)|0;var ze=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(ze>>>26)|0,ze&=67108863,m=Math.imul(z,Q),n=Math.imul(z,me),n=n+Math.imul(O,Q)|0,b=Math.imul(O,me),m=m+Math.imul(Oe,we)|0,n=n+Math.imul(Oe,qe)|0,n=n+Math.imul(He,we)|0,b=b+Math.imul(He,qe)|0;var Te=(M+m|0)+((n&8191)<<13)|0;M=(b+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,m=Math.imul(z,we),n=Math.imul(z,qe),n=n+Math.imul(O,we)|0,b=Math.imul(O,qe);var De=(M+m|0)+((n&8191)<<13)|0;return M=(b+(n>>>13)|0)+(De>>>26)|0,De&=67108863,w[0]=at,w[1]=it,w[2]=vt,w[3]=ft,w[4]=ht,w[5]=ct,w[6]=re,w[7]=ue,w[8]=ae,w[9]=pe,w[10]=ye,w[11]=xe,w[12]=Ne,w[13]=$e,w[14]=Re,w[15]=Ie,w[16]=ze,w[17]=Te,w[18]=De,M!==0&&(w[19]=M,c.length++),c};Math.imul||(C=q);function N(E,t,o){o.negative=t.negative^E.negative,o.length=E.length+t.length;for(var c=0,l=0,v=0;v<o.length-1;v++){var w=l;l=0;for(var M=c&67108863,m=Math.min(v,t.length-1),n=Math.max(0,v-E.length+1);n<=m;n++){var b=v-n,P=E.words[b]|0,I=t.words[n]|0,F=P*I,Y=F&67108863;w=w+(F/67108864|0)|0,Y=Y+M|0,M=Y&67108863,w=w+(Y>>>26)|0,l+=w>>>26,w&=67108863}o.words[v]=M,c=w,w=l}return c!==0?o.words[v]=c:o.length--,o.strip()}function k(E,t,o){var c=new L;return c.mulp(E,t,o)}s.prototype.mulTo=function(t,o){var c,l=this.length+t.length;return this.length===10&&t.length===10?c=C(this,t,o):l<63?c=q(this,t,o):l<1024?c=N(this,t,o):c=k(this,t,o),c};function L(E,t){this.x=E,this.y=t}L.prototype.makeRBT=function(t){for(var o=new Array(t),c=s.prototype._countBits(t)-1,l=0;l<t;l++)o[l]=this.revBin(l,c,t);return o},L.prototype.revBin=function(t,o,c){if(t===0||t===c-1)return t;for(var l=0,v=0;v<o;v++)l|=(t&1)<<o-v-1,t>>=1;return l},L.prototype.permute=function(t,o,c,l,v,w){for(var M=0;M<w;M++)l[M]=o[t[M]],v[M]=c[t[M]]},L.prototype.transform=function(t,o,c,l,v,w){this.permute(w,t,o,c,l,v);for(var M=1;M<v;M<<=1)for(var m=M<<1,n=Math.cos(2*Math.PI/m),b=Math.sin(2*Math.PI/m),P=0;P<v;P+=m)for(var I=n,F=b,Y=0;Y<M;Y++){var X=c[P+Y],T=l[P+Y],K=c[P+Y+M],W=l[P+Y+M],ne=I*K-F*W;W=I*W+F*K,K=ne,c[P+Y]=X+K,l[P+Y]=T+W,c[P+Y+M]=X-K,l[P+Y+M]=T-W,Y!==m&&(ne=n*I-b*F,F=n*F+b*I,I=ne)}},L.prototype.guessLen13b=function(t,o){var c=Math.max(o,t)|1,l=c&1,v=0;for(c=c/2|0;c;c=c>>>1)v++;return 1<<v+1+l},L.prototype.conjugate=function(t,o,c){if(!(c<=1))for(var l=0;l<c/2;l++){var v=t[l];t[l]=t[c-l-1],t[c-l-1]=v,v=o[l],o[l]=-o[c-l-1],o[c-l-1]=-v}},L.prototype.normalize13b=function(t,o){for(var c=0,l=0;l<o/2;l++){var v=Math.round(t[2*l+1]/o)*8192+Math.round(t[2*l]/o)+c;t[l]=v&67108863,v<67108864?c=0:c=v/67108864|0}return t},L.prototype.convert13b=function(t,o,c,l){for(var v=0,w=0;w<o;w++)v=v+(t[w]|0),c[2*w]=v&8191,v=v>>>13,c[2*w+1]=v&8191,v=v>>>13;for(w=2*o;w<l;++w)c[w]=0;u(v===0),u((v&-8192)===0)},L.prototype.stub=function(t){for(var o=new Array(t),c=0;c<t;c++)o[c]=0;return o},L.prototype.mulp=function(t,o,c){var l=2*this.guessLen13b(t.length,o.length),v=this.makeRBT(l),w=this.stub(l),M=new Array(l),m=new Array(l),n=new Array(l),b=new Array(l),P=new Array(l),I=new Array(l),F=c.words;F.length=l,this.convert13b(t.words,t.length,M,l),this.convert13b(o.words,o.length,b,l),this.transform(M,w,m,n,l,v),this.transform(b,w,P,I,l,v);for(var Y=0;Y<l;Y++){var X=m[Y]*P[Y]-n[Y]*I[Y];n[Y]=m[Y]*I[Y]+n[Y]*P[Y],m[Y]=X}return this.conjugate(m,n,l),this.transform(m,n,F,w,l,v),this.conjugate(F,w,l),this.normalize13b(F,l),c.negative=t.negative^o.negative,c.length=t.length+o.length,c.strip()},s.prototype.mul=function(t){var o=new s(null);return o.words=new Array(this.length+t.length),this.mulTo(t,o)},s.prototype.mulf=function(t){var o=new s(null);return o.words=new Array(this.length+t.length),k(this,t,o)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){u(typeof t=="number"),u(t<67108864);for(var o=0,c=0;c<this.length;c++){var l=(this.words[c]|0)*t,v=(l&67108863)+(o&67108863);o>>=26,o+=l/67108864|0,o+=v>>>26,this.words[c]=v&67108863}return o!==0&&(this.words[c]=o,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var o=B(t);if(o.length===0)return new s(1);for(var c=this,l=0;l<o.length&&o[l]===0;l++,c=c.sqr());if(++l<o.length)for(var v=c.sqr();l<o.length;l++,v=v.sqr())o[l]!==0&&(c=c.mul(v));return c},s.prototype.iushln=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26,l=67108863>>>26-o<<26-o,v;if(o!==0){var w=0;for(v=0;v<this.length;v++){var M=this.words[v]&l,m=(this.words[v]|0)-M<<o;this.words[v]=m|w,w=M>>>26-o}w&&(this.words[v]=w,this.length++)}if(c!==0){for(v=this.length-1;v>=0;v--)this.words[v+c]=this.words[v];for(v=0;v<c;v++)this.words[v]=0;this.length+=c}return this.strip()},s.prototype.ishln=function(t){return u(this.negative===0),this.iushln(t)},s.prototype.iushrn=function(t,o,c){u(typeof t=="number"&&t>=0);var l;o?l=(o-o%26)/26:l=0;var v=t%26,w=Math.min((t-v)/26,this.length),M=67108863^67108863>>>v<<v,m=c;if(l-=w,l=Math.max(0,l),m){for(var n=0;n<w;n++)m.words[n]=this.words[n];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,n=0;n<this.length;n++)this.words[n]=this.words[n+w];else this.words[0]=0,this.length=1;var b=0;for(n=this.length-1;n>=0&&(b!==0||n>=l);n--){var P=this.words[n]|0;this.words[n]=b<<26-v|P>>>v,b=P&M}return m&&b!==0&&(m.words[m.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,o,c){return u(this.negative===0),this.iushrn(t,o,c)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26,l=1<<o;if(this.length<=c)return!1;var v=this.words[c];return!!(v&l)},s.prototype.imaskn=function(t){u(typeof t=="number"&&t>=0);var o=t%26,c=(t-o)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(o!==0&&c++,this.length=Math.min(c,this.length),o!==0){var l=67108863^67108863>>>o<<o;this.words[this.length-1]&=l}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return u(typeof t=="number"),u(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},s.prototype.isubn=function(t){if(u(typeof t=="number"),u(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,o,c){var l=t.length+c,v;this._expand(l);var w,M=0;for(v=0;v<t.length;v++){w=(this.words[v+c]|0)+M;var m=(t.words[v]|0)*o;w-=m&67108863,M=(w>>26)-(m/67108864|0),this.words[v+c]=w&67108863}for(;v<this.length-c;v++)w=(this.words[v+c]|0)+M,M=w>>26,this.words[v+c]=w&67108863;if(M===0)return this.strip();for(u(M===-1),M=0,v=0;v<this.length;v++)w=-(this.words[v]|0)+M,M=w>>26,this.words[v]=w&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,o){var c=this.length-t.length,l=this.clone(),v=t,w=v.words[v.length-1]|0,M=this._countBits(w);c=26-M,c!==0&&(v=v.ushln(c),l.iushln(c),w=v.words[v.length-1]|0);var m=l.length-v.length,n;if(o!=="mod"){n=new s(null),n.length=m+1,n.words=new Array(n.length);for(var b=0;b<n.length;b++)n.words[b]=0}var P=l.clone()._ishlnsubmul(v,1,m);P.negative===0&&(l=P,n&&(n.words[m]=1));for(var I=m-1;I>=0;I--){var F=(l.words[v.length+I]|0)*67108864+(l.words[v.length+I-1]|0);for(F=Math.min(F/w|0,67108863),l._ishlnsubmul(v,F,I);l.negative!==0;)F--,l.negative=0,l._ishlnsubmul(v,1,I),l.isZero()||(l.negative^=1);n&&(n.words[I]=F)}return n&&n.strip(),l.strip(),o!=="div"&&c!==0&&l.iushrn(c),{div:n||null,mod:l}},s.prototype.divmod=function(t,o,c){if(u(!t.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var l,v,w;return this.negative!==0&&t.negative===0?(w=this.neg().divmod(t,o),o!=="mod"&&(l=w.div.neg()),o!=="div"&&(v=w.mod.neg(),c&&v.negative!==0&&v.iadd(t)),{div:l,mod:v}):this.negative===0&&t.negative!==0?(w=this.divmod(t.neg(),o),o!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&t.negative?(w=this.neg().divmod(t.neg(),o),o!=="div"&&(v=w.mod.neg(),c&&v.negative!==0&&v.isub(t)),{div:w.div,mod:v}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:t.length===1?o==="div"?{div:this.divn(t.words[0]),mod:null}:o==="mod"?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,o)},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var o=this.divmod(t);if(o.mod.isZero())return o.div;var c=o.div.negative!==0?o.mod.isub(t):o.mod,l=t.ushrn(1),v=t.andln(1),w=c.cmp(l);return w<0||v===1&&w===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},s.prototype.modn=function(t){u(t<=67108863);for(var o=(1<<26)%t,c=0,l=this.length-1;l>=0;l--)c=(o*c+(this.words[l]|0))%t;return c},s.prototype.idivn=function(t){u(t<=67108863);for(var o=0,c=this.length-1;c>=0;c--){var l=(this.words[c]|0)+o*67108864;this.words[c]=l/t|0,o=l%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){u(t.negative===0),u(!t.isZero());var o=this,c=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var l=new s(1),v=new s(0),w=new s(0),M=new s(1),m=0;o.isEven()&&c.isEven();)o.iushrn(1),c.iushrn(1),++m;for(var n=c.clone(),b=o.clone();!o.isZero();){for(var P=0,I=1;!(o.words[0]&I)&&P<26;++P,I<<=1);if(P>0)for(o.iushrn(P);P-- >0;)(l.isOdd()||v.isOdd())&&(l.iadd(n),v.isub(b)),l.iushrn(1),v.iushrn(1);for(var F=0,Y=1;!(c.words[0]&Y)&&F<26;++F,Y<<=1);if(F>0)for(c.iushrn(F);F-- >0;)(w.isOdd()||M.isOdd())&&(w.iadd(n),M.isub(b)),w.iushrn(1),M.iushrn(1);o.cmp(c)>=0?(o.isub(c),l.isub(w),v.isub(M)):(c.isub(o),w.isub(l),M.isub(v))}return{a:w,b:M,gcd:c.iushln(m)}},s.prototype._invmp=function(t){u(t.negative===0),u(!t.isZero());var o=this,c=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var l=new s(1),v=new s(0),w=c.clone();o.cmpn(1)>0&&c.cmpn(1)>0;){for(var M=0,m=1;!(o.words[0]&m)&&M<26;++M,m<<=1);if(M>0)for(o.iushrn(M);M-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var n=0,b=1;!(c.words[0]&b)&&n<26;++n,b<<=1);if(n>0)for(c.iushrn(n);n-- >0;)v.isOdd()&&v.iadd(w),v.iushrn(1);o.cmp(c)>=0?(o.isub(c),l.isub(v)):(c.isub(o),v.isub(l))}var P;return o.cmpn(1)===0?P=l:P=v,P.cmpn(0)<0&&P.iadd(t),P},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var o=this.clone(),c=t.clone();o.negative=0,c.negative=0;for(var l=0;o.isEven()&&c.isEven();l++)o.iushrn(1),c.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;c.isEven();)c.iushrn(1);var v=o.cmp(c);if(v<0){var w=o;o=c,c=w}else if(v===0||c.cmpn(1)===0)break;o.isub(c)}while(!0);return c.iushln(l)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){u(typeof t=="number");var o=t%26,c=(t-o)/26,l=1<<o;if(this.length<=c)return this._expand(c+1),this.words[c]|=l,this;for(var v=l,w=c;v!==0&&w<this.length;w++){var M=this.words[w]|0;M+=v,v=M>>>26,M&=67108863,this.words[w]=M}return v!==0&&(this.words[w]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(t){var o=t<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var c;if(this.length>1)c=1;else{o&&(t=-t),u(t<=67108863,"Number is too big");var l=this.words[0]|0;c=l===t?0:l<t?-1:1}return this.negative!==0?-c|0:c},s.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var o=this.ucmp(t);return this.negative!==0?-o|0:o},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var o=0,c=this.length-1;c>=0;c--){var l=this.words[c]|0,v=t.words[c]|0;if(l!==v){l<v?o=-1:l>v&&(o=1);break}}return o},s.prototype.gtn=function(t){return this.cmpn(t)===1},s.prototype.gt=function(t){return this.cmp(t)===1},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return this.cmpn(t)===-1},s.prototype.lt=function(t){return this.cmp(t)===-1},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return this.cmpn(t)===0},s.prototype.eq=function(t){return this.cmp(t)===0},s.red=function(t){return new oe(t)},s.prototype.toRed=function(t){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return u(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return u(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var U={k256:null,p224:null,p192:null,p25519:null};function j(E,t){this.name=E,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},j.prototype.ireduce=function(t){var o=t,c;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),c=o.bitLength();while(c>this.n);var l=c<this.n?-1:o.ucmp(this.p);return l===0?(o.words[0]=0,o.length=1):l>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},j.prototype.split=function(t,o){t.iushrn(this.n,0,o)},j.prototype.imulK=function(t){return t.imul(this.k)};function ee(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}d(ee,j),ee.prototype.split=function(t,o){for(var c=4194303,l=Math.min(t.length,9),v=0;v<l;v++)o.words[v]=t.words[v];if(o.length=l,t.length<=9){t.words[0]=0,t.length=1;return}var w=t.words[9];for(o.words[o.length++]=w&c,v=10;v<t.length;v++){var M=t.words[v]|0;t.words[v-10]=(M&c)<<4|w>>>22,w=M}w>>>=22,t.words[v-10]=w,w===0&&t.length>10?t.length-=10:t.length-=9},ee.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var o=0,c=0;c<t.length;c++){var l=t.words[c]|0;o+=l*977,t.words[c]=o&67108863,o=l*64+(o/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function se(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}d(se,j);function Ee(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}d(Ee,j);function ge(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}d(ge,j),ge.prototype.imulK=function(t){for(var o=0,c=0;c<t.length;c++){var l=(t.words[c]|0)*19+o,v=l&67108863;l>>>=26,t.words[c]=v,o=l}return o!==0&&(t.words[t.length++]=o),t},s._prime=function(t){if(U[t])return U[t];var o;if(t==="k256")o=new ee;else if(t==="p224")o=new se;else if(t==="p192")o=new Ee;else if(t==="p25519")o=new ge;else throw new Error("Unknown prime "+t);return U[t]=o,o};function oe(E){if(typeof E=="string"){var t=s._prime(E);this.m=t.p,this.prime=t}else u(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}oe.prototype._verify1=function(t){u(t.negative===0,"red works only with positives"),u(t.red,"red works only with red numbers")},oe.prototype._verify2=function(t,o){u((t.negative|o.negative)===0,"red works only with positives"),u(t.red&&t.red===o.red,"red works only with red numbers")},oe.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},oe.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},oe.prototype.add=function(t,o){this._verify2(t,o);var c=t.add(o);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},oe.prototype.iadd=function(t,o){this._verify2(t,o);var c=t.iadd(o);return c.cmp(this.m)>=0&&c.isub(this.m),c},oe.prototype.sub=function(t,o){this._verify2(t,o);var c=t.sub(o);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},oe.prototype.isub=function(t,o){this._verify2(t,o);var c=t.isub(o);return c.cmpn(0)<0&&c.iadd(this.m),c},oe.prototype.shl=function(t,o){return this._verify1(t),this.imod(t.ushln(o))},oe.prototype.imul=function(t,o){return this._verify2(t,o),this.imod(t.imul(o))},oe.prototype.mul=function(t,o){return this._verify2(t,o),this.imod(t.mul(o))},oe.prototype.isqr=function(t){return this.imul(t,t.clone())},oe.prototype.sqr=function(t){return this.mul(t,t)},oe.prototype.sqrt=function(t){if(t.isZero())return t.clone();var o=this.m.andln(3);if(u(o%2===1),o===3){var c=this.m.add(new s(1)).iushrn(2);return this.pow(t,c)}for(var l=this.m.subn(1),v=0;!l.isZero()&&l.andln(1)===0;)v++,l.iushrn(1);u(!l.isZero());var w=new s(1).toRed(this),M=w.redNeg(),m=this.m.subn(1).iushrn(1),n=this.m.bitLength();for(n=new s(2*n*n).toRed(this);this.pow(n,m).cmp(M)!==0;)n.redIAdd(M);for(var b=this.pow(n,l),P=this.pow(t,l.addn(1).iushrn(1)),I=this.pow(t,l),F=v;I.cmp(w)!==0;){for(var Y=I,X=0;Y.cmp(w)!==0;X++)Y=Y.redSqr();u(X<F);var T=this.pow(b,new s(1).iushln(F-X-1));P=P.redMul(T),b=T.redSqr(),I=I.redMul(b),F=X}return P},oe.prototype.invm=function(t){var o=t._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},oe.prototype.pow=function(t,o){if(o.isZero())return new s(1).toRed(this);if(o.cmpn(1)===0)return t.clone();var c=4,l=new Array(1<<c);l[0]=new s(1).toRed(this),l[1]=t;for(var v=2;v<l.length;v++)l[v]=this.mul(l[v-1],t);var w=l[0],M=0,m=0,n=o.bitLength()%26;for(n===0&&(n=26),v=o.length-1;v>=0;v--){for(var b=o.words[v],P=n-1;P>=0;P--){var I=b>>P&1;if(w!==l[0]&&(w=this.sqr(w)),I===0&&M===0){m=0;continue}M<<=1,M|=I,m++,!(m!==c&&(v!==0||P!==0))&&(w=this.mul(w,l[M]),m=0,M=0)}n=26}return w},oe.prototype.convertTo=function(t){var o=t.umod(this.m);return o===t?o.clone():o},oe.prototype.convertFrom=function(t){var o=t.clone();return o.red=null,o},s.mont=function(t){return new Le(t)};function Le(E){oe.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}d(Le,oe),Le.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Le.prototype.convertFrom=function(t){var o=this.imod(t.mul(this.rinv));return o.red=null,o},Le.prototype.imul=function(t,o){if(t.isZero()||o.isZero())return t.words[0]=0,t.length=1,t;var c=t.imul(o),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(l).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},Le.prototype.mul=function(t,o){if(t.isZero()||o.isZero())return new s(0)._forceRed(this);var c=t.mul(o),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=c.isub(l).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},Le.prototype.invm=function(t){var o=this.imod(t._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,commonjsGlobal)}(bn)),bn.exports}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var r=requireBn(),e=requireSafeBuffer$1().Buffer;function a(u,d){return e.from(u.toRed(r.mont(d.modulus)).redPow(new r(d.publicExponent)).fromRed().toArray())}return withPublic_1=a,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var r=requireParseAsn1(),e=requireBrowser$b(),a=requireBrowser$9(),u=requireMgf(),d=requireXor(),s=requireBn(),g=requireWithPublic(),x=requireBrowserifyRsa(),_=requireSafeBuffer$1().Buffer;publicEncrypt=function(B,q,C){var N;B.padding?N=B.padding:C?N=1:N=4;var k=r(B),L;if(N===4)L=S(k,q);else if(N===1)L=y(k,q,C);else if(N===3){if(L=new s(q),L.cmp(k.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return C?x(L,k):g(L,k)};function S(R,B){var q=R.modulus.byteLength(),C=B.length,N=a("sha1").update(_.alloc(0)).digest(),k=N.length,L=2*k;if(C>q-L-2)throw new Error("message too long");var U=_.alloc(q-C-L-2),j=q-k-1,ee=e(k),se=d(_.concat([N,U,_.alloc(1,1),B],j),u(ee,j)),Ee=d(ee,u(se,k));return new s(_.concat([_.alloc(1),Ee,se],q))}function y(R,B,q){var C=B.length,N=R.modulus.byteLength();if(C>N-11)throw new Error("message too long");var k;return q?k=_.alloc(N-C-3,255):k=A(N-C-3),new s(_.concat([_.from([0,q?1:2]),k,_.alloc(1),B],N))}function A(R){for(var B=_.allocUnsafe(R),q=0,C=e(R*2),N=0,k;q<R;)N===C.length&&(C=e(R*2),N=0),k=C[N++],k&&(B[q++]=k);return B}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var r=requireParseAsn1(),e=requireMgf(),a=requireXor(),u=requireBn(),d=requireBrowserifyRsa(),s=requireBrowser$9(),g=requireWithPublic(),x=requireSafeBuffer$1().Buffer;privateDecrypt=function(R,B,q){var C;R.padding?C=R.padding:q?C=1:C=4;var N=r(R),k=N.modulus.byteLength();if(B.length>k||new u(B).cmp(N.modulus)>=0)throw new Error("decryption error");var L;q?L=g(new u(B),N):L=d(B,N);var U=x.alloc(k-L.length);if(L=x.concat([U,L],k),C===4)return _(N,L);if(C===1)return S(N,L,q);if(C===3)return L;throw new Error("unknown padding")};function _(A,R){var B=A.modulus.byteLength(),q=s("sha1").update(x.alloc(0)).digest(),C=q.length;if(R[0]!==0)throw new Error("decryption error");var N=R.slice(1,C+1),k=R.slice(C+1),L=a(N,e(k,C)),U=a(k,e(L,B-C-1));if(y(q,U.slice(0,C)))throw new Error("decryption error");for(var j=C;U[j]===0;)j++;if(U[j++]!==1)throw new Error("decryption error");return U.slice(j)}function S(A,R,B){for(var q=R.slice(0,2),C=2,N=0;R[C++]!==0;)if(C>=R.length){N++;break}var k=R.slice(2,C-1);if((q.toString("hex")!=="0002"&&!B||q.toString("hex")!=="0001"&&B)&&N++,k.length<8&&N++,N)throw new Error("decryption error");return R.slice(C)}function y(A,R){A=x.from(A),R=x.from(R);var B=0,q=A.length;A.length!==R.length&&(B++,q=Math.min(A.length,R.length));for(var C=-1;++C<q;)B+=A[C]^R[C];return B}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(r){r.publicEncrypt=requirePublicEncrypt(),r.privateDecrypt=requirePrivateDecrypt(),r.privateEncrypt=function(a,u){return r.publicEncrypt(a,u,!0)},r.publicDecrypt=function(a,u){return r.privateDecrypt(a,u,!0)}}(browser$1)),browser$1}var browser={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;function r(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=requireSafeBuffer$1(),a=requireBrowser$b(),u=e.Buffer,d=e.kMaxLength,s=commonjsGlobal.crypto||commonjsGlobal.msCrypto,g=Math.pow(2,32)-1;function x(R,B){if(typeof R!="number"||R!==R)throw new TypeError("offset must be a number");if(R>g||R<0)throw new TypeError("offset must be a uint32");if(R>d||R>B)throw new RangeError("offset out of range")}function _(R,B,q){if(typeof R!="number"||R!==R)throw new TypeError("size must be a number");if(R>g||R<0)throw new TypeError("size must be a uint32");if(R+B>q||R>d)throw new RangeError("buffer too small")}s&&s.getRandomValues||!process$1.browser?(browser.randomFill=S,browser.randomFillSync=A):(browser.randomFill=r,browser.randomFillSync=r);function S(R,B,q,C){if(!u.isBuffer(R)&&!(R instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof B=="function")C=B,B=0,q=R.length;else if(typeof q=="function")C=q,q=R.length-B;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return x(B,R.length),_(q,B,R.length),y(R,B,q,C)}function y(R,B,q,C){if(process$1.browser){var N=R.buffer,k=new Uint8Array(N,B,q);if(s.getRandomValues(k),C){process$1.nextTick(function(){C(null,R)});return}return R}if(C){a(q,function(U,j){if(U)return C(U);j.copy(R,B),C(null,R)});return}var L=a(q);return L.copy(R,B),R}function A(R,B,q){if(typeof B>"u"&&(B=0),!u.isBuffer(R)&&!(R instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return x(B,R.length),q===void 0&&(q=R.length-B),_(q,B,R.length),y(R,B,q)}return browser}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var r=requireAlgos(),e=Object.keys(r),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);cryptoBrowserify.getHashes=function(){return a};var u=requireBrowser$7();cryptoBrowserify.pbkdf2=u.pbkdf2,cryptoBrowserify.pbkdf2Sync=u.pbkdf2Sync;var d=requireBrowser$5();cryptoBrowserify.Cipher=d.Cipher,cryptoBrowserify.createCipher=d.createCipher,cryptoBrowserify.Cipheriv=d.Cipheriv,cryptoBrowserify.createCipheriv=d.createCipheriv,cryptoBrowserify.Decipher=d.Decipher,cryptoBrowserify.createDecipher=d.createDecipher,cryptoBrowserify.Decipheriv=d.Decipheriv,cryptoBrowserify.createDecipheriv=d.createDecipheriv,cryptoBrowserify.getCiphers=d.getCiphers,cryptoBrowserify.listCiphers=d.listCiphers;var s=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=s.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=s.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=s.getDiffieHellman,cryptoBrowserify.createDiffieHellman=s.createDiffieHellman,cryptoBrowserify.DiffieHellman=s.DiffieHellman;var g=requireBrowser$3();cryptoBrowserify.createSign=g.createSign,cryptoBrowserify.Sign=g.Sign,cryptoBrowserify.createVerify=g.createVerify,cryptoBrowserify.Verify=g.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var x=requireBrowser$1();cryptoBrowserify.publicEncrypt=x.publicEncrypt,cryptoBrowserify.privateEncrypt=x.privateEncrypt,cryptoBrowserify.publicDecrypt=x.publicDecrypt,cryptoBrowserify.privateDecrypt=x.privateDecrypt;var _=requireBrowser();return cryptoBrowserify.randomFill=_.randomFill,cryptoBrowserify.randomFillSync=_.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}(function(r){(function(e){var a=function(V){var J,Z=new Float64Array(16);if(V)for(J=0;J<V.length;J++)Z[J]=V[J];return Z},u=function(){throw new Error("no PRNG")},d=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var g=a(),x=a([1]),_=a([56129,1]),S=a([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),y=a([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),A=a([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),R=a([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),B=a([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function q(V,J,Z,$){V[J]=Z>>24&255,V[J+1]=Z>>16&255,V[J+2]=Z>>8&255,V[J+3]=Z&255,V[J+4]=$>>24&255,V[J+5]=$>>16&255,V[J+6]=$>>8&255,V[J+7]=$&255}function C(V,J,Z,$,Q){var me,Ce=0;for(me=0;me<Q;me++)Ce|=V[J+me]^Z[$+me];return(1&Ce-1>>>8)-1}function N(V,J,Z,$){return C(V,J,Z,$,16)}function k(V,J,Z,$){return C(V,J,Z,$,32)}function L(V,J,Z,$){for(var Q=$[0]&255|($[1]&255)<<8|($[2]&255)<<16|($[3]&255)<<24,me=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Ce=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,we=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,qe=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,at=$[4]&255|($[5]&255)<<8|($[6]&255)<<16|($[7]&255)<<24,it=J[0]&255|(J[1]&255)<<8|(J[2]&255)<<16|(J[3]&255)<<24,vt=J[4]&255|(J[5]&255)<<8|(J[6]&255)<<16|(J[7]&255)<<24,ft=J[8]&255|(J[9]&255)<<8|(J[10]&255)<<16|(J[11]&255)<<24,ht=J[12]&255|(J[13]&255)<<8|(J[14]&255)<<16|(J[15]&255)<<24,ct=$[8]&255|($[9]&255)<<8|($[10]&255)<<16|($[11]&255)<<24,re=Z[16]&255|(Z[17]&255)<<8|(Z[18]&255)<<16|(Z[19]&255)<<24,ue=Z[20]&255|(Z[21]&255)<<8|(Z[22]&255)<<16|(Z[23]&255)<<24,ae=Z[24]&255|(Z[25]&255)<<8|(Z[26]&255)<<16|(Z[27]&255)<<24,pe=Z[28]&255|(Z[29]&255)<<8|(Z[30]&255)<<16|(Z[31]&255)<<24,ye=$[12]&255|($[13]&255)<<8|($[14]&255)<<16|($[15]&255)<<24,xe=Q,Ne=me,$e=Ce,Re=we,Ie=qe,ze=at,Te=it,De=vt,nt=ft,rt=ht,st=ct,ut=re,mt=ue,wt=ae,_t=pe,xt=ye,Be,St=0;St<20;St+=2)Be=xe+mt|0,Ie^=Be<<7|Be>>>25,Be=Ie+xe|0,nt^=Be<<9|Be>>>23,Be=nt+Ie|0,mt^=Be<<13|Be>>>19,Be=mt+nt|0,xe^=Be<<18|Be>>>14,Be=ze+Ne|0,rt^=Be<<7|Be>>>25,Be=rt+ze|0,wt^=Be<<9|Be>>>23,Be=wt+rt|0,Ne^=Be<<13|Be>>>19,Be=Ne+wt|0,ze^=Be<<18|Be>>>14,Be=st+Te|0,_t^=Be<<7|Be>>>25,Be=_t+st|0,$e^=Be<<9|Be>>>23,Be=$e+_t|0,Te^=Be<<13|Be>>>19,Be=Te+$e|0,st^=Be<<18|Be>>>14,Be=xt+ut|0,Re^=Be<<7|Be>>>25,Be=Re+xt|0,De^=Be<<9|Be>>>23,Be=De+Re|0,ut^=Be<<13|Be>>>19,Be=ut+De|0,xt^=Be<<18|Be>>>14,Be=xe+Re|0,Ne^=Be<<7|Be>>>25,Be=Ne+xe|0,$e^=Be<<9|Be>>>23,Be=$e+Ne|0,Re^=Be<<13|Be>>>19,Be=Re+$e|0,xe^=Be<<18|Be>>>14,Be=ze+Ie|0,Te^=Be<<7|Be>>>25,Be=Te+ze|0,De^=Be<<9|Be>>>23,Be=De+Te|0,Ie^=Be<<13|Be>>>19,Be=Ie+De|0,ze^=Be<<18|Be>>>14,Be=st+rt|0,ut^=Be<<7|Be>>>25,Be=ut+st|0,nt^=Be<<9|Be>>>23,Be=nt+ut|0,rt^=Be<<13|Be>>>19,Be=rt+nt|0,st^=Be<<18|Be>>>14,Be=xt+_t|0,mt^=Be<<7|Be>>>25,Be=mt+xt|0,wt^=Be<<9|Be>>>23,Be=wt+mt|0,_t^=Be<<13|Be>>>19,Be=_t+wt|0,xt^=Be<<18|Be>>>14;xe=xe+Q|0,Ne=Ne+me|0,$e=$e+Ce|0,Re=Re+we|0,Ie=Ie+qe|0,ze=ze+at|0,Te=Te+it|0,De=De+vt|0,nt=nt+ft|0,rt=rt+ht|0,st=st+ct|0,ut=ut+re|0,mt=mt+ue|0,wt=wt+ae|0,_t=_t+pe|0,xt=xt+ye|0,V[0]=xe>>>0&255,V[1]=xe>>>8&255,V[2]=xe>>>16&255,V[3]=xe>>>24&255,V[4]=Ne>>>0&255,V[5]=Ne>>>8&255,V[6]=Ne>>>16&255,V[7]=Ne>>>24&255,V[8]=$e>>>0&255,V[9]=$e>>>8&255,V[10]=$e>>>16&255,V[11]=$e>>>24&255,V[12]=Re>>>0&255,V[13]=Re>>>8&255,V[14]=Re>>>16&255,V[15]=Re>>>24&255,V[16]=Ie>>>0&255,V[17]=Ie>>>8&255,V[18]=Ie>>>16&255,V[19]=Ie>>>24&255,V[20]=ze>>>0&255,V[21]=ze>>>8&255,V[22]=ze>>>16&255,V[23]=ze>>>24&255,V[24]=Te>>>0&255,V[25]=Te>>>8&255,V[26]=Te>>>16&255,V[27]=Te>>>24&255,V[28]=De>>>0&255,V[29]=De>>>8&255,V[30]=De>>>16&255,V[31]=De>>>24&255,V[32]=nt>>>0&255,V[33]=nt>>>8&255,V[34]=nt>>>16&255,V[35]=nt>>>24&255,V[36]=rt>>>0&255,V[37]=rt>>>8&255,V[38]=rt>>>16&255,V[39]=rt>>>24&255,V[40]=st>>>0&255,V[41]=st>>>8&255,V[42]=st>>>16&255,V[43]=st>>>24&255,V[44]=ut>>>0&255,V[45]=ut>>>8&255,V[46]=ut>>>16&255,V[47]=ut>>>24&255,V[48]=mt>>>0&255,V[49]=mt>>>8&255,V[50]=mt>>>16&255,V[51]=mt>>>24&255,V[52]=wt>>>0&255,V[53]=wt>>>8&255,V[54]=wt>>>16&255,V[55]=wt>>>24&255,V[56]=_t>>>0&255,V[57]=_t>>>8&255,V[58]=_t>>>16&255,V[59]=_t>>>24&255,V[60]=xt>>>0&255,V[61]=xt>>>8&255,V[62]=xt>>>16&255,V[63]=xt>>>24&255}function U(V,J,Z,$){for(var Q=$[0]&255|($[1]&255)<<8|($[2]&255)<<16|($[3]&255)<<24,me=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Ce=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,we=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,qe=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,at=$[4]&255|($[5]&255)<<8|($[6]&255)<<16|($[7]&255)<<24,it=J[0]&255|(J[1]&255)<<8|(J[2]&255)<<16|(J[3]&255)<<24,vt=J[4]&255|(J[5]&255)<<8|(J[6]&255)<<16|(J[7]&255)<<24,ft=J[8]&255|(J[9]&255)<<8|(J[10]&255)<<16|(J[11]&255)<<24,ht=J[12]&255|(J[13]&255)<<8|(J[14]&255)<<16|(J[15]&255)<<24,ct=$[8]&255|($[9]&255)<<8|($[10]&255)<<16|($[11]&255)<<24,re=Z[16]&255|(Z[17]&255)<<8|(Z[18]&255)<<16|(Z[19]&255)<<24,ue=Z[20]&255|(Z[21]&255)<<8|(Z[22]&255)<<16|(Z[23]&255)<<24,ae=Z[24]&255|(Z[25]&255)<<8|(Z[26]&255)<<16|(Z[27]&255)<<24,pe=Z[28]&255|(Z[29]&255)<<8|(Z[30]&255)<<16|(Z[31]&255)<<24,ye=$[12]&255|($[13]&255)<<8|($[14]&255)<<16|($[15]&255)<<24,xe=Q,Ne=me,$e=Ce,Re=we,Ie=qe,ze=at,Te=it,De=vt,nt=ft,rt=ht,st=ct,ut=re,mt=ue,wt=ae,_t=pe,xt=ye,Be,St=0;St<20;St+=2)Be=xe+mt|0,Ie^=Be<<7|Be>>>25,Be=Ie+xe|0,nt^=Be<<9|Be>>>23,Be=nt+Ie|0,mt^=Be<<13|Be>>>19,Be=mt+nt|0,xe^=Be<<18|Be>>>14,Be=ze+Ne|0,rt^=Be<<7|Be>>>25,Be=rt+ze|0,wt^=Be<<9|Be>>>23,Be=wt+rt|0,Ne^=Be<<13|Be>>>19,Be=Ne+wt|0,ze^=Be<<18|Be>>>14,Be=st+Te|0,_t^=Be<<7|Be>>>25,Be=_t+st|0,$e^=Be<<9|Be>>>23,Be=$e+_t|0,Te^=Be<<13|Be>>>19,Be=Te+$e|0,st^=Be<<18|Be>>>14,Be=xt+ut|0,Re^=Be<<7|Be>>>25,Be=Re+xt|0,De^=Be<<9|Be>>>23,Be=De+Re|0,ut^=Be<<13|Be>>>19,Be=ut+De|0,xt^=Be<<18|Be>>>14,Be=xe+Re|0,Ne^=Be<<7|Be>>>25,Be=Ne+xe|0,$e^=Be<<9|Be>>>23,Be=$e+Ne|0,Re^=Be<<13|Be>>>19,Be=Re+$e|0,xe^=Be<<18|Be>>>14,Be=ze+Ie|0,Te^=Be<<7|Be>>>25,Be=Te+ze|0,De^=Be<<9|Be>>>23,Be=De+Te|0,Ie^=Be<<13|Be>>>19,Be=Ie+De|0,ze^=Be<<18|Be>>>14,Be=st+rt|0,ut^=Be<<7|Be>>>25,Be=ut+st|0,nt^=Be<<9|Be>>>23,Be=nt+ut|0,rt^=Be<<13|Be>>>19,Be=rt+nt|0,st^=Be<<18|Be>>>14,Be=xt+_t|0,mt^=Be<<7|Be>>>25,Be=mt+xt|0,wt^=Be<<9|Be>>>23,Be=wt+mt|0,_t^=Be<<13|Be>>>19,Be=_t+wt|0,xt^=Be<<18|Be>>>14;V[0]=xe>>>0&255,V[1]=xe>>>8&255,V[2]=xe>>>16&255,V[3]=xe>>>24&255,V[4]=ze>>>0&255,V[5]=ze>>>8&255,V[6]=ze>>>16&255,V[7]=ze>>>24&255,V[8]=st>>>0&255,V[9]=st>>>8&255,V[10]=st>>>16&255,V[11]=st>>>24&255,V[12]=xt>>>0&255,V[13]=xt>>>8&255,V[14]=xt>>>16&255,V[15]=xt>>>24&255,V[16]=Te>>>0&255,V[17]=Te>>>8&255,V[18]=Te>>>16&255,V[19]=Te>>>24&255,V[20]=De>>>0&255,V[21]=De>>>8&255,V[22]=De>>>16&255,V[23]=De>>>24&255,V[24]=nt>>>0&255,V[25]=nt>>>8&255,V[26]=nt>>>16&255,V[27]=nt>>>24&255,V[28]=rt>>>0&255,V[29]=rt>>>8&255,V[30]=rt>>>16&255,V[31]=rt>>>24&255}function j(V,J,Z,$){L(V,J,Z,$)}function ee(V,J,Z,$){U(V,J,Z,$)}var se=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Ee(V,J,Z,$,Q,me,Ce){var we=new Uint8Array(16),qe=new Uint8Array(64),at,it;for(it=0;it<16;it++)we[it]=0;for(it=0;it<8;it++)we[it]=me[it];for(;Q>=64;){for(j(qe,we,Ce,se),it=0;it<64;it++)V[J+it]=Z[$+it]^qe[it];for(at=1,it=8;it<16;it++)at=at+(we[it]&255)|0,we[it]=at&255,at>>>=8;Q-=64,J+=64,$+=64}if(Q>0)for(j(qe,we,Ce,se),it=0;it<Q;it++)V[J+it]=Z[$+it]^qe[it];return 0}function ge(V,J,Z,$,Q){var me=new Uint8Array(16),Ce=new Uint8Array(64),we,qe;for(qe=0;qe<16;qe++)me[qe]=0;for(qe=0;qe<8;qe++)me[qe]=$[qe];for(;Z>=64;){for(j(Ce,me,Q,se),qe=0;qe<64;qe++)V[J+qe]=Ce[qe];for(we=1,qe=8;qe<16;qe++)we=we+(me[qe]&255)|0,me[qe]=we&255,we>>>=8;Z-=64,J+=64}if(Z>0)for(j(Ce,me,Q,se),qe=0;qe<Z;qe++)V[J+qe]=Ce[qe];return 0}function oe(V,J,Z,$,Q){var me=new Uint8Array(32);ee(me,$,Q,se);for(var Ce=new Uint8Array(8),we=0;we<8;we++)Ce[we]=$[we+16];return ge(V,J,Z,Ce,me)}function Le(V,J,Z,$,Q,me,Ce){var we=new Uint8Array(32);ee(we,me,Ce,se);for(var qe=new Uint8Array(8),at=0;at<8;at++)qe[at]=me[at+16];return Ee(V,J,Z,$,Q,qe,we)}var E=function(V){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var J,Z,$,Q,me,Ce,we,qe;J=V[0]&255|(V[1]&255)<<8,this.r[0]=J&8191,Z=V[2]&255|(V[3]&255)<<8,this.r[1]=(J>>>13|Z<<3)&8191,$=V[4]&255|(V[5]&255)<<8,this.r[2]=(Z>>>10|$<<6)&7939,Q=V[6]&255|(V[7]&255)<<8,this.r[3]=($>>>7|Q<<9)&8191,me=V[8]&255|(V[9]&255)<<8,this.r[4]=(Q>>>4|me<<12)&255,this.r[5]=me>>>1&8190,Ce=V[10]&255|(V[11]&255)<<8,this.r[6]=(me>>>14|Ce<<2)&8191,we=V[12]&255|(V[13]&255)<<8,this.r[7]=(Ce>>>11|we<<5)&8065,qe=V[14]&255|(V[15]&255)<<8,this.r[8]=(we>>>8|qe<<8)&8191,this.r[9]=qe>>>5&127,this.pad[0]=V[16]&255|(V[17]&255)<<8,this.pad[1]=V[18]&255|(V[19]&255)<<8,this.pad[2]=V[20]&255|(V[21]&255)<<8,this.pad[3]=V[22]&255|(V[23]&255)<<8,this.pad[4]=V[24]&255|(V[25]&255)<<8,this.pad[5]=V[26]&255|(V[27]&255)<<8,this.pad[6]=V[28]&255|(V[29]&255)<<8,this.pad[7]=V[30]&255|(V[31]&255)<<8};E.prototype.blocks=function(V,J,Z){for(var $=this.fin?0:2048,Q,me,Ce,we,qe,at,it,vt,ft,ht,ct,re,ue,ae,pe,ye,xe,Ne,$e,Re=this.h[0],Ie=this.h[1],ze=this.h[2],Te=this.h[3],De=this.h[4],nt=this.h[5],rt=this.h[6],st=this.h[7],ut=this.h[8],mt=this.h[9],wt=this.r[0],_t=this.r[1],xt=this.r[2],Be=this.r[3],St=this.r[4],Rt=this.r[5],Bt=this.r[6],Mt=this.r[7],Et=this.r[8],At=this.r[9];Z>=16;)Q=V[J+0]&255|(V[J+1]&255)<<8,Re+=Q&8191,me=V[J+2]&255|(V[J+3]&255)<<8,Ie+=(Q>>>13|me<<3)&8191,Ce=V[J+4]&255|(V[J+5]&255)<<8,ze+=(me>>>10|Ce<<6)&8191,we=V[J+6]&255|(V[J+7]&255)<<8,Te+=(Ce>>>7|we<<9)&8191,qe=V[J+8]&255|(V[J+9]&255)<<8,De+=(we>>>4|qe<<12)&8191,nt+=qe>>>1&8191,at=V[J+10]&255|(V[J+11]&255)<<8,rt+=(qe>>>14|at<<2)&8191,it=V[J+12]&255|(V[J+13]&255)<<8,st+=(at>>>11|it<<5)&8191,vt=V[J+14]&255|(V[J+15]&255)<<8,ut+=(it>>>8|vt<<8)&8191,mt+=vt>>>5|$,ft=0,ht=ft,ht+=Re*wt,ht+=Ie*(5*At),ht+=ze*(5*Et),ht+=Te*(5*Mt),ht+=De*(5*Bt),ft=ht>>>13,ht&=8191,ht+=nt*(5*Rt),ht+=rt*(5*St),ht+=st*(5*Be),ht+=ut*(5*xt),ht+=mt*(5*_t),ft+=ht>>>13,ht&=8191,ct=ft,ct+=Re*_t,ct+=Ie*wt,ct+=ze*(5*At),ct+=Te*(5*Et),ct+=De*(5*Mt),ft=ct>>>13,ct&=8191,ct+=nt*(5*Bt),ct+=rt*(5*Rt),ct+=st*(5*St),ct+=ut*(5*Be),ct+=mt*(5*xt),ft+=ct>>>13,ct&=8191,re=ft,re+=Re*xt,re+=Ie*_t,re+=ze*wt,re+=Te*(5*At),re+=De*(5*Et),ft=re>>>13,re&=8191,re+=nt*(5*Mt),re+=rt*(5*Bt),re+=st*(5*Rt),re+=ut*(5*St),re+=mt*(5*Be),ft+=re>>>13,re&=8191,ue=ft,ue+=Re*Be,ue+=Ie*xt,ue+=ze*_t,ue+=Te*wt,ue+=De*(5*At),ft=ue>>>13,ue&=8191,ue+=nt*(5*Et),ue+=rt*(5*Mt),ue+=st*(5*Bt),ue+=ut*(5*Rt),ue+=mt*(5*St),ft+=ue>>>13,ue&=8191,ae=ft,ae+=Re*St,ae+=Ie*Be,ae+=ze*xt,ae+=Te*_t,ae+=De*wt,ft=ae>>>13,ae&=8191,ae+=nt*(5*At),ae+=rt*(5*Et),ae+=st*(5*Mt),ae+=ut*(5*Bt),ae+=mt*(5*Rt),ft+=ae>>>13,ae&=8191,pe=ft,pe+=Re*Rt,pe+=Ie*St,pe+=ze*Be,pe+=Te*xt,pe+=De*_t,ft=pe>>>13,pe&=8191,pe+=nt*wt,pe+=rt*(5*At),pe+=st*(5*Et),pe+=ut*(5*Mt),pe+=mt*(5*Bt),ft+=pe>>>13,pe&=8191,ye=ft,ye+=Re*Bt,ye+=Ie*Rt,ye+=ze*St,ye+=Te*Be,ye+=De*xt,ft=ye>>>13,ye&=8191,ye+=nt*_t,ye+=rt*wt,ye+=st*(5*At),ye+=ut*(5*Et),ye+=mt*(5*Mt),ft+=ye>>>13,ye&=8191,xe=ft,xe+=Re*Mt,xe+=Ie*Bt,xe+=ze*Rt,xe+=Te*St,xe+=De*Be,ft=xe>>>13,xe&=8191,xe+=nt*xt,xe+=rt*_t,xe+=st*wt,xe+=ut*(5*At),xe+=mt*(5*Et),ft+=xe>>>13,xe&=8191,Ne=ft,Ne+=Re*Et,Ne+=Ie*Mt,Ne+=ze*Bt,Ne+=Te*Rt,Ne+=De*St,ft=Ne>>>13,Ne&=8191,Ne+=nt*Be,Ne+=rt*xt,Ne+=st*_t,Ne+=ut*wt,Ne+=mt*(5*At),ft+=Ne>>>13,Ne&=8191,$e=ft,$e+=Re*At,$e+=Ie*Et,$e+=ze*Mt,$e+=Te*Bt,$e+=De*Rt,ft=$e>>>13,$e&=8191,$e+=nt*St,$e+=rt*Be,$e+=st*xt,$e+=ut*_t,$e+=mt*wt,ft+=$e>>>13,$e&=8191,ft=(ft<<2)+ft|0,ft=ft+ht|0,ht=ft&8191,ft=ft>>>13,ct+=ft,Re=ht,Ie=ct,ze=re,Te=ue,De=ae,nt=pe,rt=ye,st=xe,ut=Ne,mt=$e,J+=16,Z-=16;this.h[0]=Re,this.h[1]=Ie,this.h[2]=ze,this.h[3]=Te,this.h[4]=De,this.h[5]=nt,this.h[6]=rt,this.h[7]=st,this.h[8]=ut,this.h[9]=mt},E.prototype.finish=function(V,J){var Z=new Uint16Array(10),$,Q,me,Ce;if(this.leftover){for(Ce=this.leftover,this.buffer[Ce++]=1;Ce<16;Ce++)this.buffer[Ce]=0;this.fin=1,this.blocks(this.buffer,0,16)}for($=this.h[1]>>>13,this.h[1]&=8191,Ce=2;Ce<10;Ce++)this.h[Ce]+=$,$=this.h[Ce]>>>13,this.h[Ce]&=8191;for(this.h[0]+=$*5,$=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=$,$=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=$,Z[0]=this.h[0]+5,$=Z[0]>>>13,Z[0]&=8191,Ce=1;Ce<10;Ce++)Z[Ce]=this.h[Ce]+$,$=Z[Ce]>>>13,Z[Ce]&=8191;for(Z[9]-=8192,Q=($^1)-1,Ce=0;Ce<10;Ce++)Z[Ce]&=Q;for(Q=~Q,Ce=0;Ce<10;Ce++)this.h[Ce]=this.h[Ce]&Q|Z[Ce];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,me=this.h[0]+this.pad[0],this.h[0]=me&65535,Ce=1;Ce<8;Ce++)me=(this.h[Ce]+this.pad[Ce]|0)+(me>>>16)|0,this.h[Ce]=me&65535;V[J+0]=this.h[0]>>>0&255,V[J+1]=this.h[0]>>>8&255,V[J+2]=this.h[1]>>>0&255,V[J+3]=this.h[1]>>>8&255,V[J+4]=this.h[2]>>>0&255,V[J+5]=this.h[2]>>>8&255,V[J+6]=this.h[3]>>>0&255,V[J+7]=this.h[3]>>>8&255,V[J+8]=this.h[4]>>>0&255,V[J+9]=this.h[4]>>>8&255,V[J+10]=this.h[5]>>>0&255,V[J+11]=this.h[5]>>>8&255,V[J+12]=this.h[6]>>>0&255,V[J+13]=this.h[6]>>>8&255,V[J+14]=this.h[7]>>>0&255,V[J+15]=this.h[7]>>>8&255},E.prototype.update=function(V,J,Z){var $,Q;if(this.leftover){for(Q=16-this.leftover,Q>Z&&(Q=Z),$=0;$<Q;$++)this.buffer[this.leftover+$]=V[J+$];if(Z-=Q,J+=Q,this.leftover+=Q,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(Z>=16&&(Q=Z-Z%16,this.blocks(V,J,Q),J+=Q,Z-=Q),Z){for($=0;$<Z;$++)this.buffer[this.leftover+$]=V[J+$];this.leftover+=Z}};function t(V,J,Z,$,Q,me){var Ce=new E(me);return Ce.update(Z,$,Q),Ce.finish(V,J),0}function o(V,J,Z,$,Q,me){var Ce=new Uint8Array(16);return t(Ce,0,Z,$,Q,me),N(V,J,Ce,0)}function c(V,J,Z,$,Q){var me;if(Z<32)return-1;for(Le(V,0,J,0,Z,$,Q),t(V,16,V,32,Z-32,V),me=0;me<16;me++)V[me]=0;return 0}function l(V,J,Z,$,Q){var me,Ce=new Uint8Array(32);if(Z<32||(oe(Ce,0,32,$,Q),o(J,16,J,32,Z-32,Ce)!==0))return-1;for(Le(V,0,J,0,Z,$,Q),me=0;me<32;me++)V[me]=0;return 0}function v(V,J){var Z;for(Z=0;Z<16;Z++)V[Z]=J[Z]|0}function w(V){var J,Z,$=1;for(J=0;J<16;J++)Z=V[J]+$+65535,$=Math.floor(Z/65536),V[J]=Z-$*65536;V[0]+=$-1+37*($-1)}function M(V,J,Z){for(var $,Q=~(Z-1),me=0;me<16;me++)$=Q&(V[me]^J[me]),V[me]^=$,J[me]^=$}function m(V,J){var Z,$,Q,me=a(),Ce=a();for(Z=0;Z<16;Z++)Ce[Z]=J[Z];for(w(Ce),w(Ce),w(Ce),$=0;$<2;$++){for(me[0]=Ce[0]-65517,Z=1;Z<15;Z++)me[Z]=Ce[Z]-65535-(me[Z-1]>>16&1),me[Z-1]&=65535;me[15]=Ce[15]-32767-(me[14]>>16&1),Q=me[15]>>16&1,me[14]&=65535,M(Ce,me,1-Q)}for(Z=0;Z<16;Z++)V[2*Z]=Ce[Z]&255,V[2*Z+1]=Ce[Z]>>8}function n(V,J){var Z=new Uint8Array(32),$=new Uint8Array(32);return m(Z,V),m($,J),k(Z,0,$,0)}function b(V){var J=new Uint8Array(32);return m(J,V),J[0]&1}function P(V,J){var Z;for(Z=0;Z<16;Z++)V[Z]=J[2*Z]+(J[2*Z+1]<<8);V[15]&=32767}function I(V,J,Z){for(var $=0;$<16;$++)V[$]=J[$]+Z[$]}function F(V,J,Z){for(var $=0;$<16;$++)V[$]=J[$]-Z[$]}function Y(V,J,Z){var $,Q,me=0,Ce=0,we=0,qe=0,at=0,it=0,vt=0,ft=0,ht=0,ct=0,re=0,ue=0,ae=0,pe=0,ye=0,xe=0,Ne=0,$e=0,Re=0,Ie=0,ze=0,Te=0,De=0,nt=0,rt=0,st=0,ut=0,mt=0,wt=0,_t=0,xt=0,Be=Z[0],St=Z[1],Rt=Z[2],Bt=Z[3],Mt=Z[4],Et=Z[5],At=Z[6],kt=Z[7],qt=Z[8],Pt=Z[9],Ct=Z[10],It=Z[11],Tt=Z[12],Ot=Z[13],Nt=Z[14],$t=Z[15];$=J[0],me+=$*Be,Ce+=$*St,we+=$*Rt,qe+=$*Bt,at+=$*Mt,it+=$*Et,vt+=$*At,ft+=$*kt,ht+=$*qt,ct+=$*Pt,re+=$*Ct,ue+=$*It,ae+=$*Tt,pe+=$*Ot,ye+=$*Nt,xe+=$*$t,$=J[1],Ce+=$*Be,we+=$*St,qe+=$*Rt,at+=$*Bt,it+=$*Mt,vt+=$*Et,ft+=$*At,ht+=$*kt,ct+=$*qt,re+=$*Pt,ue+=$*Ct,ae+=$*It,pe+=$*Tt,ye+=$*Ot,xe+=$*Nt,Ne+=$*$t,$=J[2],we+=$*Be,qe+=$*St,at+=$*Rt,it+=$*Bt,vt+=$*Mt,ft+=$*Et,ht+=$*At,ct+=$*kt,re+=$*qt,ue+=$*Pt,ae+=$*Ct,pe+=$*It,ye+=$*Tt,xe+=$*Ot,Ne+=$*Nt,$e+=$*$t,$=J[3],qe+=$*Be,at+=$*St,it+=$*Rt,vt+=$*Bt,ft+=$*Mt,ht+=$*Et,ct+=$*At,re+=$*kt,ue+=$*qt,ae+=$*Pt,pe+=$*Ct,ye+=$*It,xe+=$*Tt,Ne+=$*Ot,$e+=$*Nt,Re+=$*$t,$=J[4],at+=$*Be,it+=$*St,vt+=$*Rt,ft+=$*Bt,ht+=$*Mt,ct+=$*Et,re+=$*At,ue+=$*kt,ae+=$*qt,pe+=$*Pt,ye+=$*Ct,xe+=$*It,Ne+=$*Tt,$e+=$*Ot,Re+=$*Nt,Ie+=$*$t,$=J[5],it+=$*Be,vt+=$*St,ft+=$*Rt,ht+=$*Bt,ct+=$*Mt,re+=$*Et,ue+=$*At,ae+=$*kt,pe+=$*qt,ye+=$*Pt,xe+=$*Ct,Ne+=$*It,$e+=$*Tt,Re+=$*Ot,Ie+=$*Nt,ze+=$*$t,$=J[6],vt+=$*Be,ft+=$*St,ht+=$*Rt,ct+=$*Bt,re+=$*Mt,ue+=$*Et,ae+=$*At,pe+=$*kt,ye+=$*qt,xe+=$*Pt,Ne+=$*Ct,$e+=$*It,Re+=$*Tt,Ie+=$*Ot,ze+=$*Nt,Te+=$*$t,$=J[7],ft+=$*Be,ht+=$*St,ct+=$*Rt,re+=$*Bt,ue+=$*Mt,ae+=$*Et,pe+=$*At,ye+=$*kt,xe+=$*qt,Ne+=$*Pt,$e+=$*Ct,Re+=$*It,Ie+=$*Tt,ze+=$*Ot,Te+=$*Nt,De+=$*$t,$=J[8],ht+=$*Be,ct+=$*St,re+=$*Rt,ue+=$*Bt,ae+=$*Mt,pe+=$*Et,ye+=$*At,xe+=$*kt,Ne+=$*qt,$e+=$*Pt,Re+=$*Ct,Ie+=$*It,ze+=$*Tt,Te+=$*Ot,De+=$*Nt,nt+=$*$t,$=J[9],ct+=$*Be,re+=$*St,ue+=$*Rt,ae+=$*Bt,pe+=$*Mt,ye+=$*Et,xe+=$*At,Ne+=$*kt,$e+=$*qt,Re+=$*Pt,Ie+=$*Ct,ze+=$*It,Te+=$*Tt,De+=$*Ot,nt+=$*Nt,rt+=$*$t,$=J[10],re+=$*Be,ue+=$*St,ae+=$*Rt,pe+=$*Bt,ye+=$*Mt,xe+=$*Et,Ne+=$*At,$e+=$*kt,Re+=$*qt,Ie+=$*Pt,ze+=$*Ct,Te+=$*It,De+=$*Tt,nt+=$*Ot,rt+=$*Nt,st+=$*$t,$=J[11],ue+=$*Be,ae+=$*St,pe+=$*Rt,ye+=$*Bt,xe+=$*Mt,Ne+=$*Et,$e+=$*At,Re+=$*kt,Ie+=$*qt,ze+=$*Pt,Te+=$*Ct,De+=$*It,nt+=$*Tt,rt+=$*Ot,st+=$*Nt,ut+=$*$t,$=J[12],ae+=$*Be,pe+=$*St,ye+=$*Rt,xe+=$*Bt,Ne+=$*Mt,$e+=$*Et,Re+=$*At,Ie+=$*kt,ze+=$*qt,Te+=$*Pt,De+=$*Ct,nt+=$*It,rt+=$*Tt,st+=$*Ot,ut+=$*Nt,mt+=$*$t,$=J[13],pe+=$*Be,ye+=$*St,xe+=$*Rt,Ne+=$*Bt,$e+=$*Mt,Re+=$*Et,Ie+=$*At,ze+=$*kt,Te+=$*qt,De+=$*Pt,nt+=$*Ct,rt+=$*It,st+=$*Tt,ut+=$*Ot,mt+=$*Nt,wt+=$*$t,$=J[14],ye+=$*Be,xe+=$*St,Ne+=$*Rt,$e+=$*Bt,Re+=$*Mt,Ie+=$*Et,ze+=$*At,Te+=$*kt,De+=$*qt,nt+=$*Pt,rt+=$*Ct,st+=$*It,ut+=$*Tt,mt+=$*Ot,wt+=$*Nt,_t+=$*$t,$=J[15],xe+=$*Be,Ne+=$*St,$e+=$*Rt,Re+=$*Bt,Ie+=$*Mt,ze+=$*Et,Te+=$*At,De+=$*kt,nt+=$*qt,rt+=$*Pt,st+=$*Ct,ut+=$*It,mt+=$*Tt,wt+=$*Ot,_t+=$*Nt,xt+=$*$t,me+=38*Ne,Ce+=38*$e,we+=38*Re,qe+=38*Ie,at+=38*ze,it+=38*Te,vt+=38*De,ft+=38*nt,ht+=38*rt,ct+=38*st,re+=38*ut,ue+=38*mt,ae+=38*wt,pe+=38*_t,ye+=38*xt,Q=1,$=me+Q+65535,Q=Math.floor($/65536),me=$-Q*65536,$=Ce+Q+65535,Q=Math.floor($/65536),Ce=$-Q*65536,$=we+Q+65535,Q=Math.floor($/65536),we=$-Q*65536,$=qe+Q+65535,Q=Math.floor($/65536),qe=$-Q*65536,$=at+Q+65535,Q=Math.floor($/65536),at=$-Q*65536,$=it+Q+65535,Q=Math.floor($/65536),it=$-Q*65536,$=vt+Q+65535,Q=Math.floor($/65536),vt=$-Q*65536,$=ft+Q+65535,Q=Math.floor($/65536),ft=$-Q*65536,$=ht+Q+65535,Q=Math.floor($/65536),ht=$-Q*65536,$=ct+Q+65535,Q=Math.floor($/65536),ct=$-Q*65536,$=re+Q+65535,Q=Math.floor($/65536),re=$-Q*65536,$=ue+Q+65535,Q=Math.floor($/65536),ue=$-Q*65536,$=ae+Q+65535,Q=Math.floor($/65536),ae=$-Q*65536,$=pe+Q+65535,Q=Math.floor($/65536),pe=$-Q*65536,$=ye+Q+65535,Q=Math.floor($/65536),ye=$-Q*65536,$=xe+Q+65535,Q=Math.floor($/65536),xe=$-Q*65536,me+=Q-1+37*(Q-1),Q=1,$=me+Q+65535,Q=Math.floor($/65536),me=$-Q*65536,$=Ce+Q+65535,Q=Math.floor($/65536),Ce=$-Q*65536,$=we+Q+65535,Q=Math.floor($/65536),we=$-Q*65536,$=qe+Q+65535,Q=Math.floor($/65536),qe=$-Q*65536,$=at+Q+65535,Q=Math.floor($/65536),at=$-Q*65536,$=it+Q+65535,Q=Math.floor($/65536),it=$-Q*65536,$=vt+Q+65535,Q=Math.floor($/65536),vt=$-Q*65536,$=ft+Q+65535,Q=Math.floor($/65536),ft=$-Q*65536,$=ht+Q+65535,Q=Math.floor($/65536),ht=$-Q*65536,$=ct+Q+65535,Q=Math.floor($/65536),ct=$-Q*65536,$=re+Q+65535,Q=Math.floor($/65536),re=$-Q*65536,$=ue+Q+65535,Q=Math.floor($/65536),ue=$-Q*65536,$=ae+Q+65535,Q=Math.floor($/65536),ae=$-Q*65536,$=pe+Q+65535,Q=Math.floor($/65536),pe=$-Q*65536,$=ye+Q+65535,Q=Math.floor($/65536),ye=$-Q*65536,$=xe+Q+65535,Q=Math.floor($/65536),xe=$-Q*65536,me+=Q-1+37*(Q-1),V[0]=me,V[1]=Ce,V[2]=we,V[3]=qe,V[4]=at,V[5]=it,V[6]=vt,V[7]=ft,V[8]=ht,V[9]=ct,V[10]=re,V[11]=ue,V[12]=ae,V[13]=pe,V[14]=ye,V[15]=xe}function X(V,J){Y(V,J,J)}function T(V,J){var Z=a(),$;for($=0;$<16;$++)Z[$]=J[$];for($=253;$>=0;$--)X(Z,Z),$!==2&&$!==4&&Y(Z,Z,J);for($=0;$<16;$++)V[$]=Z[$]}function K(V,J){var Z=a(),$;for($=0;$<16;$++)Z[$]=J[$];for($=250;$>=0;$--)X(Z,Z),$!==1&&Y(Z,Z,J);for($=0;$<16;$++)V[$]=Z[$]}function W(V,J,Z){var $=new Uint8Array(32),Q=new Float64Array(80),me,Ce,we=a(),qe=a(),at=a(),it=a(),vt=a(),ft=a();for(Ce=0;Ce<31;Ce++)$[Ce]=J[Ce];for($[31]=J[31]&127|64,$[0]&=248,P(Q,Z),Ce=0;Ce<16;Ce++)qe[Ce]=Q[Ce],it[Ce]=we[Ce]=at[Ce]=0;for(we[0]=it[0]=1,Ce=254;Ce>=0;--Ce)me=$[Ce>>>3]>>>(Ce&7)&1,M(we,qe,me),M(at,it,me),I(vt,we,at),F(we,we,at),I(at,qe,it),F(qe,qe,it),X(it,vt),X(ft,we),Y(we,at,we),Y(at,qe,vt),I(vt,we,at),F(we,we,at),X(qe,we),F(at,it,ft),Y(we,at,_),I(we,we,it),Y(at,at,we),Y(we,it,ft),Y(it,qe,Q),X(qe,vt),M(we,qe,me),M(at,it,me);for(Ce=0;Ce<16;Ce++)Q[Ce+16]=we[Ce],Q[Ce+32]=at[Ce],Q[Ce+48]=qe[Ce],Q[Ce+64]=it[Ce];var ht=Q.subarray(32),ct=Q.subarray(16);return T(ht,ht),Y(ct,ct,ht),m(V,ct),0}function ne(V,J){return W(V,J,s)}function ie(V,J){return u(J,32),ne(V,J)}function G(V,J,Z){var $=new Uint8Array(32);return W($,Z,J),ee(V,d,$,se)}var H=c,fe=l;function he(V,J,Z,$,Q,me){var Ce=new Uint8Array(32);return G(Ce,Q,me),H(V,J,Z,$,Ce)}function ve(V,J,Z,$,Q,me){var Ce=new Uint8Array(32);return G(Ce,Q,me),fe(V,J,Z,$,Ce)}var ke=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Me(V,J,Z,$){for(var Q=new Int32Array(16),me=new Int32Array(16),Ce,we,qe,at,it,vt,ft,ht,ct,re,ue,ae,pe,ye,xe,Ne,$e,Re,Ie,ze,Te,De,nt,rt,st,ut,mt=V[0],wt=V[1],_t=V[2],xt=V[3],Be=V[4],St=V[5],Rt=V[6],Bt=V[7],Mt=J[0],Et=J[1],At=J[2],kt=J[3],qt=J[4],Pt=J[5],Ct=J[6],It=J[7],Tt=0;$>=128;){for(Ie=0;Ie<16;Ie++)ze=8*Ie+Tt,Q[Ie]=Z[ze+0]<<24|Z[ze+1]<<16|Z[ze+2]<<8|Z[ze+3],me[Ie]=Z[ze+4]<<24|Z[ze+5]<<16|Z[ze+6]<<8|Z[ze+7];for(Ie=0;Ie<80;Ie++)if(Ce=mt,we=wt,qe=_t,at=xt,it=Be,vt=St,ft=Rt,ht=Bt,ct=Mt,re=Et,ue=At,ae=kt,pe=qt,ye=Pt,xe=Ct,Ne=It,Te=Bt,De=It,nt=De&65535,rt=De>>>16,st=Te&65535,ut=Te>>>16,Te=(Be>>>14|qt<<18)^(Be>>>18|qt<<14)^(qt>>>9|Be<<23),De=(qt>>>14|Be<<18)^(qt>>>18|Be<<14)^(Be>>>9|qt<<23),nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,Te=Be&St^~Be&Rt,De=qt&Pt^~qt&Ct,nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,Te=ke[Ie*2],De=ke[Ie*2+1],nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,Te=Q[Ie%16],De=me[Ie%16],nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,rt+=nt>>>16,st+=rt>>>16,ut+=st>>>16,$e=st&65535|ut<<16,Re=nt&65535|rt<<16,Te=$e,De=Re,nt=De&65535,rt=De>>>16,st=Te&65535,ut=Te>>>16,Te=(mt>>>28|Mt<<4)^(Mt>>>2|mt<<30)^(Mt>>>7|mt<<25),De=(Mt>>>28|mt<<4)^(mt>>>2|Mt<<30)^(mt>>>7|Mt<<25),nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,Te=mt&wt^mt&_t^wt&_t,De=Mt&Et^Mt&At^Et&At,nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,rt+=nt>>>16,st+=rt>>>16,ut+=st>>>16,ht=st&65535|ut<<16,Ne=nt&65535|rt<<16,Te=at,De=ae,nt=De&65535,rt=De>>>16,st=Te&65535,ut=Te>>>16,Te=$e,De=Re,nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,rt+=nt>>>16,st+=rt>>>16,ut+=st>>>16,at=st&65535|ut<<16,ae=nt&65535|rt<<16,wt=Ce,_t=we,xt=qe,Be=at,St=it,Rt=vt,Bt=ft,mt=ht,Et=ct,At=re,kt=ue,qt=ae,Pt=pe,Ct=ye,It=xe,Mt=Ne,Ie%16===15)for(ze=0;ze<16;ze++)Te=Q[ze],De=me[ze],nt=De&65535,rt=De>>>16,st=Te&65535,ut=Te>>>16,Te=Q[(ze+9)%16],De=me[(ze+9)%16],nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,$e=Q[(ze+1)%16],Re=me[(ze+1)%16],Te=($e>>>1|Re<<31)^($e>>>8|Re<<24)^$e>>>7,De=(Re>>>1|$e<<31)^(Re>>>8|$e<<24)^(Re>>>7|$e<<25),nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,$e=Q[(ze+14)%16],Re=me[(ze+14)%16],Te=($e>>>19|Re<<13)^(Re>>>29|$e<<3)^$e>>>6,De=(Re>>>19|$e<<13)^($e>>>29|Re<<3)^(Re>>>6|$e<<26),nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,rt+=nt>>>16,st+=rt>>>16,ut+=st>>>16,Q[ze]=st&65535|ut<<16,me[ze]=nt&65535|rt<<16;Te=mt,De=Mt,nt=De&65535,rt=De>>>16,st=Te&65535,ut=Te>>>16,Te=V[0],De=J[0],nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,rt+=nt>>>16,st+=rt>>>16,ut+=st>>>16,V[0]=mt=st&65535|ut<<16,J[0]=Mt=nt&65535|rt<<16,Te=wt,De=Et,nt=De&65535,rt=De>>>16,st=Te&65535,ut=Te>>>16,Te=V[1],De=J[1],nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,rt+=nt>>>16,st+=rt>>>16,ut+=st>>>16,V[1]=wt=st&65535|ut<<16,J[1]=Et=nt&65535|rt<<16,Te=_t,De=At,nt=De&65535,rt=De>>>16,st=Te&65535,ut=Te>>>16,Te=V[2],De=J[2],nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,rt+=nt>>>16,st+=rt>>>16,ut+=st>>>16,V[2]=_t=st&65535|ut<<16,J[2]=At=nt&65535|rt<<16,Te=xt,De=kt,nt=De&65535,rt=De>>>16,st=Te&65535,ut=Te>>>16,Te=V[3],De=J[3],nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,rt+=nt>>>16,st+=rt>>>16,ut+=st>>>16,V[3]=xt=st&65535|ut<<16,J[3]=kt=nt&65535|rt<<16,Te=Be,De=qt,nt=De&65535,rt=De>>>16,st=Te&65535,ut=Te>>>16,Te=V[4],De=J[4],nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,rt+=nt>>>16,st+=rt>>>16,ut+=st>>>16,V[4]=Be=st&65535|ut<<16,J[4]=qt=nt&65535|rt<<16,Te=St,De=Pt,nt=De&65535,rt=De>>>16,st=Te&65535,ut=Te>>>16,Te=V[5],De=J[5],nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,rt+=nt>>>16,st+=rt>>>16,ut+=st>>>16,V[5]=St=st&65535|ut<<16,J[5]=Pt=nt&65535|rt<<16,Te=Rt,De=Ct,nt=De&65535,rt=De>>>16,st=Te&65535,ut=Te>>>16,Te=V[6],De=J[6],nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,rt+=nt>>>16,st+=rt>>>16,ut+=st>>>16,V[6]=Rt=st&65535|ut<<16,J[6]=Ct=nt&65535|rt<<16,Te=Bt,De=It,nt=De&65535,rt=De>>>16,st=Te&65535,ut=Te>>>16,Te=V[7],De=J[7],nt+=De&65535,rt+=De>>>16,st+=Te&65535,ut+=Te>>>16,rt+=nt>>>16,st+=rt>>>16,ut+=st>>>16,V[7]=Bt=st&65535|ut<<16,J[7]=It=nt&65535|rt<<16,Tt+=128,$-=128}return $}function le(V,J,Z){var $=new Int32Array(8),Q=new Int32Array(8),me=new Uint8Array(256),Ce,we=Z;for($[0]=1779033703,$[1]=3144134277,$[2]=1013904242,$[3]=2773480762,$[4]=1359893119,$[5]=2600822924,$[6]=528734635,$[7]=1541459225,Q[0]=4089235720,Q[1]=2227873595,Q[2]=4271175723,Q[3]=1595750129,Q[4]=2917565137,Q[5]=725511199,Q[6]=4215389547,Q[7]=327033209,Me($,Q,J,Z),Z%=128,Ce=0;Ce<Z;Ce++)me[Ce]=J[we-Z+Ce];for(me[Z]=128,Z=256-128*(Z<112?1:0),me[Z-9]=0,q(me,Z-8,we/536870912|0,we<<3),Me($,Q,me,Z),Ce=0;Ce<8;Ce++)q(V,8*Ce,$[Ce],Q[Ce]);return 0}function Ze(V,J){var Z=a(),$=a(),Q=a(),me=a(),Ce=a(),we=a(),qe=a(),at=a(),it=a();F(Z,V[1],V[0]),F(it,J[1],J[0]),Y(Z,Z,it),I($,V[0],V[1]),I(it,J[0],J[1]),Y($,$,it),Y(Q,V[3],J[3]),Y(Q,Q,y),Y(me,V[2],J[2]),I(me,me,me),F(Ce,$,Z),F(we,me,Q),I(qe,me,Q),I(at,$,Z),Y(V[0],Ce,we),Y(V[1],at,qe),Y(V[2],qe,we),Y(V[3],Ce,at)}function _e(V,J,Z){var $;for($=0;$<4;$++)M(V[$],J[$],Z)}function Se(V,J){var Z=a(),$=a(),Q=a();T(Q,J[2]),Y(Z,J[0],Q),Y($,J[1],Q),m(V,$),V[31]^=b(Z)<<7}function tt(V,J,Z){var $,Q;for(v(V[0],g),v(V[1],x),v(V[2],x),v(V[3],g),Q=255;Q>=0;--Q)$=Z[Q/8|0]>>(Q&7)&1,_e(V,J,$),Ze(J,V),Ze(V,V),_e(V,J,$)}function Ae(V,J){var Z=[a(),a(),a(),a()];v(Z[0],A),v(Z[1],R),v(Z[2],x),Y(Z[3],A,R),tt(V,Z,J)}function Pe(V,J,Z){var $=new Uint8Array(64),Q=[a(),a(),a(),a()],me;for(Z||u(J,32),le($,J,32),$[0]&=248,$[31]&=127,$[31]|=64,Ae(Q,$),Se(V,Q),me=0;me<32;me++)J[me+32]=V[me];return 0}var ot=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Oe(V,J){var Z,$,Q,me;for($=63;$>=32;--$){for(Z=0,Q=$-32,me=$-12;Q<me;++Q)J[Q]+=Z-16*J[$]*ot[Q-($-32)],Z=Math.floor((J[Q]+128)/256),J[Q]-=Z*256;J[Q]+=Z,J[$]=0}for(Z=0,Q=0;Q<32;Q++)J[Q]+=Z-(J[31]>>4)*ot[Q],Z=J[Q]>>8,J[Q]&=255;for(Q=0;Q<32;Q++)J[Q]-=Z*ot[Q];for($=0;$<32;$++)J[$+1]+=J[$]>>8,V[$]=J[$]&255}function He(V){var J=new Float64Array(64),Z;for(Z=0;Z<64;Z++)J[Z]=V[Z];for(Z=0;Z<64;Z++)V[Z]=0;Oe(V,J)}function pt(V,J,Z,$){var Q=new Uint8Array(64),me=new Uint8Array(64),Ce=new Uint8Array(64),we,qe,at=new Float64Array(64),it=[a(),a(),a(),a()];le(Q,$,32),Q[0]&=248,Q[31]&=127,Q[31]|=64;var vt=Z+64;for(we=0;we<Z;we++)V[64+we]=J[we];for(we=0;we<32;we++)V[32+we]=Q[32+we];for(le(Ce,V.subarray(32),Z+32),He(Ce),Ae(it,Ce),Se(V,it),we=32;we<64;we++)V[we]=$[we];for(le(me,V,Z+64),He(me),we=0;we<64;we++)at[we]=0;for(we=0;we<32;we++)at[we]=Ce[we];for(we=0;we<32;we++)for(qe=0;qe<32;qe++)at[we+qe]+=me[we]*Q[qe];return Oe(V.subarray(32),at),vt}function z(V,J){var Z=a(),$=a(),Q=a(),me=a(),Ce=a(),we=a(),qe=a();return v(V[2],x),P(V[1],J),X(Q,V[1]),Y(me,Q,S),F(Q,Q,V[2]),I(me,V[2],me),X(Ce,me),X(we,Ce),Y(qe,we,Ce),Y(Z,qe,Q),Y(Z,Z,me),K(Z,Z),Y(Z,Z,Q),Y(Z,Z,me),Y(Z,Z,me),Y(V[0],Z,me),X($,V[0]),Y($,$,me),n($,Q)&&Y(V[0],V[0],B),X($,V[0]),Y($,$,me),n($,Q)?-1:(b(V[0])===J[31]>>7&&F(V[0],g,V[0]),Y(V[3],V[0],V[1]),0)}function O(V,J,Z,$){var Q,me=new Uint8Array(32),Ce=new Uint8Array(64),we=[a(),a(),a(),a()],qe=[a(),a(),a(),a()];if(Z<64||z(qe,$))return-1;for(Q=0;Q<Z;Q++)V[Q]=J[Q];for(Q=0;Q<32;Q++)V[Q+32]=$[Q];if(le(Ce,V,Z),He(Ce),tt(we,qe,Ce),Ae(qe,J.subarray(32)),Ze(we,qe),Se(me,we),Z-=64,k(J,0,me,0)){for(Q=0;Q<Z;Q++)V[Q]=0;return-1}for(Q=0;Q<Z;Q++)V[Q]=J[Q+64];return Z}var D=32,te=24,ce=32,Fe=16,be=32,je=32,lt=32,Ue=32,Ve=32,dt=te,Je=ce,et=Fe,bt=64,Ge=32,Ye=64,yt=32,We=64;e.lowlevel={crypto_core_hsalsa20:ee,crypto_stream_xor:Le,crypto_stream:oe,crypto_stream_salsa20_xor:Ee,crypto_stream_salsa20:ge,crypto_onetimeauth:t,crypto_onetimeauth_verify:o,crypto_verify_16:N,crypto_verify_32:k,crypto_secretbox:c,crypto_secretbox_open:l,crypto_scalarmult:W,crypto_scalarmult_base:ne,crypto_box_beforenm:G,crypto_box_afternm:H,crypto_box:he,crypto_box_open:ve,crypto_box_keypair:ie,crypto_hash:le,crypto_sign:pt,crypto_sign_keypair:Pe,crypto_sign_open:O,crypto_secretbox_KEYBYTES:D,crypto_secretbox_NONCEBYTES:te,crypto_secretbox_ZEROBYTES:ce,crypto_secretbox_BOXZEROBYTES:Fe,crypto_scalarmult_BYTES:be,crypto_scalarmult_SCALARBYTES:je,crypto_box_PUBLICKEYBYTES:lt,crypto_box_SECRETKEYBYTES:Ue,crypto_box_BEFORENMBYTES:Ve,crypto_box_NONCEBYTES:dt,crypto_box_ZEROBYTES:Je,crypto_box_BOXZEROBYTES:et,crypto_sign_BYTES:bt,crypto_sign_PUBLICKEYBYTES:Ge,crypto_sign_SECRETKEYBYTES:Ye,crypto_sign_SEEDBYTES:yt,crypto_hash_BYTES:We,gf:a,D:S,L:ot,pack25519:m,unpack25519:P,M:Y,A:I,S:X,Z:F,pow2523:K,add:Ze,set25519:v,modL:Oe,scalarmult:tt,scalarbase:Ae};function Xe(V,J){if(V.length!==D)throw new Error("bad key size");if(J.length!==te)throw new Error("bad nonce size")}function gt(V,J){if(V.length!==lt)throw new Error("bad public key size");if(J.length!==Ue)throw new Error("bad secret key size")}function Ke(){for(var V=0;V<arguments.length;V++)if(!(arguments[V]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Qe(V){for(var J=0;J<V.length;J++)V[J]=0}e.randomBytes=function(V){var J=new Uint8Array(V);return u(J,V),J},e.secretbox=function(V,J,Z){Ke(V,J,Z),Xe(Z,J);for(var $=new Uint8Array(ce+V.length),Q=new Uint8Array($.length),me=0;me<V.length;me++)$[me+ce]=V[me];return c(Q,$,$.length,J,Z),Q.subarray(Fe)},e.secretbox.open=function(V,J,Z){Ke(V,J,Z),Xe(Z,J);for(var $=new Uint8Array(Fe+V.length),Q=new Uint8Array($.length),me=0;me<V.length;me++)$[me+Fe]=V[me];return $.length<32||l(Q,$,$.length,J,Z)!==0?null:Q.subarray(ce)},e.secretbox.keyLength=D,e.secretbox.nonceLength=te,e.secretbox.overheadLength=Fe,e.scalarMult=function(V,J){if(Ke(V,J),V.length!==je)throw new Error("bad n size");if(J.length!==be)throw new Error("bad p size");var Z=new Uint8Array(be);return W(Z,V,J),Z},e.scalarMult.base=function(V){if(Ke(V),V.length!==je)throw new Error("bad n size");var J=new Uint8Array(be);return ne(J,V),J},e.scalarMult.scalarLength=je,e.scalarMult.groupElementLength=be,e.box=function(V,J,Z,$){var Q=e.box.before(Z,$);return e.secretbox(V,J,Q)},e.box.before=function(V,J){Ke(V,J),gt(V,J);var Z=new Uint8Array(Ve);return G(Z,V,J),Z},e.box.after=e.secretbox,e.box.open=function(V,J,Z,$){var Q=e.box.before(Z,$);return e.secretbox.open(V,J,Q)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var V=new Uint8Array(lt),J=new Uint8Array(Ue);return ie(V,J),{publicKey:V,secretKey:J}},e.box.keyPair.fromSecretKey=function(V){if(Ke(V),V.length!==Ue)throw new Error("bad secret key size");var J=new Uint8Array(lt);return ne(J,V),{publicKey:J,secretKey:new Uint8Array(V)}},e.box.publicKeyLength=lt,e.box.secretKeyLength=Ue,e.box.sharedKeyLength=Ve,e.box.nonceLength=dt,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(V,J){if(Ke(V,J),J.length!==Ye)throw new Error("bad secret key size");var Z=new Uint8Array(bt+V.length);return pt(Z,V,V.length,J),Z},e.sign.open=function(V,J){if(Ke(V,J),J.length!==Ge)throw new Error("bad public key size");var Z=new Uint8Array(V.length),$=O(Z,V,V.length,J);if($<0)return null;for(var Q=new Uint8Array($),me=0;me<Q.length;me++)Q[me]=Z[me];return Q},e.sign.detached=function(V,J){for(var Z=e.sign(V,J),$=new Uint8Array(bt),Q=0;Q<$.length;Q++)$[Q]=Z[Q];return $},e.sign.detached.verify=function(V,J,Z){if(Ke(V,J,Z),J.length!==bt)throw new Error("bad signature size");if(Z.length!==Ge)throw new Error("bad public key size");var $=new Uint8Array(bt+V.length),Q=new Uint8Array(bt+V.length),me;for(me=0;me<bt;me++)$[me]=J[me];for(me=0;me<V.length;me++)$[me+bt]=V[me];return O(Q,$,$.length,Z)>=0},e.sign.keyPair=function(){var V=new Uint8Array(Ge),J=new Uint8Array(Ye);return Pe(V,J),{publicKey:V,secretKey:J}},e.sign.keyPair.fromSecretKey=function(V){if(Ke(V),V.length!==Ye)throw new Error("bad secret key size");for(var J=new Uint8Array(Ge),Z=0;Z<J.length;Z++)J[Z]=V[32+Z];return{publicKey:J,secretKey:new Uint8Array(V)}},e.sign.keyPair.fromSeed=function(V){if(Ke(V),V.length!==yt)throw new Error("bad seed size");for(var J=new Uint8Array(Ge),Z=new Uint8Array(Ye),$=0;$<32;$++)Z[$]=V[$];return Pe(J,Z,!0),{publicKey:J,secretKey:Z}},e.sign.publicKeyLength=Ge,e.sign.secretKeyLength=Ye,e.sign.seedLength=yt,e.sign.signatureLength=bt,e.hash=function(V){Ke(V);var J=new Uint8Array(We);return le(J,V,V.length),J},e.hash.hashLength=We,e.verify=function(V,J){return Ke(V,J),V.length===0||J.length===0||V.length!==J.length?!1:C(V,0,J,0,V.length)===0},e.setPRNG=function(V){u=V},function(){var V=typeof self<"u"?self.crypto||self.msCrypto:null;if(V&&V.getRandomValues){var J=65536;e.setPRNG(function(Z,$){var Q,me=new Uint8Array($);for(Q=0;Q<$;Q+=J)V.getRandomValues(me.subarray(Q,Q+Math.min($-Q,J)));for(Q=0;Q<$;Q++)Z[Q]=me[Q];Qe(me)})}else typeof commonjsRequire<"u"&&(V=requireCryptoBrowserify(),V&&V.randomBytes&&e.setPRNG(function(Z,$){var Q,me=V.randomBytes($);for(Q=0;Q<$;Q++)Z[Q]=me[Q];Qe(me)}))}()})(r.exports?r.exports:self.nacl=self.nacl||{})})(naclFast);var naclFastExports=naclFast.exports,helper$1={};Object.defineProperty(helper$1,"__esModule",{value:!0});helper$1.getEd25519Helper=helper$1.setEd25519Helper=void 0;let helper;function setEd25519Helper(r){helper=r}helper$1.setEd25519Helper=setEd25519Helper;function getEd25519Helper(){return helper}helper$1.getEd25519Helper=getEd25519Helper;var mod={},nkeys={},kp={},codec={},crc16$1={};Object.defineProperty(crc16$1,"__esModule",{value:!0});crc16$1.crc16=void 0;const crc16tab=new Uint16Array([0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920]);class crc16{static checksum(e){let a=0;for(let u=0;u<e.byteLength;u++){let d=e[u];a=a<<8&65535^crc16tab[(a>>8^d)&255]}return a}static validate(e,a){return crc16.checksum(e)==a}}crc16$1.crc16=crc16;var base32$1={};Object.defineProperty(base32$1,"__esModule",{value:!0});base32$1.base32=void 0;const b32Alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";class base32{static encode(e){let a=0,u=0,d=new Uint8Array(e),s=new Uint8Array(e.byteLength*2),g=0;for(let x=0;x<d.byteLength;x++)for(u=u<<8|d[x],a+=8;a>=5;){let _=u>>>a-5&31;s[g++]=b32Alphabet.charAt(_).charCodeAt(0),a-=5}if(a>0){let x=u<<5-a&31;s[g++]=b32Alphabet.charAt(x).charCodeAt(0)}return s.slice(0,g)}static decode(e){let a=0,u=0,d=0,s=new Uint8Array(e),g=new Uint8Array(s.byteLength*5/8|0);for(let x=0;x<s.byteLength;x++){let _=String.fromCharCode(s[x]),S=b32Alphabet.indexOf(_);if(S===-1)throw new Error("Illegal Base32 character: "+s[x]);u=u<<5|S,a+=5,a>=8&&(g[d++]=u>>>a-8&255,a-=8)}return g.slice(0,d)}}base32$1.base32=base32;var hasRequiredCodec;function requireCodec(){if(hasRequiredCodec)return codec;hasRequiredCodec=1,Object.defineProperty(codec,"__esModule",{value:!0}),codec.Codec=void 0;const r=crc16$1,e=requireNkeys(),a=base32$1;class u{static encode(s,g){if(!g||!(g instanceof Uint8Array))throw new e.NKeysError(e.NKeysErrorCode.SerializationError);if(!e.Prefixes.isValidPrefix(s))throw new e.NKeysError(e.NKeysErrorCode.InvalidPrefixByte);return u._encode(!1,s,g)}static encodeSeed(s,g){if(!g)throw new e.NKeysError(e.NKeysErrorCode.ApiError);if(!e.Prefixes.isValidPublicPrefix(s))throw new e.NKeysError(e.NKeysErrorCode.InvalidPrefixByte);if(g.byteLength!==32)throw new e.NKeysError(e.NKeysErrorCode.InvalidSeedLen);return u._encode(!0,s,g)}static decode(s,g){if(!e.Prefixes.isValidPrefix(s))throw new e.NKeysError(e.NKeysErrorCode.InvalidPrefixByte);const x=u._decode(g);if(x[0]!==s)throw new e.NKeysError(e.NKeysErrorCode.InvalidPrefixByte);return x.slice(1)}static decodeSeed(s){const g=u._decode(s),x=u._decodePrefix(g);if(x[0]!=e.Prefix.Seed)throw new e.NKeysError(e.NKeysErrorCode.InvalidSeed);if(!e.Prefixes.isValidPublicPrefix(x[1]))throw new e.NKeysError(e.NKeysErrorCode.InvalidPrefixByte);return{buf:g.slice(2),prefix:x[1]}}static _encode(s,g,x){const _=s?2:1,S=x.byteLength,A=_+S+2,R=_+S,B=new Uint8Array(A);if(s){const N=u._encodePrefix(e.Prefix.Seed,g);B.set(N)}else B[0]=g;B.set(x,_);const q=r.crc16.checksum(B.slice(0,R));return new DataView(B.buffer).setUint16(R,q,!0),a.base32.encode(B)}static _decode(s){if(s.byteLength<4)throw new e.NKeysError(e.NKeysErrorCode.InvalidEncoding);let g;try{g=a.base32.decode(s)}catch(A){throw new e.NKeysError(e.NKeysErrorCode.InvalidEncoding,A)}const x=g.byteLength-2,S=new DataView(g.buffer).getUint16(x,!0),y=g.slice(0,x);if(!r.crc16.validate(y,S))throw new e.NKeysError(e.NKeysErrorCode.InvalidChecksum);return y}static _encodePrefix(s,g){const x=s|g>>5,_=(g&31)<<3;return new Uint8Array([x,_])}static _decodePrefix(s){const g=s[0]&248,x=(s[0]&7)<<5|(s[1]&248)>>3;return new Uint8Array([g,x])}}return codec.Codec=u,codec}var hasRequiredKp;function requireKp(){if(hasRequiredKp)return kp;hasRequiredKp=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.KP=void 0;const r=requireCodec(),e=requireNkeys(),a=helper$1;class u{constructor(s){this.seed=s}getRawSeed(){if(!this.seed)throw new e.NKeysError(e.NKeysErrorCode.ClearedPair);return r.Codec.decodeSeed(this.seed).buf}getSeed(){if(!this.seed)throw new e.NKeysError(e.NKeysErrorCode.ClearedPair);return this.seed}getPublicKey(){if(!this.seed)throw new e.NKeysError(e.NKeysErrorCode.ClearedPair);const s=r.Codec.decodeSeed(this.seed),g=(0,a.getEd25519Helper)().fromSeed(this.getRawSeed()),x=r.Codec.encode(s.prefix,g.publicKey);return new TextDecoder().decode(x)}getPrivateKey(){if(!this.seed)throw new e.NKeysError(e.NKeysErrorCode.ClearedPair);const s=(0,a.getEd25519Helper)().fromSeed(this.getRawSeed());return r.Codec.encode(e.Prefix.Private,s.secretKey)}sign(s){if(!this.seed)throw new e.NKeysError(e.NKeysErrorCode.ClearedPair);const g=(0,a.getEd25519Helper)().fromSeed(this.getRawSeed());return(0,a.getEd25519Helper)().sign(s,g.secretKey)}verify(s,g){if(!this.seed)throw new e.NKeysError(e.NKeysErrorCode.ClearedPair);const x=(0,a.getEd25519Helper)().fromSeed(this.getRawSeed());return(0,a.getEd25519Helper)().verify(s,g,x.publicKey)}clear(){this.seed&&(this.seed.fill(0),this.seed=void 0)}seal(s,g,x){throw new e.NKeysError(e.NKeysErrorCode.InvalidNKeyOperation)}open(s,g){throw new e.NKeysError(e.NKeysErrorCode.InvalidNKeyOperation)}}return kp.KP=u,kp}var _public={},hasRequired_public;function require_public(){if(hasRequired_public)return _public;hasRequired_public=1,Object.defineProperty(_public,"__esModule",{value:!0}),_public.PublicKey=void 0;const r=requireCodec(),e=requireNkeys(),a=helper$1;class u{constructor(s){this.publicKey=s}getPublicKey(){if(!this.publicKey)throw new e.NKeysError(e.NKeysErrorCode.ClearedPair);return new TextDecoder().decode(this.publicKey)}getPrivateKey(){throw this.publicKey?new e.NKeysError(e.NKeysErrorCode.PublicKeyOnly):new e.NKeysError(e.NKeysErrorCode.ClearedPair)}getSeed(){throw this.publicKey?new e.NKeysError(e.NKeysErrorCode.PublicKeyOnly):new e.NKeysError(e.NKeysErrorCode.ClearedPair)}sign(s){throw this.publicKey?new e.NKeysError(e.NKeysErrorCode.CannotSign):new e.NKeysError(e.NKeysErrorCode.ClearedPair)}verify(s,g){if(!this.publicKey)throw new e.NKeysError(e.NKeysErrorCode.ClearedPair);let x=r.Codec._decode(this.publicKey);return(0,a.getEd25519Helper)().verify(s,g,x.slice(1))}clear(){this.publicKey&&(this.publicKey.fill(0),this.publicKey=void 0)}seal(s,g,x){throw new e.NKeysError(e.NKeysErrorCode.InvalidNKeyOperation)}open(s,g){throw new e.NKeysError(e.NKeysErrorCode.InvalidNKeyOperation)}}return _public.PublicKey=u,_public}var curve={},hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.CurveKP=r.curveNonceLen=r.curveKeyLen=void 0;const e=requireNkeys(),a=helper$1,u=requireCodec(),d=requireMod(),s=base32$1,g=crc16$1;r.curveKeyLen=32;const x=35;r.curveNonceLen=24;const _=[120,107,118,49];class S{constructor(A){this.seed=A}clear(){this.seed&&(this.seed.fill(0),this.seed=void 0)}getPrivateKey(){if(!this.seed)throw new e.NKeysError(e.NKeysErrorCode.ClearedPair);return u.Codec.encode(d.Prefix.Private,this.seed)}getPublicKey(){if(!this.seed)throw new e.NKeysError(e.NKeysErrorCode.ClearedPair);const A=(0,a.getEd25519Helper)().scalarBaseMultiply(this.seed),R=u.Codec.encode(d.Prefix.Curve,A);return new TextDecoder().decode(R)}getSeed(){if(!this.seed)throw new e.NKeysError(e.NKeysErrorCode.ClearedPair);return u.Codec.encodeSeed(d.Prefix.Curve,this.seed)}sign(){throw new e.NKeysError(e.NKeysErrorCode.InvalidCurveOperation)}verify(){throw new e.NKeysError(e.NKeysErrorCode.InvalidCurveOperation)}decodePubCurveKey(A){try{const R=s.base32.decode(new TextEncoder().encode(A));if(R.byteLength!==x)throw new e.NKeysError(e.NKeysErrorCode.InvalidCurveKey);if(R[0]!==d.Prefix.Curve)throw new e.NKeysError(e.NKeysErrorCode.InvalidPublicKey);const B=R.byteLength-2,C=new DataView(R.buffer).getUint16(B,!0),N=R.slice(0,B);if(!g.crc16.validate(N,C))throw new e.NKeysError(e.NKeysErrorCode.InvalidChecksum);return N.slice(1)}catch(R){throw new e.NKeysError(e.NKeysErrorCode.InvalidRecipient,R)}}seal(A,R,B){if(!this.seed)throw new e.NKeysError(e.NKeysErrorCode.ClearedPair);B||(B=(0,a.getEd25519Helper)().randomBytes(r.curveNonceLen));let q=this.decodePubCurveKey(R);const C=new Uint8Array(_.length+r.curveNonceLen);C.set(_,0),C.set(B,_.length);const N=(0,a.getEd25519Helper)().seal(A,B,q,this.seed),k=new Uint8Array(C.length+N.length);return k.set(C),k.set(N,C.length),k}open(A,R){if(!this.seed)throw new e.NKeysError(e.NKeysErrorCode.ClearedPair);if(A.length<=r.curveNonceLen+_.length)throw new e.NKeysError(e.NKeysErrorCode.InvalidEncrypted);for(let C=0;C<_.length;C++)if(A[C]!==_[C])throw new e.NKeysError(e.NKeysErrorCode.InvalidEncrypted);const B=this.decodePubCurveKey(R);A=A.slice(_.length);const q=A.slice(0,r.curveNonceLen);return A=A.slice(r.curveNonceLen),(0,a.getEd25519Helper)().open(A,q,B,this.seed)}}r.CurveKP=S}(curve)),curve}var hasRequiredNkeys;function requireNkeys(){if(hasRequiredNkeys)return nkeys;hasRequiredNkeys=1,Object.defineProperty(nkeys,"__esModule",{value:!0}),nkeys.NKeysError=nkeys.NKeysErrorCode=nkeys.Prefixes=nkeys.Prefix=nkeys.fromSeed=nkeys.fromCurveSeed=nkeys.fromPublic=nkeys.createCurve=nkeys.createServer=nkeys.createCluster=nkeys.createUser=nkeys.createAccount=nkeys.createOperator=nkeys.createPair=void 0;const r=requireKp(),e=require_public(),a=requireCodec(),u=helper$1,d=requireCurve();function s(U){const j=U===C.Curve?d.curveKeyLen:32,ee=(0,u.getEd25519Helper)().randomBytes(j);let se=a.Codec.encodeSeed(U,new Uint8Array(ee));return U===C.Curve?new d.CurveKP(new Uint8Array(ee)):new r.KP(se)}nkeys.createPair=s;function g(){return s(C.Operator)}nkeys.createOperator=g;function x(){return s(C.Account)}nkeys.createAccount=x;function _(){return s(C.User)}nkeys.createUser=_;function S(){return s(C.Cluster)}nkeys.createCluster=S;function y(){return s(C.Server)}nkeys.createServer=y;function A(){return s(C.Curve)}nkeys.createCurve=A;function R(U){const j=new TextEncoder().encode(U),ee=a.Codec._decode(j),se=N.parsePrefix(ee[0]);if(N.isValidPublicPrefix(se))return new e.PublicKey(j);throw new L(k.InvalidPublicKey)}nkeys.fromPublic=R;function B(U){const j=a.Codec.decodeSeed(U);if(j.prefix!==C.Curve)throw new L(k.InvalidCurveSeed);if(j.buf.byteLength!==d.curveKeyLen)throw new L(k.InvalidSeedLen);return new d.CurveKP(j.buf)}nkeys.fromCurveSeed=B;function q(U){return a.Codec.decodeSeed(U).prefix===C.Curve?B(U):new r.KP(U)}nkeys.fromSeed=q;var C;(function(U){U[U.Unknown=-1]="Unknown",U[U.Seed=144]="Seed",U[U.Private=120]="Private",U[U.Operator=112]="Operator",U[U.Server=104]="Server",U[U.Cluster=16]="Cluster",U[U.Account=0]="Account",U[U.User=160]="User",U[U.Curve=184]="Curve"})(C||(nkeys.Prefix=C={}));class N{static isValidPublicPrefix(j){return j==C.Server||j==C.Operator||j==C.Cluster||j==C.Account||j==C.User||j==C.Curve}static startsWithValidPrefix(j){let ee=j[0];return ee=="S"||ee=="P"||ee=="O"||ee=="N"||ee=="C"||ee=="A"||ee=="U"||ee=="X"}static isValidPrefix(j){return this.parsePrefix(j)!==C.Unknown}static parsePrefix(j){switch(j){case C.Seed:return C.Seed;case C.Private:return C.Private;case C.Operator:return C.Operator;case C.Server:return C.Server;case C.Cluster:return C.Cluster;case C.Account:return C.Account;case C.User:return C.User;case C.Curve:return C.Curve;default:return C.Unknown}}}nkeys.Prefixes=N;var k;(function(U){U.InvalidPrefixByte="nkeys: invalid prefix byte",U.InvalidKey="nkeys: invalid key",U.InvalidPublicKey="nkeys: invalid public key",U.InvalidSeedLen="nkeys: invalid seed length",U.InvalidSeed="nkeys: invalid seed",U.InvalidCurveSeed="nkeys: invalid curve seed",U.InvalidCurveKey="nkeys: not a valid curve key",U.InvalidCurveOperation="nkeys: curve key is not valid for sign/verify",U.InvalidNKeyOperation="keys: only curve key can seal/open",U.InvalidEncoding="nkeys: invalid encoded key",U.InvalidRecipient="nkeys: not a valid recipient public curve key",U.InvalidEncrypted="nkeys: encrypted input is not valid",U.CannotSign="nkeys: cannot sign, no private key available",U.PublicKeyOnly="nkeys: no seed or private key available",U.InvalidChecksum="nkeys: invalid checksum",U.SerializationError="nkeys: serialization error",U.ApiError="nkeys: api error",U.ClearedPair="nkeys: pair is cleared"})(k||(nkeys.NKeysErrorCode=k={}));class L extends Error{constructor(j,ee){super(j),this.name="NKeysError",this.code=j,this.chainedError=ee}}return nkeys.NKeysError=L,nkeys}var util={};Object.defineProperty(util,"__esModule",{value:!0});util.dump=util.decode=util.encode=void 0;function encode(r){return btoa(String.fromCharCode(...r))}util.encode=encode;function decode(r){const e=atob(r),a=new Uint8Array(e.length);for(let u=0;u<e.length;u++)a[u]=e.charCodeAt(u);return a}util.decode=decode;function dump(r,e){e&&console.log(e);let a=[];for(let u=0;u<r.byteLength;u++){u%8===0&&a.push(`
`);let d=r[u].toString(16);d.length===1&&(d="0"+d),a.push(d)}console.log(a.join("  "))}util.dump=dump;var hasRequiredMod;function requireMod(){return hasRequiredMod||(hasRequiredMod=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.encode=r.decode=r.Prefix=r.NKeysErrorCode=r.NKeysError=r.fromSeed=r.fromPublic=r.fromCurveSeed=r.createUser=r.createServer=r.createPair=r.createOperator=r.createCurve=r.createCluster=r.createAccount=void 0;var e=requireNkeys();Object.defineProperty(r,"createAccount",{enumerable:!0,get:function(){return e.createAccount}}),Object.defineProperty(r,"createCluster",{enumerable:!0,get:function(){return e.createCluster}}),Object.defineProperty(r,"createCurve",{enumerable:!0,get:function(){return e.createCurve}}),Object.defineProperty(r,"createOperator",{enumerable:!0,get:function(){return e.createOperator}}),Object.defineProperty(r,"createPair",{enumerable:!0,get:function(){return e.createPair}}),Object.defineProperty(r,"createServer",{enumerable:!0,get:function(){return e.createServer}}),Object.defineProperty(r,"createUser",{enumerable:!0,get:function(){return e.createUser}}),Object.defineProperty(r,"fromCurveSeed",{enumerable:!0,get:function(){return e.fromCurveSeed}}),Object.defineProperty(r,"fromPublic",{enumerable:!0,get:function(){return e.fromPublic}}),Object.defineProperty(r,"fromSeed",{enumerable:!0,get:function(){return e.fromSeed}}),Object.defineProperty(r,"NKeysError",{enumerable:!0,get:function(){return e.NKeysError}}),Object.defineProperty(r,"NKeysErrorCode",{enumerable:!0,get:function(){return e.NKeysErrorCode}}),Object.defineProperty(r,"Prefix",{enumerable:!0,get:function(){return e.Prefix}});var a=util;Object.defineProperty(r,"decode",{enumerable:!0,get:function(){return a.decode}}),Object.defineProperty(r,"encode",{enumerable:!0,get:function(){return a.encode}})}(mod)),mod}(function(r){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,x,_,S){S===void 0&&(S=_);var y=Object.getOwnPropertyDescriptor(x,_);(!y||("get"in y?!x.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return x[_]}}),Object.defineProperty(g,S,y)}:function(g,x,_,S){S===void 0&&(S=_),g[S]=x[_]}),a=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,x){for(var _ in g)_!=="default"&&!Object.prototype.hasOwnProperty.call(x,_)&&e(x,g,_)};Object.defineProperty(r,"__esModule",{value:!0});const u=naclFastExports,d={randomBytes:u.randomBytes,verify:u.sign.detached.verify,fromSeed:u.sign.keyPair.fromSeed,sign:u.sign.detached,scalarBaseMultiply:u.scalarMult.base,seal:u.box,open:u.box.open};if(typeof TextEncoder>"u"){const g=requireUtil$1();commonjsGlobal.TextEncoder=g.TextEncoder,commonjsGlobal.TextDecoder=g.TextDecoder}typeof atob>"u"&&(commonjsGlobal.atob=g=>Buffer.from(g,"base64").toString("binary"),commonjsGlobal.btoa=g=>Buffer.from(g,"binary").toString("base64"));const{setEd25519Helper:s}=helper$1;s(d),a(requireMod(),r)})(lib);const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(r){return typeof r=="string"&&REGEX.test(r)}const byteToHex=[];for(let r=0;r<256;++r)byteToHex.push((r+256).toString(16).slice(1));function unsafeStringify(r,e=0){return byteToHex[r[e+0]]+byteToHex[r[e+1]]+byteToHex[r[e+2]]+byteToHex[r[e+3]]+"-"+byteToHex[r[e+4]]+byteToHex[r[e+5]]+"-"+byteToHex[r[e+6]]+byteToHex[r[e+7]]+"-"+byteToHex[r[e+8]]+byteToHex[r[e+9]]+"-"+byteToHex[r[e+10]]+byteToHex[r[e+11]]+byteToHex[r[e+12]]+byteToHex[r[e+13]]+byteToHex[r[e+14]]+byteToHex[r[e+15]]}function parse(r){if(!validate(r))throw TypeError("Invalid UUID");let e;const a=new Uint8Array(16);return a[0]=(e=parseInt(r.slice(0,8),16))>>>24,a[1]=e>>>16&255,a[2]=e>>>8&255,a[3]=e&255,a[4]=(e=parseInt(r.slice(9,13),16))>>>8,a[5]=e&255,a[6]=(e=parseInt(r.slice(14,18),16))>>>8,a[7]=e&255,a[8]=(e=parseInt(r.slice(19,23),16))>>>8,a[9]=e&255,a[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,a[11]=e/4294967296&255,a[12]=e>>>24&255,a[13]=e>>>16&255,a[14]=e>>>8&255,a[15]=e&255,a}function stringToBytes(r){r=unescape(encodeURIComponent(r));const e=[];for(let a=0;a<r.length;++a)e.push(r.charCodeAt(a));return e}const DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(r,e,a){function u(d,s,g,x){var _;if(typeof d=="string"&&(d=stringToBytes(d)),typeof s=="string"&&(s=parse(s)),((_=s)===null||_===void 0?void 0:_.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let S=new Uint8Array(16+d.length);if(S.set(s),S.set(d,s.length),S=a(S),S[6]=S[6]&15|e,S[8]=S[8]&63|128,g){x=x||0;for(let y=0;y<16;++y)g[x+y]=S[y];return g}return unsafeStringify(S)}try{u.name=r}catch{}return u.DNS=DNS,u.URL=URL$1,u}function f(r,e,a,u){switch(r){case 0:return e&a^~e&u;case 1:return e^a^u;case 2:return e&a^e&u^a&u;case 3:return e^a^u}}function ROTL(r,e){return r<<e|r>>>32-e}function sha1(r){const e=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){const g=unescape(encodeURIComponent(r));r=[];for(let x=0;x<g.length;++x)r.push(g.charCodeAt(x))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);const u=r.length/4+2,d=Math.ceil(u/16),s=new Array(d);for(let g=0;g<d;++g){const x=new Uint32Array(16);for(let _=0;_<16;++_)x[_]=r[g*64+_*4]<<24|r[g*64+_*4+1]<<16|r[g*64+_*4+2]<<8|r[g*64+_*4+3];s[g]=x}s[d-1][14]=(r.length-1)*8/Math.pow(2,32),s[d-1][14]=Math.floor(s[d-1][14]),s[d-1][15]=(r.length-1)*8&4294967295;for(let g=0;g<d;++g){const x=new Uint32Array(80);for(let B=0;B<16;++B)x[B]=s[g][B];for(let B=16;B<80;++B)x[B]=ROTL(x[B-3]^x[B-8]^x[B-14]^x[B-16],1);let _=a[0],S=a[1],y=a[2],A=a[3],R=a[4];for(let B=0;B<80;++B){const q=Math.floor(B/20),C=ROTL(_,5)+f(q,S,y,A)+R+e[q]+x[B]>>>0;R=A,A=y,y=ROTL(S,30)>>>0,S=_,_=C}a[0]=a[0]+_>>>0,a[1]=a[1]+S>>>0,a[2]=a[2]+y>>>0,a[3]=a[3]+A>>>0,a[4]=a[4]+R>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,a[0]&255,a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,a[1]&255,a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,a[2]&255,a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,a[3]&255,a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,a[4]&255]}const v5=v35("v5",80,sha1);function generateUserNKeys(){const r=lib.createUser(),e=r.getPublicKey(),a=new TextDecoder().decode(r.getSeed());return{publicKey:e,seed:a}}function getNKeysFromSeed(r){return lib.fromSeed(Buffer.from(r))}const dappJwtExpirationHours=2;function generateUserJwt({userSeed:r,accessToken:e}){const a=getNKeysFromSeed(r),u=getNKeysFromSeed(e),d={jti:getJti(),iat:getIat(),exp:getExp(),iss:u.getPublicKey(),name:"developer",sub:a.getPublicKey(),nats:getNatsConfig()};return signJwt(d,u)}function getExp(){return Math.round(addHours(new Date,dappJwtExpirationHours).getTime()/1e3)}function getJti(){return v5(location.origin,v5.URL).toString()}function getIat(){return Math.round(Date.now()/1e3)}function signJwt(r,e){const a={typ:"JWT",alg:"ed25519-nkey"},u=base64url.encode(JSON.stringify(a))+"."+base64url.encode(JSON.stringify(r)),d=base64url.encode(Buffer.from(e.sign(Buffer.from(u))));return u+"."+d}function getNatsConfig(){return{pub:{},sub:{},subs:-1,data:-1,payload:-1,type:"user",version:2}}function computeJwt(r,e){return`-----BEGIN NATS USER JWT-----
  ${r}
  ------END NATS USER JWT------
  
  ************************* IMPORTANT *************************
  NKEY Seed printed below can be used to sign and prove identity.
  NKEYs are sensitive and should be treated as secrets.
  
  -----BEGIN USER NKEY SEED-----
  ${e}
  ------END USER NKEY SEED------
  
  *************************************************************`}function createSubscriberJwt(r){const{seed:e}=generateUserNKeys(),a=generateUserJwt({userSeed:e,accessToken:r});return computeJwt(a,e)}async function connect(r){const{accessToken:e}=r,a=createSubscriberJwt(e),u={servers:r.url,authenticator:createAuthenticator(a)},d=await connect$1(u);return{disconnect:()=>d.close(),subscribe:s=>subscribe(s,d)}}const useStreamStore=defineStore("stream",{state:()=>({activeStream:null}),getters:{getActiveStream:r=>r.activeStream},actions:{setActiveStream(r){this.activeStream=r}}}),MIME_CODEC='video/mp4; codecs="avc1.64001f"',isNewInitStream=r=>String.fromCharCode(r.getUint8(4),r.getUint8(5),r.getUint8(6),r.getUint8(7))==="ftyp",initMediaSource=async r=>{let e;const a=new MediaSource;return a.addEventListener("sourceopen",()=>{console.log("sourceopen");try{e=a.addSourceBuffer(MIME_CODEC),r(e),e.addEventListener("updatestart",()=>{console.log("sourceBuffer.updatestart")}),e.addEventListener("updateend",()=>{console.log("sourceBuffer.updateend")}),e.addEventListener("error",u=>{console.log("sourceBuffer.error",u)})}catch(u){console.error("Error creating source buffer:",u)}}),a},getObjectFromBuffer=r=>{const e=new Uint8Array(r),u=new TextDecoder("utf-8").decode(e);return JSON.parse(u)},LIVE_STREAMS="laimonas.purrflix-publisher.live",_sfc_main$3={setup(){const r=ref$1([]),e=useStreamStore(),a=useUserStore(),{getAccessToken:u,getServerUrl:d}=storeToRefs(a),s=_=>{e.setActiveStream(_)},g=()=>{console.log("handleOnError")},x=async _=>{const y=_[0].data,A=getObjectFromBuffer(y),R=r.value.findIndex(({subjectName:q})=>q===A.subjectName);R<0?r.value.push(A):r.value[R]=A};return onMounted(async()=>{if(d.value&&u.value)try{(await connect({url:d.value,accessToken:u.value})).subscribe({subject:LIVE_STREAMS,onError:g,onMessages:x})}catch(_){console.log(_)}}),{liveStreams:r,handleOnClickItem:s}}},_withScopeId$1=r=>(pushScopeId("data-v-34b27b8b"),r=r(),popScopeId(),r),_hoisted_1$1=_withScopeId$1(()=>createBaseVNode("div",null,[createBaseVNode("h3",null,"Active streams")],-1)),_hoisted_2$1={class:"listContainer"},_hoisted_3$1=["onClick"];function _sfc_render$3(r,e,a,u,d,s){return openBlock(),createElementBlock("div",null,[_hoisted_1$1,createBaseVNode("div",_hoisted_2$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.liveStreams,g=>(openBlock(),createElementBlock("div",{class:"listItem",onClick:x=>u.handleOnClickItem(g)},[createBaseVNode("h4",null,toDisplayString(g.subjectName),1),createBaseVNode("div",null,toDisplayString(g),1)],8,_hoisted_3$1))),256))])])}const SideBar=_export_sfc(_sfc_main$3,[["render",_sfc_render$3],["__scopeId","data-v-34b27b8b"]]),_sfc_main$2={components:{SideBar},setup(){const r=ref$1(null),e=ref$1(null),a=ref$1(null),u=useUserStore(),{getAccessToken:d,getServerUrl:s}=storeToRefs(u),g=useStreamStore(),{getActiveStream:x}=storeToRefs(g),_=()=>{console.log("handleOnError")},S=async A=>{const B=A[0].data,q=new DataView(B);if(isNewInitStream(q)){if(!MediaSource.isTypeSupported(MIME_CODEC))throw new Error("Unsupported mime codec");if(r.value===null)return;const N=await initMediaSource(k=>{a.value=k,k.appendBuffer(B)});r.value.src=URL.createObjectURL(N)}else{const N=a.value;N&&N.appendBuffer(B)}},y=async A=>{if(r.value&&s.value&&d.value){e.value&&e.value.disconnect();try{e.value=await connect({url:s.value,accessToken:d.value}),e.value.subscribe({subject:A,onError:_,onMessages:S})}catch(B){console.log(B)}}};return watch(x,A=>{A&&y(A.subjectName)}),{videoRef:r,activeStream:x}}},_withScopeId=r=>(pushScopeId("data-v-e852f2be"),r=r(),popScopeId(),r),_hoisted_1={class:"pageContainer"},_hoisted_2=_withScopeId(()=>createBaseVNode("div",{class:"pageHeaderContainer"},[createBaseVNode("div",{class:"pageHeaderContentContainer"},[createBaseVNode("h1",null,"PurrFlix")])],-1)),_hoisted_3={class:"pageContentContainer"},_hoisted_4={class:"mainContent"},_hoisted_5={ref:"videoRef",class:"videoPlayer",muted:"",autoPlay:"",controls:""},_hoisted_6={key:0},_hoisted_7={key:1},_hoisted_8={class:"sideContent"};function _sfc_render$2(r,e,a,u,d,s){const g=resolveComponent("side-bar");return openBlock(),createElementBlock("div",_hoisted_1,[_hoisted_2,createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createBaseVNode("div",null,[createBaseVNode("video",_hoisted_5,null,512)]),createBaseVNode("div",null,[u.activeStream?(openBlock(),createElementBlock("div",_hoisted_6,[createBaseVNode("h2",null,toDisplayString(u.activeStream.subjectName),1),createBaseVNode("div",null,toDisplayString(u.activeStream),1)])):(openBlock(),createElementBlock("h2",_hoisted_7,"Pick a stream from the list of live streams"))])]),createBaseVNode("div",_hoisted_8,[createVNode(g)])])])}const VideoPage=_export_sfc(_sfc_main$2,[["render",_sfc_render$2],["__scopeId","data-v-e852f2be"]]),routes=[{path:"/",component:HomePage},{path:"/video",component:VideoPage,meta:{requiresAuth:!0}}],router=createRouter({history:createWebHistory(),routes});router.beforeEach(function(r,e,a){const u=useUserStore();r.path==="/video"&&(!u.getAccessToken||!u.getServerUrl)?a("/"):a()});const _sfc_main$1={};function _sfc_render$1(r,e){const a=resolveComponent("router-view");return openBlock(),createBlock(a)}const App=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main={};function _sfc_render(r,e){return openBlock(),createElementBlock("div",null,[renderSlot(r.$slots,"default",{},void 0)])}const BasePageContainer=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-ddc411b2"]]),app=createApp(App),store=createPinia();app.use(router);app.use(store);app.component("BasePageContainer",BasePageContainer);app.mount("#app")});export default Ut();
